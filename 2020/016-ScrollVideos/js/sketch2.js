// Generated by CoffeeScript 2.4.1
var Button, SCALE, VERSION, buttons, cx, cy, draw, msg0, setup, startX, startY, touchEnded, touchStarted;

VERSION = 12;

SCALE = 1;

cx = 0;

cy = 0;

msg0 = VERSION;

buttons = [];

startX = 0;

startY = 0;

Button = class Button {
  constructor(prompt, x1, y1, click) {
    this.prompt = prompt;
    this.x = x1;
    this.y = y1;
    this.click = click;
    this.r = 50;
  }

  draw() {
    circle(this.x, this.y, this.r);
    return text(this.prompt, this.x, this.y);
  }

  inside(x, y) {
    return this.r > dist(x, y, this.x, this.y);
  }

};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  textAlign(CENTER, CENTER);
  textSize(50);
  cx = width / 2;
  return cy = height / 2;
};

draw = function() {
  var button, i, len;
  background("#888");
  push();
  translate(cx, cy);
  scale(SCALE);
  circle(0, 0, 100);
  pop();
  for (i = 0, len = buttons.length; i < len; i++) {
    button = buttons[i];
    button.draw();
  }
  return text(msg0, width / 2, height / 2);
};

touchStarted = function(event) {
  event.preventDefault();
  startX = mouseX;
  startY = mouseY;
  return false;
};

touchEnded = function(event) {
  var button, i, len;
  event.preventDefault();
  for (i = 0, len = buttons.length; i < len; i++) {
    button = buttons[i];
    if (button.inside(mouseX, mouseY)) {
      return button.click();
    }
  }
  if (startX === mouseX && startY === mouseY) {
    buttons = [];
    buttons.push(new Button('+', 50, 50, function() {
      SCALE *= 1.5;
      return buttons = [];
    }));
    buttons.push(new Button('-', 150, 50, function() {
      SCALE /= 1.5;
      return buttons = [];
    }));
  }
  cx += mouseX - startX;
  cy += mouseY - startY;
  startX = 0;
  startY = 0;
  return false;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoMi5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxza2V0Y2gyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQTs7QUFBQSxPQUFBLEdBQVU7O0FBRVYsS0FBQSxHQUFROztBQUNSLEVBQUEsR0FBSzs7QUFDTCxFQUFBLEdBQUs7O0FBQ0wsSUFBQSxHQUFPOztBQUNQLE9BQUEsR0FBVTs7QUFDVixNQUFBLEdBQVM7O0FBQ1QsTUFBQSxHQUFTOztBQUVILFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxPQUFBLElBQUEsSUFBQSxPQUFBLENBQUE7SUFBQyxJQUFDLENBQUE7SUFBTyxJQUFDLENBQUE7SUFBRSxJQUFDLENBQUE7SUFBRSxJQUFDLENBQUE7SUFBVSxJQUFDLENBQUEsQ0FBRCxHQUFHO0VBQTdCOztFQUNkLElBQU8sQ0FBQSxDQUFBO0lBQ04sTUFBQSxDQUFPLElBQUMsQ0FBQSxDQUFSLEVBQVUsSUFBQyxDQUFBLENBQVgsRUFBYSxJQUFDLENBQUEsQ0FBZDtXQUNBLElBQUEsQ0FBSyxJQUFDLENBQUEsTUFBTixFQUFhLElBQUMsQ0FBQSxDQUFkLEVBQWdCLElBQUMsQ0FBQSxDQUFqQjtFQUZNOztFQUdQLE1BQVMsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBO1dBQVMsSUFBQyxDQUFBLENBQUQsR0FBSyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxJQUFDLENBQUEsQ0FBVixFQUFZLElBQUMsQ0FBQSxDQUFiO0VBQWQ7O0FBTFY7O0FBT0EsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0VBQ1AsWUFBQSxDQUFhLFdBQWIsRUFBeUIsWUFBekI7RUFDQSxTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtFQUNBLFFBQUEsQ0FBUyxFQUFUO0VBQ0EsRUFBQSxHQUFLLEtBQUEsR0FBTTtTQUNYLEVBQUEsR0FBSyxNQUFBLEdBQU87QUFMTDs7QUFPUixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDTixNQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUE7RUFBQSxVQUFBLENBQVcsTUFBWDtFQUNBLElBQUEsQ0FBQTtFQUNBLFNBQUEsQ0FBVSxFQUFWLEVBQWEsRUFBYjtFQUNBLEtBQUEsQ0FBTSxLQUFOO0VBQ0EsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsR0FBWDtFQUNBLEdBQUEsQ0FBQTtFQUNBLEtBQUEseUNBQUE7O0lBQ0MsTUFBTSxDQUFDLElBQVAsQ0FBQTtFQUREO1NBRUEsSUFBQSxDQUFLLElBQUwsRUFBVSxLQUFBLEdBQU0sQ0FBaEIsRUFBa0IsTUFBQSxHQUFPLENBQXpCO0FBVE07O0FBV1AsWUFBQSxHQUFlLFFBQUEsQ0FBQyxLQUFELENBQUE7RUFDZCxLQUFLLENBQUMsY0FBTixDQUFBO0VBQ0EsTUFBQSxHQUFTO0VBQ1QsTUFBQSxHQUFTO1NBQ1Q7QUFKYzs7QUFNZixVQUFBLEdBQWEsUUFBQSxDQUFDLEtBQUQsQ0FBQTtBQUNaLE1BQUEsTUFBQSxFQUFBLENBQUEsRUFBQTtFQUFBLEtBQUssQ0FBQyxjQUFOLENBQUE7RUFDQSxLQUFBLHlDQUFBOztJQUNDLElBQUcsTUFBTSxDQUFDLE1BQVAsQ0FBYyxNQUFkLEVBQXFCLE1BQXJCLENBQUg7QUFBb0MsYUFBTyxNQUFNLENBQUMsS0FBUCxDQUFBLEVBQTNDOztFQUREO0VBRUEsSUFBRyxNQUFBLEtBQVUsTUFBVixJQUFxQixNQUFBLEtBQVUsTUFBbEM7SUFDQyxPQUFBLEdBQVU7SUFDVixPQUFPLENBQUMsSUFBUixDQUFhLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZSxFQUFmLEVBQWtCLEVBQWxCLEVBQXNCLFFBQUEsQ0FBQSxDQUFBO01BQ2xDLEtBQUEsSUFBUzthQUNULE9BQUEsR0FBVTtJQUZ3QixDQUF0QixDQUFiO0lBR0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWUsR0FBZixFQUFtQixFQUFuQixFQUF1QixRQUFBLENBQUEsQ0FBQTtNQUNuQyxLQUFBLElBQVM7YUFDVCxPQUFBLEdBQVU7SUFGeUIsQ0FBdkIsQ0FBYixFQUxEOztFQVFBLEVBQUEsSUFBTSxNQUFBLEdBQU87RUFDYixFQUFBLElBQU0sTUFBQSxHQUFPO0VBQ2IsTUFBQSxHQUFTO0VBQ1QsTUFBQSxHQUFTO1NBQ1Q7QUFoQlkiLCJzb3VyY2VzQ29udGVudCI6WyJWRVJTSU9OID0gMTJcclxuXHJcblNDQUxFID0gMVxyXG5jeCA9IDBcclxuY3kgPSAwXHJcbm1zZzAgPSBWRVJTSU9OXHJcbmJ1dHRvbnMgPSBbXVxyXG5zdGFydFggPSAwXHJcbnN0YXJ0WSA9IDAgXHJcblxyXG5jbGFzcyBCdXR0b25cclxuXHRjb25zdHJ1Y3RvciA6IChAcHJvbXB0LEB4LEB5LEBjbGljaykgLT4gQHI9NTBcclxuXHRkcmF3IDogLT5cclxuXHRcdGNpcmNsZSBAeCxAeSxAclxyXG5cdFx0dGV4dCBAcHJvbXB0LEB4LEB5XHJcblx0aW5zaWRlIDogKHgseSkgLT4gQHIgPiBkaXN0IHgseSxAeCxAeVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHRcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHRleHRTaXplIDUwXHJcblx0Y3ggPSB3aWR0aC8yXHJcblx0Y3kgPSBoZWlnaHQvMlxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmFja2dyb3VuZCBcIiM4ODhcIlxyXG5cdHB1c2goKVxyXG5cdHRyYW5zbGF0ZSBjeCxjeVxyXG5cdHNjYWxlIFNDQUxFXHJcblx0Y2lyY2xlIDAsMCwxMDBcclxuXHRwb3AoKVxyXG5cdGZvciBidXR0b24gaW4gYnV0dG9uc1xyXG5cdFx0YnV0dG9uLmRyYXcoKVxyXG5cdHRleHQgbXNnMCx3aWR0aC8yLGhlaWdodC8yXHJcblxyXG50b3VjaFN0YXJ0ZWQgPSAoZXZlbnQpIC0+XHJcblx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cdHN0YXJ0WCA9IG1vdXNlWFxyXG5cdHN0YXJ0WSA9IG1vdXNlWVxyXG5cdGZhbHNlXHJcblxyXG50b3VjaEVuZGVkID0gKGV2ZW50KSAtPlxyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuXHRmb3IgYnV0dG9uIGluIGJ1dHRvbnNcclxuXHRcdGlmIGJ1dHRvbi5pbnNpZGUgbW91c2VYLG1vdXNlWSB0aGVuIHJldHVybiBidXR0b24uY2xpY2soKVxyXG5cdGlmIHN0YXJ0WCA9PSBtb3VzZVggYW5kIHN0YXJ0WSA9PSBtb3VzZVlcclxuXHRcdGJ1dHRvbnMgPSBbXVxyXG5cdFx0YnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gJysnLDUwLDUwLCAtPlxyXG5cdFx0XHRTQ0FMRSAqPSAxLjVcclxuXHRcdFx0YnV0dG9ucyA9IFtdXHJcblx0XHRidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAnLScsMTUwLDUwLCAtPlxyXG5cdFx0XHRTQ0FMRSAvPSAxLjVcclxuXHRcdFx0YnV0dG9ucyA9IFtdXHJcblx0Y3ggKz0gbW91c2VYLXN0YXJ0WFxyXG5cdGN5ICs9IG1vdXNlWS1zdGFydFlcclxuXHRzdGFydFggPSAwXHJcblx0c3RhcnRZID0gMFxyXG5cdGZhbHNlXHJcbiJdfQ==
//# sourceURL=c:\Lab\2020\015-ZoomPan\coffee\sketch2.coffee