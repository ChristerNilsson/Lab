// Generated by CoffeeScript 2.4.1
var Button, SCALE, VERSION, bakgrund, buttons, cx, cy, draw, msg0, msg1, msg2, setup, startX, startY, touchEnded, touchStarted;

VERSION = 11;

bakgrund = '#888';

SCALE = 1;

cx = 0;

cy = 0;

msg0 = VERSION;

msg1 = "";

msg2 = "";

buttons = [];

startX = 0;

startY = 0;

Button = class Button {
  constructor(prompt, x1, y1, click) {
    this.prompt = prompt;
    this.x = x1;
    this.y = y1;
    this.click = click;
    this.r = 50;
  }

  draw() {
    circle(this.x, this.y, this.r);
    return text(this.prompt, this.x, this.y);
  }

  inside(x, y) {
    return this.r > dist(x, y, this.x, this.y);
  }

};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  textAlign(CENTER, CENTER);
  textSize(50);
  cx = width / 2;
  cy = height / 2;
  buttons.push(new Button('+', 50, 50, function() {
    return SCALE *= 1.5;
  }));
  return buttons.push(new Button('-', 150, 50, function() {
    return SCALE /= 1.5;
  }));
};

draw = function() {
  var button, i, len;
  background(bakgrund);
  push();
  translate(cx, cy);
  scale(SCALE);
  circle(0, 0, 100);
  pop();
  for (i = 0, len = buttons.length; i < len; i++) {
    button = buttons[i];
    button.draw();
  }
  text(msg0, width / 2, height / 2);
  text(SCALE, width / 2, height / 2 + 100);
  return text(msg2, width / 2, height / 2 + 200);
};

touchStarted = function(event) {
  event.preventDefault();
  startX = mouseX;
  startY = mouseY;
  return msg0 = `started ${SCALE}`;
};

touchEnded = function(event) {
  var button, i, len;
  event.preventDefault();
  for (i = 0, len = buttons.length; i < len; i++) {
    button = buttons[i];
    if (button.inside(mouseX, mouseY)) {
      return button.click();
    }
  }
  cx += mouseX - startX;
  cy += mouseY - startY;
  startX = 0;
  startY = 0;
  return msg2 = `ended ${SCALE}`;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoMi5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxza2V0Y2gyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsTUFBQSxFQUFBLFVBQUEsRUFBQTs7QUFBQSxPQUFBLEdBQVU7O0FBQ1YsUUFBQSxHQUFXOztBQUNYLEtBQUEsR0FBUTs7QUFDUixFQUFBLEdBQUs7O0FBQ0wsRUFBQSxHQUFLOztBQUNMLElBQUEsR0FBTzs7QUFDUCxJQUFBLEdBQU87O0FBQ1AsSUFBQSxHQUFPOztBQUNQLE9BQUEsR0FBVTs7QUFDVixNQUFBLEdBQVM7O0FBQ1QsTUFBQSxHQUFTOztBQUVILFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxPQUFBLElBQUEsSUFBQSxPQUFBLENBQUE7SUFBQyxJQUFDLENBQUE7SUFBTyxJQUFDLENBQUE7SUFBRSxJQUFDLENBQUE7SUFBRSxJQUFDLENBQUE7SUFBVSxJQUFDLENBQUEsQ0FBRCxHQUFHO0VBQTdCOztFQUNkLElBQU8sQ0FBQSxDQUFBO0lBQ04sTUFBQSxDQUFPLElBQUMsQ0FBQSxDQUFSLEVBQVUsSUFBQyxDQUFBLENBQVgsRUFBYSxJQUFDLENBQUEsQ0FBZDtXQUNBLElBQUEsQ0FBSyxJQUFDLENBQUEsTUFBTixFQUFhLElBQUMsQ0FBQSxDQUFkLEVBQWdCLElBQUMsQ0FBQSxDQUFqQjtFQUZNOztFQUdQLE1BQVMsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBO1dBQVMsSUFBQyxDQUFBLENBQUQsR0FBSyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxJQUFDLENBQUEsQ0FBVixFQUFZLElBQUMsQ0FBQSxDQUFiO0VBQWQ7O0FBTFY7O0FBT0EsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0VBQ1AsWUFBQSxDQUFhLFdBQWIsRUFBeUIsWUFBekI7RUFDQSxTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtFQUNBLFFBQUEsQ0FBUyxFQUFUO0VBQ0EsRUFBQSxHQUFLLEtBQUEsR0FBTTtFQUNYLEVBQUEsR0FBSyxNQUFBLEdBQU87RUFDWixPQUFPLENBQUMsSUFBUixDQUFhLElBQUksTUFBSixDQUFXLEdBQVgsRUFBZSxFQUFmLEVBQWtCLEVBQWxCLEVBQXNCLFFBQUEsQ0FBQSxDQUFBO1dBQUcsS0FBQSxJQUFTO0VBQVosQ0FBdEIsQ0FBYjtTQUNBLE9BQU8sQ0FBQyxJQUFSLENBQWEsSUFBSSxNQUFKLENBQVcsR0FBWCxFQUFlLEdBQWYsRUFBbUIsRUFBbkIsRUFBdUIsUUFBQSxDQUFBLENBQUE7V0FBRyxLQUFBLElBQVM7RUFBWixDQUF2QixDQUFiO0FBUE87O0FBU1IsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ04sTUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUEsVUFBQSxDQUFXLFFBQVg7RUFDQSxJQUFBLENBQUE7RUFDQSxTQUFBLENBQVUsRUFBVixFQUFhLEVBQWI7RUFDQSxLQUFBLENBQU0sS0FBTjtFQUNBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLEdBQVg7RUFDQSxHQUFBLENBQUE7RUFDQSxLQUFBLHlDQUFBOztJQUNDLE1BQU0sQ0FBQyxJQUFQLENBQUE7RUFERDtFQUVBLElBQUEsQ0FBSyxJQUFMLEVBQVUsS0FBQSxHQUFNLENBQWhCLEVBQWtCLE1BQUEsR0FBTyxDQUF6QjtFQUNBLElBQUEsQ0FBSyxLQUFMLEVBQVcsS0FBQSxHQUFNLENBQWpCLEVBQW1CLE1BQUEsR0FBTyxDQUFQLEdBQVMsR0FBNUI7U0FDQSxJQUFBLENBQUssSUFBTCxFQUFVLEtBQUEsR0FBTSxDQUFoQixFQUFrQixNQUFBLEdBQU8sQ0FBUCxHQUFTLEdBQTNCO0FBWE07O0FBYVAsWUFBQSxHQUFlLFFBQUEsQ0FBQyxLQUFELENBQUE7RUFDZCxLQUFLLENBQUMsY0FBTixDQUFBO0VBQ0EsTUFBQSxHQUFTO0VBQ1QsTUFBQSxHQUFTO1NBQ1QsSUFBQSxHQUFPLENBQUEsUUFBQSxDQUFBLENBQVcsS0FBWCxDQUFBO0FBSk87O0FBTWYsVUFBQSxHQUFhLFFBQUEsQ0FBQyxLQUFELENBQUE7QUFDWixNQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUE7RUFBQSxLQUFLLENBQUMsY0FBTixDQUFBO0VBQ0EsS0FBQSx5Q0FBQTs7SUFDQyxJQUFHLE1BQU0sQ0FBQyxNQUFQLENBQWMsTUFBZCxFQUFxQixNQUFyQixDQUFIO0FBQW9DLGFBQU8sTUFBTSxDQUFDLEtBQVAsQ0FBQSxFQUEzQzs7RUFERDtFQUVBLEVBQUEsSUFBTSxNQUFBLEdBQU87RUFDYixFQUFBLElBQU0sTUFBQSxHQUFPO0VBQ2IsTUFBQSxHQUFTO0VBQ1QsTUFBQSxHQUFTO1NBQ1QsSUFBQSxHQUFPLENBQUEsTUFBQSxDQUFBLENBQVMsS0FBVCxDQUFBO0FBUksiLCJzb3VyY2VzQ29udGVudCI6WyJWRVJTSU9OID0gMTFcclxuYmFrZ3J1bmQgPSAnIzg4OCdcclxuU0NBTEUgPSAxXHJcbmN4ID0gMFxyXG5jeSA9IDBcclxubXNnMCA9IFZFUlNJT05cclxubXNnMSA9IFwiXCJcclxubXNnMiA9IFwiXCJcclxuYnV0dG9ucyA9IFtdXHJcbnN0YXJ0WCA9IDBcclxuc3RhcnRZID0gMCBcclxuXHJcbmNsYXNzIEJ1dHRvblxyXG5cdGNvbnN0cnVjdG9yIDogKEBwcm9tcHQsQHgsQHksQGNsaWNrKSAtPiBAcj01MFxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0Y2lyY2xlIEB4LEB5LEByXHJcblx0XHR0ZXh0IEBwcm9tcHQsQHgsQHlcclxuXHRpbnNpZGUgOiAoeCx5KSAtPiBAciA+IGRpc3QgeCx5LEB4LEB5XHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLHdpbmRvd0hlaWdodFxyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0dGV4dFNpemUgNTBcclxuXHRjeCA9IHdpZHRoLzJcclxuXHRjeSA9IGhlaWdodC8yXHJcblx0YnV0dG9ucy5wdXNoIG5ldyBCdXR0b24gJysnLDUwLDUwLCAtPiBTQ0FMRSAqPSAxLjVcclxuXHRidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiAnLScsMTUwLDUwLCAtPiBTQ0FMRSAvPSAxLjVcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJhY2tncm91bmQgYmFrZ3J1bmRcclxuXHRwdXNoKClcclxuXHR0cmFuc2xhdGUgY3gsY3lcclxuXHRzY2FsZSBTQ0FMRVxyXG5cdGNpcmNsZSAwLDAsMTAwXHJcblx0cG9wKClcclxuXHRmb3IgYnV0dG9uIGluIGJ1dHRvbnMgXHJcblx0XHRidXR0b24uZHJhdygpXHJcblx0dGV4dCBtc2cwLHdpZHRoLzIsaGVpZ2h0LzJcclxuXHR0ZXh0IFNDQUxFLHdpZHRoLzIsaGVpZ2h0LzIrMTAwXHJcblx0dGV4dCBtc2cyLHdpZHRoLzIsaGVpZ2h0LzIrMjAwXHJcblxyXG50b3VjaFN0YXJ0ZWQgPSAoZXZlbnQpIC0+XHJcblx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cdHN0YXJ0WCA9IG1vdXNlWFxyXG5cdHN0YXJ0WSA9IG1vdXNlWVxyXG5cdG1zZzAgPSBcInN0YXJ0ZWQgI3tTQ0FMRX1cIlxyXG5cclxudG91Y2hFbmRlZCA9IChldmVudCkgLT5cclxuXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblx0Zm9yIGJ1dHRvbiBpbiBidXR0b25zXHJcblx0XHRpZiBidXR0b24uaW5zaWRlIG1vdXNlWCxtb3VzZVkgdGhlbiByZXR1cm4gYnV0dG9uLmNsaWNrKClcclxuXHRjeCArPSBtb3VzZVgtc3RhcnRYXHJcblx0Y3kgKz0gbW91c2VZLXN0YXJ0WVxyXG5cdHN0YXJ0WCA9IDBcclxuXHRzdGFydFkgPSAwXHJcblx0bXNnMiA9IFwiZW5kZWQgI3tTQ0FMRX1cIlxyXG5cclxuIl19
//# sourceURL=c:\Lab\2020\015-ZoomPan\coffee\sketch2.coffee