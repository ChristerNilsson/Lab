// Generated by CoffeeScript 2.4.1
var Circle, SIZE, circles, draw, dx, dy, mouseDragged, mousePressed, mouseWheel, setup, zoomPan;

SIZE = 20;

circles = [];

dx = 0;

dy = 0;

zoomPan = [0, 0, 1];

Circle = class Circle {
  constructor(x1, y1, radius, col) {
    this.x = x1;
    this.y = y1;
    this.radius = radius;
    this.col = col;
  }

  draw() {
    var x, y, zoom;
    fill(this.col);
    [x, y, zoom] = zoomPan;
    return circle(x + this.x, y + this.y, zoom * this.radius);
  }

};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  circles.push(new Circle(100, 100, 100, '#f008'));
  circles.push(new Circle(200, 200, 150, '#ff08'));
  return textSize(SIZE);
};

draw = function() {
  var circle, i, len, results;
  bg(0.5);
  results = [];
  for (i = 0, len = circles.length; i < len; i++) {
    circle = circles[i];
    results.push(circle.draw());
  }
  return results;
};

//touchStarted = () -> msg 0,mouseX,mouseY,touches
//touchMoved =   () -> msg height/3,mouseX,mouseY,touches
//touchEnded =   () -> msg 2*height/3,mouseX,mouseY,touches
mousePressed = function() {
  dx = mouseX;
  return dy = mouseY;
};

mouseDragged = function() {
  if (mouseIsPressed) {
    zoomPan[0] += mouseX - dx;
    zoomPan[1] += mouseY - dy;
    dx = mouseX;
    return dy = mouseY;
  }
};

mouseWheel = function(event) {
  return zoomPan[2] += event.delta / 10000;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLFlBQUEsRUFBQSxVQUFBLEVBQUEsS0FBQSxFQUFBOztBQUFBLElBQUEsR0FBTzs7QUFDUCxPQUFBLEdBQVU7O0FBRVYsRUFBQSxHQUFLOztBQUNMLEVBQUEsR0FBSzs7QUFDTCxPQUFBLEdBQVUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUw7O0FBRUosU0FBTixNQUFBLE9BQUE7RUFDQyxXQUFjLEdBQUEsSUFBQSxRQUFBLEtBQUEsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFPLElBQUMsQ0FBQTtFQUFoQjs7RUFDZCxJQUFPLENBQUEsQ0FBQTtBQUNOLFFBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQTtJQUFBLElBQUEsQ0FBSyxJQUFDLENBQUEsR0FBTjtJQUNBLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxJQUFMLENBQUEsR0FBYTtXQUNiLE1BQUEsQ0FBTyxDQUFBLEdBQUUsSUFBQyxDQUFBLENBQVYsRUFBWSxDQUFBLEdBQUUsSUFBQyxDQUFBLENBQWYsRUFBaUIsSUFBQSxHQUFLLElBQUMsQ0FBQSxNQUF2QjtFQUhNOztBQUZSOztBQU9BLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLFlBQUEsQ0FBYSxXQUFiLEVBQXlCLFlBQXpCO0VBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWUsR0FBZixFQUFtQixHQUFuQixFQUF1QixPQUF2QixDQUFiO0VBQ0EsT0FBTyxDQUFDLElBQVIsQ0FBYSxJQUFJLE1BQUosQ0FBVyxHQUFYLEVBQWUsR0FBZixFQUFtQixHQUFuQixFQUF1QixPQUF2QixDQUFiO1NBQ0EsUUFBQSxDQUFTLElBQVQ7QUFKTzs7QUFNUixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDTixNQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsRUFBQSxDQUFHLEdBQUg7QUFDQTtFQUFBLEtBQUEseUNBQUE7O2lCQUNDLE1BQU0sQ0FBQyxJQUFQLENBQUE7RUFERCxDQUFBOztBQUZNLEVBcEJQOzs7OztBQTZCQSxZQUFBLEdBQWUsUUFBQSxDQUFBLENBQUE7RUFDZCxFQUFBLEdBQUs7U0FDTCxFQUFBLEdBQUs7QUFGUzs7QUFJZixZQUFBLEdBQWUsUUFBQSxDQUFBLENBQUE7RUFDZCxJQUFHLGNBQUg7SUFDQyxPQUFRLENBQUEsQ0FBQSxDQUFSLElBQWMsTUFBQSxHQUFPO0lBQ3JCLE9BQVEsQ0FBQSxDQUFBLENBQVIsSUFBYyxNQUFBLEdBQU87SUFDckIsRUFBQSxHQUFLO1dBQ0wsRUFBQSxHQUFLLE9BSk47O0FBRGM7O0FBT2YsVUFBQSxHQUFhLFFBQUEsQ0FBQyxLQUFELENBQUE7U0FDWixPQUFRLENBQUEsQ0FBQSxDQUFSLElBQWMsS0FBSyxDQUFDLEtBQU4sR0FBWTtBQURkIiwic291cmNlc0NvbnRlbnQiOlsiU0laRSA9IDIwXHJcbmNpcmNsZXMgPSBbXVxyXG5cclxuZHggPSAwXHJcbmR5ID0gMCBcclxuem9vbVBhbiA9IFswLDAsMV1cclxuXHJcbmNsYXNzIENpcmNsZSBcclxuXHRjb25zdHJ1Y3RvciA6IChAeCxAeSxAcmFkaXVzLEBjb2wpIC0+XHJcblx0ZHJhdyA6IC0+IFxyXG5cdFx0ZmlsbCBAY29sXHJcblx0XHRbeCx5LHpvb21dID0gem9vbVBhblxyXG5cdFx0Y2lyY2xlIHgrQHgseStAeSx6b29tKkByYWRpdXNcclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgd2luZG93V2lkdGgsd2luZG93SGVpZ2h0XHJcblx0Y2lyY2xlcy5wdXNoIG5ldyBDaXJjbGUgMTAwLDEwMCwxMDAsJyNmMDA4J1xyXG5cdGNpcmNsZXMucHVzaCBuZXcgQ2lyY2xlIDIwMCwyMDAsMTUwLCcjZmYwOCdcclxuXHR0ZXh0U2l6ZSBTSVpFXHJcblxyXG5kcmF3ID0gLT5cclxuXHRiZyAwLjVcclxuXHRmb3IgY2lyY2xlIGluIGNpcmNsZXNcclxuXHRcdGNpcmNsZS5kcmF3KClcclxuXHJcbiN0b3VjaFN0YXJ0ZWQgPSAoKSAtPiBtc2cgMCxtb3VzZVgsbW91c2VZLHRvdWNoZXNcclxuI3RvdWNoTW92ZWQgPSAgICgpIC0+IG1zZyBoZWlnaHQvMyxtb3VzZVgsbW91c2VZLHRvdWNoZXNcclxuI3RvdWNoRW5kZWQgPSAgICgpIC0+IG1zZyAyKmhlaWdodC8zLG1vdXNlWCxtb3VzZVksdG91Y2hlc1xyXG5cclxubW91c2VQcmVzc2VkID0gLT5cclxuXHRkeCA9IG1vdXNlWFxyXG5cdGR5ID0gbW91c2VZXHJcblxyXG5tb3VzZURyYWdnZWQgPSAtPlxyXG5cdGlmIG1vdXNlSXNQcmVzc2VkXHJcblx0XHR6b29tUGFuWzBdICs9IG1vdXNlWC1keFxyXG5cdFx0em9vbVBhblsxXSArPSBtb3VzZVktZHlcclxuXHRcdGR4ID0gbW91c2VYXHJcblx0XHRkeSA9IG1vdXNlWVxyXG5cclxubW91c2VXaGVlbCA9IChldmVudCkgLT5cclxuXHR6b29tUGFuWzJdICs9IGV2ZW50LmRlbHRhLzEwMDAwXHJcbiJdfQ==
//# sourceURL=c:\Lab\2020\015-ZoomPan\coffee\sketch.coffee