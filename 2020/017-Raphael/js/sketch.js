// Generated by CoffeeScript 2.4.1
var Box, boxes, p, startup;

boxes = [];

//values that define the graphical properties of the page
p = null;

Box = class Box {
  constructor(x, y, w, h, name) {
    var image;
    //deal with this individual box, position it and show a status based on color
    // Rect = p.rect x, y, w, h
    // 	.attr {fill: '#aaa'}

    // Text = p.text x + w / 2, y + h / 2, name
    // 	.attr {font: '40px Arial', fill: '#000'}
    image = p.image("skarpnÃ¤ck.png", 0, 0, w, h);
    
    //create the drag icon for this box
    // SIZE = h*0.5
    // Rect.resizer = p.rect x + w - SIZE, y + h - SIZE, SIZE, SIZE
    // 	.attr { fill: '#0ab', stroke: 'solid', opacity: 1}

    //define relations and functions for moving and positioning
    //move the boxes
    image.drag(this.move_drag, this.move_start, this.move_up);
  }

  //Rect.boxtext = Text
  //Rect.image = image

  //resize the boxes
  // Rect.resizer.drag @resize_drag, @resize_start, @resize_up
  // Rect.resizer.resizer = Rect
  // Rect.resizer.boxtext = Text

  //start, move, and up are the drag functions
  move_start() {
    //storing original coordinates
    this.ox = this.attr('x');
    this.oy = this.attr('y');
    //@attr {opacity: 0.5}

    //the resizer box
    // @resizer.ox = @resizer.attr 'x'
    // @resizer.oy = @resizer.attr 'y'
    // @resizer.attr {opacity: 0.5}

    //the box text
    //@boxtext.ox = @attr('x') + @attr('width') / 2
    //@boxtext.oy = @attr('y') + @attr('height') / 2
    //@boxtext.attr {opacity: 0.5}
    this.image.ox = this.attr('x');
    return this.image.oy = this.attr('y');
  }

  //visually change the box when it is being moved
  move_drag(dx, dy) {
    //move will be called with dx and dy
    this.attr({
      x: this.ox + dx,
      y: this.oy + dy
    });
    // @resizer.attr {x: @resizer.ox + dx, y: @resizer.oy + dy}
    //@boxtext.attr {x: @boxtext.ox + dx, y: @boxtext.oy + dy}
    return this.image.attr({
      x: this.image.ox + dx,
      y: this.image.oy + dy
    });
  }

  //when the user lets go of the mouse button, reset the square's properties
  move_up() {}

};

//restoring the visual state
//@attr {opacity: 1}
// @resizer.attr {opacity: 1}
//@boxtext.attr {opacity: 1}

// resize_start : ->
// 	#storing original coordinates
// 	@ox = @attr 'x'
// 	@oy = @attr 'y'

// 	#the resizer box
// 	@resizer.ow = @resizer.attr 'width'
// 	@resizer.oh = @resizer.attr 'height'

// 	#the box text
// 	@boxtext.ox = @resizer.attr('x') + @resizer.attr('width') / 2
// 	@boxtext.oy = @resizer.attr('y') + @resizer.attr('height') / 2

// resize_drag : (dx, dy) ->
// 	# move will be called with dx and dy
// 	@attr {x: @ox + dx, y: @oy + dy}
// 	@resizer.attr {width: @resizer.ow + dx, height: @resizer.oh + dy}
// 	@boxtext.attr {x: @boxtext.ox + (dx / 2), y: @boxtext.oy + (dy / 2)}

// resize_up : ->
// 	#here is where you would update the box's position externally
// 	#...
startup = function() {
  p = Raphael('canvasdiv', window.innerWidth, window.innerHeight);
  p.rect(0, 0, window.innerWidth, window.innerHeight).attr({
    fill: '#f00'
  });
  return boxes.push(new Box(100, 100, 1639, 986, 'A'));
};

// boxes.push new Box 200, 200, 200, 200, 'B'
// boxes.push new Box 400, 400, 300, 300, 'C'
// boxes.push new Box 700, 700, 400, 400, 'D'

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUE7O0FBQUEsS0FBQSxHQUFRLEdBQVI7OztBQUdBLENBQUEsR0FBSTs7QUFFRSxNQUFOLE1BQUEsSUFBQTtFQUNDLFdBQWMsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQLEVBQVMsSUFBVCxDQUFBO0FBU2IsUUFBQSxLQUFBOzs7Ozs7O0lBQUEsS0FBQSxHQUFRLENBQUMsQ0FBQyxLQUFGLENBQVEsZUFBUixFQUF5QixDQUF6QixFQUE0QixDQUE1QixFQUErQixDQUEvQixFQUFrQyxDQUFsQyxFQUFSOzs7Ozs7Ozs7SUFTQSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUMsQ0FBQSxTQUFaLEVBQXVCLElBQUMsQ0FBQSxVQUF4QixFQUFvQyxJQUFDLENBQUEsT0FBckM7RUFsQmEsQ0FBZDs7Ozs7Ozs7Ozs7RUE0QkEsVUFBYSxDQUFBLENBQUEsRUFBQTs7SUFFWixJQUFDLENBQUEsRUFBRCxHQUFNLElBQUMsQ0FBQSxJQUFELENBQU0sR0FBTjtJQUNOLElBQUMsQ0FBQSxFQUFELEdBQU0sSUFBQyxDQUFBLElBQUQsQ0FBTSxHQUFOLEVBRE47Ozs7Ozs7Ozs7OztJQWNBLElBQUMsQ0FBQSxLQUFLLENBQUMsRUFBUCxHQUFZLElBQUMsQ0FBQSxJQUFELENBQU0sR0FBTjtXQUNaLElBQUMsQ0FBQSxLQUFLLENBQUMsRUFBUCxHQUFZLElBQUMsQ0FBQSxJQUFELENBQU0sR0FBTjtFQWpCQSxDQTVCYjs7O0VBZ0RBLFNBQVksQ0FBQyxFQUFELEVBQUssRUFBTCxDQUFBLEVBQUE7O0lBRVgsSUFBQyxDQUFBLElBQUQsQ0FBTTtNQUFDLENBQUEsRUFBRyxJQUFDLENBQUEsRUFBRCxHQUFNLEVBQVY7TUFBYyxDQUFBLEVBQUcsSUFBQyxDQUFBLEVBQUQsR0FBTTtJQUF2QixDQUFOLEVBQUE7OztXQUlBLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBUCxDQUFZO01BQUMsQ0FBQSxFQUFHLElBQUMsQ0FBQSxLQUFLLENBQUMsRUFBUCxHQUFZLEVBQWhCO01BQW9CLENBQUEsRUFBRyxJQUFDLENBQUEsS0FBSyxDQUFDLEVBQVAsR0FBWTtJQUFuQyxDQUFaO0VBTlcsQ0FoRFo7OztFQXlEQSxPQUFVLENBQUEsQ0FBQSxFQUFBOztBQTFEWCxFQUxBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTRGQSxPQUFBLEdBQVUsUUFBQSxDQUFBLENBQUE7RUFDVCxDQUFBLEdBQUksT0FBQSxDQUFRLFdBQVIsRUFBcUIsTUFBTSxDQUFDLFVBQTVCLEVBQXdDLE1BQU0sQ0FBQyxXQUEvQztFQUNKLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxNQUFNLENBQUMsVUFBcEIsRUFBZ0MsTUFBTSxDQUFDLFdBQXZDLENBQ0MsQ0FBQyxJQURGLENBQ087SUFBQyxJQUFBLEVBQU07RUFBUCxDQURQO1NBRUEsS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFJLEdBQUosQ0FBUSxHQUFSLEVBQWEsR0FBYixFQUFrQixJQUFsQixFQUF3QixHQUF4QixFQUE2QixHQUE3QixDQUFYO0FBSlM7O0FBNUZWIiwic291cmNlc0NvbnRlbnQiOlsiYm94ZXMgPSBbXVxyXG5cclxuI3ZhbHVlcyB0aGF0IGRlZmluZSB0aGUgZ3JhcGhpY2FsIHByb3BlcnRpZXMgb2YgdGhlIHBhZ2VcclxucCA9IG51bGwgXHJcblxyXG5jbGFzcyBCb3ggXHJcblx0Y29uc3RydWN0b3IgOiAoeCx5LHcsaCxuYW1lKSAtPlxyXG5cclxuXHRcdCNkZWFsIHdpdGggdGhpcyBpbmRpdmlkdWFsIGJveCwgcG9zaXRpb24gaXQgYW5kIHNob3cgYSBzdGF0dXMgYmFzZWQgb24gY29sb3JcclxuXHRcdCMgUmVjdCA9IHAucmVjdCB4LCB5LCB3LCBoXHJcblx0XHQjIFx0LmF0dHIge2ZpbGw6ICcjYWFhJ31cclxuXHJcblx0XHQjIFRleHQgPSBwLnRleHQgeCArIHcgLyAyLCB5ICsgaCAvIDIsIG5hbWVcclxuXHRcdCMgXHQuYXR0ciB7Zm9udDogJzQwcHggQXJpYWwnLCBmaWxsOiAnIzAwMCd9XHJcblxyXG5cdFx0aW1hZ2UgPSBwLmltYWdlIFwic2thcnBuw6Rjay5wbmdcIiwgMCwgMCwgdywgaFxyXG5cdFx0XHRcdFxyXG5cdFx0I2NyZWF0ZSB0aGUgZHJhZyBpY29uIGZvciB0aGlzIGJveFxyXG5cdFx0IyBTSVpFID0gaCowLjVcclxuXHRcdCMgUmVjdC5yZXNpemVyID0gcC5yZWN0IHggKyB3IC0gU0laRSwgeSArIGggLSBTSVpFLCBTSVpFLCBTSVpFXHJcblx0XHQjIFx0LmF0dHIgeyBmaWxsOiAnIzBhYicsIHN0cm9rZTogJ3NvbGlkJywgb3BhY2l0eTogMX1cclxuXHRcdFxyXG5cdFx0I2RlZmluZSByZWxhdGlvbnMgYW5kIGZ1bmN0aW9ucyBmb3IgbW92aW5nIGFuZCBwb3NpdGlvbmluZ1xyXG5cdFx0I21vdmUgdGhlIGJveGVzXHJcblx0XHRpbWFnZS5kcmFnIEBtb3ZlX2RyYWcsIEBtb3ZlX3N0YXJ0LCBAbW92ZV91cFxyXG5cdFx0I1JlY3QuYm94dGV4dCA9IFRleHRcclxuXHRcdCNSZWN0LmltYWdlID0gaW1hZ2VcclxuXHRcdFxyXG5cdFx0I3Jlc2l6ZSB0aGUgYm94ZXNcclxuXHRcdCMgUmVjdC5yZXNpemVyLmRyYWcgQHJlc2l6ZV9kcmFnLCBAcmVzaXplX3N0YXJ0LCBAcmVzaXplX3VwXHJcblx0XHQjIFJlY3QucmVzaXplci5yZXNpemVyID0gUmVjdFxyXG5cdFx0IyBSZWN0LnJlc2l6ZXIuYm94dGV4dCA9IFRleHRcclxuXHJcblx0I3N0YXJ0LCBtb3ZlLCBhbmQgdXAgYXJlIHRoZSBkcmFnIGZ1bmN0aW9uc1xyXG5cdG1vdmVfc3RhcnQgOiAtPlxyXG5cdFx0I3N0b3Jpbmcgb3JpZ2luYWwgY29vcmRpbmF0ZXNcclxuXHRcdEBveCA9IEBhdHRyICd4J1xyXG5cdFx0QG95ID0gQGF0dHIgJ3knXHJcblx0XHQjQGF0dHIge29wYWNpdHk6IDAuNX1cclxuXHRcdCBcclxuXHRcdCN0aGUgcmVzaXplciBib3hcclxuXHRcdCMgQHJlc2l6ZXIub3ggPSBAcmVzaXplci5hdHRyICd4J1xyXG5cdFx0IyBAcmVzaXplci5veSA9IEByZXNpemVyLmF0dHIgJ3knXHJcblx0XHQjIEByZXNpemVyLmF0dHIge29wYWNpdHk6IDAuNX1cclxuXHRcdFxyXG5cdFx0I3RoZSBib3ggdGV4dFxyXG5cdFx0I0Bib3h0ZXh0Lm94ID0gQGF0dHIoJ3gnKSArIEBhdHRyKCd3aWR0aCcpIC8gMlxyXG5cdFx0I0Bib3h0ZXh0Lm95ID0gQGF0dHIoJ3knKSArIEBhdHRyKCdoZWlnaHQnKSAvIDJcclxuXHRcdCNAYm94dGV4dC5hdHRyIHtvcGFjaXR5OiAwLjV9XHJcblxyXG5cdFx0QGltYWdlLm94ID0gQGF0dHIoJ3gnKSBcclxuXHRcdEBpbWFnZS5veSA9IEBhdHRyKCd5JylcclxuXHJcblx0I3Zpc3VhbGx5IGNoYW5nZSB0aGUgYm94IHdoZW4gaXQgaXMgYmVpbmcgbW92ZWRcclxuXHRtb3ZlX2RyYWcgOiAoZHgsIGR5KSAtPlxyXG5cdFx0I21vdmUgd2lsbCBiZSBjYWxsZWQgd2l0aCBkeCBhbmQgZHlcclxuXHRcdEBhdHRyIHt4OiBAb3ggKyBkeCwgeTogQG95ICsgZHl9XHJcblxyXG5cdFx0IyBAcmVzaXplci5hdHRyIHt4OiBAcmVzaXplci5veCArIGR4LCB5OiBAcmVzaXplci5veSArIGR5fVxyXG5cdFx0I0Bib3h0ZXh0LmF0dHIge3g6IEBib3h0ZXh0Lm94ICsgZHgsIHk6IEBib3h0ZXh0Lm95ICsgZHl9XHJcblx0XHRAaW1hZ2UuYXR0ciB7eDogQGltYWdlLm94ICsgZHgsIHk6IEBpbWFnZS5veSArIGR5fVxyXG5cclxuXHQjd2hlbiB0aGUgdXNlciBsZXRzIGdvIG9mIHRoZSBtb3VzZSBidXR0b24sIHJlc2V0IHRoZSBzcXVhcmUncyBwcm9wZXJ0aWVzXHJcblx0bW92ZV91cCA6IC0+XHJcblx0XHQjcmVzdG9yaW5nIHRoZSB2aXN1YWwgc3RhdGVcclxuXHRcdCNAYXR0ciB7b3BhY2l0eTogMX1cclxuXHRcdCMgQHJlc2l6ZXIuYXR0ciB7b3BhY2l0eTogMX1cclxuXHRcdCNAYm94dGV4dC5hdHRyIHtvcGFjaXR5OiAxfVxyXG5cdFx0XHJcblx0IyByZXNpemVfc3RhcnQgOiAtPlxyXG5cdCMgXHQjc3RvcmluZyBvcmlnaW5hbCBjb29yZGluYXRlc1xyXG5cdCMgXHRAb3ggPSBAYXR0ciAneCdcclxuXHQjIFx0QG95ID0gQGF0dHIgJ3knXHJcblx0XHRcclxuXHQjIFx0I3RoZSByZXNpemVyIGJveFxyXG5cdCMgXHRAcmVzaXplci5vdyA9IEByZXNpemVyLmF0dHIgJ3dpZHRoJ1xyXG5cdCMgXHRAcmVzaXplci5vaCA9IEByZXNpemVyLmF0dHIgJ2hlaWdodCdcclxuXHRcdFxyXG5cdCMgXHQjdGhlIGJveCB0ZXh0XHJcblx0IyBcdEBib3h0ZXh0Lm94ID0gQHJlc2l6ZXIuYXR0cigneCcpICsgQHJlc2l6ZXIuYXR0cignd2lkdGgnKSAvIDJcclxuXHQjIFx0QGJveHRleHQub3kgPSBAcmVzaXplci5hdHRyKCd5JykgKyBAcmVzaXplci5hdHRyKCdoZWlnaHQnKSAvIDJcclxuXHJcblx0IyByZXNpemVfZHJhZyA6IChkeCwgZHkpIC0+XHJcblx0IyBcdCMgbW92ZSB3aWxsIGJlIGNhbGxlZCB3aXRoIGR4IGFuZCBkeVxyXG5cdCMgXHRAYXR0ciB7eDogQG94ICsgZHgsIHk6IEBveSArIGR5fVxyXG5cdCMgXHRAcmVzaXplci5hdHRyIHt3aWR0aDogQHJlc2l6ZXIub3cgKyBkeCwgaGVpZ2h0OiBAcmVzaXplci5vaCArIGR5fVxyXG5cdCMgXHRAYm94dGV4dC5hdHRyIHt4OiBAYm94dGV4dC5veCArIChkeCAvIDIpLCB5OiBAYm94dGV4dC5veSArIChkeSAvIDIpfVxyXG5cclxuXHQjIHJlc2l6ZV91cCA6IC0+XHJcblx0IyBcdCNoZXJlIGlzIHdoZXJlIHlvdSB3b3VsZCB1cGRhdGUgdGhlIGJveCdzIHBvc2l0aW9uIGV4dGVybmFsbHlcclxuXHQjIFx0Iy4uLlxyXG5cclxuc3RhcnR1cCA9IC0+XHJcblx0cCA9IFJhcGhhZWwgJ2NhbnZhc2RpdicsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHRcclxuXHRwLnJlY3QgMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodFxyXG5cdFx0LmF0dHIge2ZpbGw6ICcjZjAwJ31cclxuXHRib3hlcy5wdXNoIG5ldyBCb3ggMTAwLCAxMDAsIDE2MzksIDk4NiwgJ0EnXHJcblx0IyBib3hlcy5wdXNoIG5ldyBCb3ggMjAwLCAyMDAsIDIwMCwgMjAwLCAnQidcclxuXHQjIGJveGVzLnB1c2ggbmV3IEJveCA0MDAsIDQwMCwgMzAwLCAzMDAsICdDJ1xyXG5cdCMgYm94ZXMucHVzaCBuZXcgQm94IDcwMCwgNzAwLCA0MDAsIDQwMCwgJ0QnXHJcbiJdfQ==
//# sourceURL=c:\Lab\2020\017-Raphael\coffee\sketch.coffee