{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "n = 0\r\nlevels = []\r\nlevels.push [[4], [5], 4, 4]\r\nlevels.push [[0,1], [2,3], 4, 2]\r\nlevels.push [[1,1,1], [2,3,5], 1, 1]\r\nlevels.push [[0,2,2], [2,3,5], 2, 2]\r\nlevels.push [[2,3,2], [3,5,7], 23, 5]\r\nlevel = -1\r\nhist = []\r\nbuttons = []\r\ncircles = []\r\na = null\r\nb = null\r\n\r\nstate = 0 # 0=game running \r\n\t\t\t\t\t# 1=game finished\r\n\r\nclass Button\r\n\tconstructor : (@txt,@x,@y,@f=null) -> @enabled=false\r\n\tdraw : ->\r\n\t\tif @enabled then fc 1 else fc 0\r\n\t\ttext @txt,@x,@y\r\n\r\nclass Clock\r\n\tconstructor : (@a,@b,@x,@y,@f=null) ->\r\n\tdraw : ->\r\n\t\tpush()\r\n\t\ttranslate @x,@y\r\n\t\tsw 1\r\n\r\n\t\tif n % @b == @a then fc 0,1,0 else fc 1,0,0\r\n\r\n\t\tsc 1-state\r\n\t\tcircle 0,0,40\r\n\t\trotate radians -90 -@a*360/@b\r\n\t\tfor j in range @b\r\n\t\t\tsw 5\r\n\t\t\tpoint 40,0\r\n\t\t\tsw 2\r\n\t\t\tif j == n % @b then\tline 0,0,40,0\r\n\t\t\trotate radians 360/@b\r\n\t\tpop()\r\n\r\nnewGame = ->\r\n\tlevel++\r\n\tlevel %= levels.length \r\n\r\n\tbuttons[4].enabled = true\r\n\tstate = 0\r\n\r\n\tn = 0\r\n\ta = levels[level][0]\r\n\tb = levels[level][1]\t\r\n\thist = []\r\n\tcircles = []\r\n\tfor i in range a.length\r\n\t\tcircles.push new Clock a[i], b[i], 200, 200+100*i, -> \r\n\t\t\tif state == 0\r\n\t\t\t\thist.push n\r\n\t\t\t\tn += @b\r\n\txdraw()\r\n\r\nsetup = -> \r\n\tcreateCanvas 800,800\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize 64\r\n\tbuttons.push new Button '',500,100, ->\r\n\tbuttons.push new Button '',500,200, ->\r\n\tbuttons.push new Button '',500,300, ->\r\n\tbuttons.push new Button 'undo',500,500, -> \r\n\t\tif state==0 and hist.length > 0 then n = hist.pop()\r\n\tbuttons.push new Button '+1',200,100, ->\r\n\t\tif state==0  \r\n\t\t\thist.push n\r\n\t\t\tn++\r\n\tbuttons.push new Button 'new game',500,600, -> if state == 1 then newGame()\r\n\tnewGame()\r\n\r\ninfo = ->\r\n\tbuttons[0].txt = 'level: ' + level\r\n\tbuttons[1].txt = 'steps: ' + (levels[level][3] - hist.length)\r\n\tbuttons[2].txt = 'n: ' + n\r\n\tbuttons[3].enabled = state==0 and hist.length > 0\r\n\tbuttons[4].enabled = state==0\r\n\tbuttons[5].enabled = state==1\r\n\r\n\tbutton.draw() for button in buttons\r\n\r\nxdraw = ->\r\n\tbg 0.5\r\n\tinfo()\r\n\tc.draw() for c in circles\r\n\r\nmousePressed = ->\r\n\tfor obj in buttons.concat circles\r\n\t\tif 40 > dist mouseX,mouseY,obj.x,obj.y then obj.f()\r\n\tif levels[level][2] == n \r\n\t\tif levels[level][3] == hist.length then state = 1\r\n\txdraw()"
  ]
}