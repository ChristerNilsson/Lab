'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// Generated by CoffeeScript 2.0.3
var Tree,
    indexOf = [].indexOf;

Tree = function () {
  function Tree(tree) {
    var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'tree';

    _classCallCheck(this, Tree);

    this.tree = tree;
    this.div = document.getElementById(id);
    this.traverse([]);
  }

  _createClass(Tree, [{
    key: 'traverse',
    value: function traverse(branch) {
      var branch1, children, i, j, k, key, len, len1, node, ref, results;
      //console.clear()
      //console.log branch
      this.div.innerHTML = '';
      node = this.tree;
      for (i = j = 0, len = branch.length; j < len; i = ++j) {
        key = branch[i];
        node = node[key];
        if (indexOf.call(branch, key) >= 0) {
          branch1 = branch.slice(0, i);
        } else {
          branch1 = branch.concat(key);
        }
        this.button(key, i, 0, branch1);
      }
      ref = Object.keys(node).sort();
      results = [];
      for (k = 0, len1 = ref.length; k < len1; k++) {
        key = ref[k];
        children = node[key];
        if (indexOf.call(branch, key) >= 0) {
          branch1 = branch.slice(0, branch.length - 1);
        } else if (Object.keys(children).length > 0) {
          branch1 = branch.concat(key);
        } else {
          branch1 = branch;
        }
        results.push(this.button(key, branch.length, 1, branch1));
      }
      return results;
    }
  }, {
    key: 'button',
    value: function button(key, level, color, branch) {
      var _this = this;

      var res;
      //console.log key,level,color,branch
      res = document.createElement('input');
      res.type = 'button';
      res.value = key;
      res.style.width = '100%';
      res.style.backgroundColor = '#FFF #000'.split(' ')[color];
      res.style.color = '#000 #FFF'.split(' ')[color];
      res.style.textAlign = 'left';
      res.style.paddingLeft = 10 * level + 'px';
      res.onclick = function () {
        return _this.traverse(branch);
      };
      return this.div.appendChild(res);
    }
  }]);

  return Tree;
}();
//# sourceMappingURL=tree.js.map
