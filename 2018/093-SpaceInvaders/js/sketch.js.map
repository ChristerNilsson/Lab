{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "aliens = []\r\nshots = []\r\nobstacles = []\r\nship = null\r\nstate = 0\r\ntimestamp = null\r\n\r\nclass Alien\r\n\tconstructor : (@x1,@x2,@y) ->\r\n\t\t@x = (@x1+@x2)/2\r\n\t\t@dx = 0.5\r\n\t\t@radius = 25\r\n\tdraw : ->\r\n\t\tfc 1,1,0\r\n\t\tcircle @x,@y,@radius\r\n\t\t@x += @dx \r\n\t\tif @x > @x2 or @x < @x1\r\n\t\t\t@dx = -@dx\r\n\t\t\t@y += 5\r\n\r\nclass Obstacle\r\n\tconstructor : (@x,@y) ->\r\n\t\t@radius = 10\r\n\t\t@active = true\r\n\tdraw : ->\r\n\t\tif @active == false then return \r\n\t\tfc 1,0,0\r\n\t\tcircle @x,@y,@radius\r\n\r\nclass Ship \r\n\tconstructor : (@x,@y) ->\r\n\t\t@active = true\r\n\t\t@dx = 0\r\n\t\t@radius = 25\r\n\tdraw : ->\r\n\t\tfc 0,1,0\r\n\t\tcircle @x,@y,@radius\r\n\t\t@x += @dx\r\n\tshoot : () ->\r\n\t\tshots.push new Shot @x,@y-@radius-15,0,-2\r\n\r\nclass Shot \r\n\tconstructor : (@x,@y,@dx,@dy) -> @active = true\r\n\tdraw : ->\r\n\t\tif @active \r\n\t\t\tline @x,@y-10,@x,@y+10\r\n\t\t\t@y += @dy\r\n\thit : (other) ->\r\n\t\ta = other.radius > dist other.x,other.y,@x,@y-10\r\n\t\tb = other.radius > dist other.x,other.y,@x,@y+10\r\n\t\ta or b\r\n\r\nsetup = ->\r\n\tcreateCanvas 700,600\r\n\r\n\trectMode CENTER\r\n\tsc 1\r\n\r\n\tfor i in range 6\r\n\t\tcol = []\r\n\t\tfor j in range 6\r\n\t\t\tcol.push new Alien 150+80*i-100,150+80*i+100,50+60*j\r\n\t\taliens.push col\r\n\r\n\tship = new Ship width/2,height-50\r\n\r\n\tfor i in range 3\r\n\t\tfor j in range 3\r\n\t\t\tfor k in range 3\r\n\t\t\t\tif j==0 and k==0 then continue\r\n\t\t\t\tif j==2 and k==2 then continue\r\n\t\t\t\tobstacles.push new Obstacle 120+200*i+20*(j+k/2),450+20*k\r\n\ttimestamp = new Date()\r\n\r\nhandleCollisions = ->\r\n\tfor shot in shots\r\n\t\tif not shot.active then continue\r\n\t\tfor col in aliens\r\n\t\t\tif col.length > 0\r\n\t\t\t\ta = _.last col\t\t\t\r\n\t\t\t\tif shot.hit a \r\n\t\t\t\t\tshot.active = false\r\n\t\t\t\t\tcol.pop()  \r\n\t\t\t\t\tbreak\r\n\t\tfor obstacle in obstacles\r\n\t\t\tif not obstacle.active then continue\r\n\t\t\tif shot.hit obstacle \r\n\t\t\t\tshot.active = false\r\n\t\t\t\tobstacle.active = false \r\n\t\tif shot.hit ship then\tstate = 1\r\n\r\ndraw = ->\r\n\tif state == 1 then return \r\n\tbg 0\r\n\r\n\tfor col in aliens\r\n\t\tfor alien in col\r\n\t\t\talien.draw()\r\n\t\tif col.length > 0 and 1 > random 1000\r\n\t\t\talien = _.last col\r\n\t\t\tshots.push new Shot alien.x,alien.y+40,0,2\r\n\tshot.draw() for shot in shots\r\n\tobstacle.draw() for obstacle in obstacles\r\n\tship.draw()\r\n\thandleCollisions()\r\n\tshots = (shot for shot in shots when shot.active and 0 < shot.y < height )\r\n\r\nkeyPressed = ->\r\n\tdate = new Date()\r\n\tif date - timestamp < 500 then return\r\n\ttimestamp = date \r\n\tif keyCode == RIGHT_ARROW then ship.dx = +2\r\n\tif keyCode ==  LEFT_ARROW then ship.dx = -2\t\r\n\tif key == ' ' then ship.shoot()\t\r\n\r\nkeyReleased = -> ship.dx = 0\t\r\n"
  ]
}