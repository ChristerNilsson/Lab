{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "ALFABET = \"ABCDEFGHIJKLMOPQRSTUVWXYZ@0123456789\"\r\nCARDS = 3 # 3,6,9,12,15,18,21,24,27,30,33,36 \r\nSIZE = 80\r\n\r\nclass Button\r\n\tconstructor : (@title,i,j,@event) ->\r\n\t\t@visible = 0 \r\n\t\t@x = (i+1) * SIZE\r\n\t\t@y = (j+1) * SIZE\r\n\tdraw : ->\r\n\t\tif @visible<=1 then rect @x,@y,SIZE-1,SIZE-1\r\n\t\tif @visible==1 then text @title,@x,@y\r\n\tinside : (mx,my) -> @x-SIZE/2 < mx < @x+SIZE/2 and @y-SIZE/2 < my < @y+SIZE/2\r\n\texecute : -> @event()\r\n\r\nclicks = 0\r\nfound = 0\r\nbuttons = [] \r\nclicked = []\r\n\r\nnewGame = (cards=0) ->\r\n\tCARDS += cards \r\n\tCARDS = constrain CARDS,3,36\r\n\tclicks = CARDS//3*10\r\n\tfound = 0\r\n\tbuttons = []\r\n\tclicked = []\r\n\ts = ALFABET.substr 0,CARDS\r\n\tarr = _.shuffle (s+s).split ''\r\n\tfor title,i in arr\r\n\t\tbuttons.push new Button title,i%%6,i//6, ->\r\n\t\t\tif @visible in [1,2] then return \r\n\t\t\t@visible = 1\r\n\t\t\tclicks--\r\n\t\t\tif clicked.length == 0 \r\n\t\t\t\tclicked.push @\r\n\t\t\t\treturn \r\n\t\t\tif clicked.length == 1\r\n\t\t\t\tif clicked[0] == @ then return\r\n\t\t\t\tif clicked[0].title == @title\r\n\t\t\t\t\tclicked[0].visible = 2 \r\n\t\t\t\t\t@visible = 2\r\n\t\t\t\t\tfound++\r\n\t\t\t\t\tclicked = []\r\n\t\t\t\t\tif found == CARDS\r\n\t\t\t\t\t\treturn newGame if clicks >= 0 then 3 else -3\r\n\t\t\t\telse\r\n\t\t\t\t\t@visible = 1\r\n\t\t\t\t\tclicked.push @\r\n\t\t\t\treturn\r\n\t\t\tif clicked.length == 2\r\n\t\t\t\tclick.visible = 0 for click in clicked\r\n\t\t\t\t@visible = 1\r\n\t\t\t\tclicked = [@]\r\n\r\nsetup = ->\r\n\tcreateCanvas (6+1)*SIZE, SIZE + 12 * SIZE\r\n\trectMode CENTER\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize SIZE/2\r\n\tnewGame()\r\n\r\ndraw = ->\r\n\tbg 0.5\r\n\tbutton.draw() for button in buttons\r\n\ttext clicks,width/2,SIZE/4\r\n\r\nmousePressed = ->\r\n\tfor button in buttons\r\n\t\tif button.inside mouseX,mouseY then return button.execute()"
  ]
}