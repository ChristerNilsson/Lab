{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": ";;;;;;;AAAA,IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;;;;AAAA,UAAU;;AACV,QADA,AACQ;;AACR,OAAO;;AAEP,AAAM;AACL,AAAc,kBAAA,QAAA,AAAQ,GAAR,AAAU,GAAV;;;AAAC,AAAC,SAAA;AAAU,AAAC,SAAA;AAC1B,AAAC,SAAD,AAAC,UAAU;AACX,AAAC,SAAD,AAAC,IAAI,CAAC,IAAD,AAAG,KAAK;AACb,AAAC,SAAD,AAAC,IAAI,CAAC,IAAD,AAAG,KAHK,AAGA;AACd,AAAO;;;;;AACN,WAAK,AAAC,KAAN,AAAM,GAAE,AAAC,KAAT,AAAS,GAAT,AAAW,MAAX,AAAgB;AAChB,UAAG,AAAC,KAAJ,AAAI;eAAa,KAAK,AAAC,KAAN,AAAM,OAAM,AAAC,KAAb,AAAa,GAAE,AAAC,KAAjC,AAAiB,AAAgB;AAF3B;AAGP,AAAS;;;2BAAA,AAAC,IAAD,AAAI;aAAO,AAAC,KAAD,AAAC,IAAE,OAAH,AAAQ,IAAR,AAAY,MAAZ,AAAY,KAAK,AAAC,KAAD,AAAC,IAAE,OAApB,AAAyB,AAAM,CAA/B,IAA+B,AAAC,KAAD,AAAC,IAAE,OAAH,AAAQ,IAAR,AAAY,MAAZ,AAAY,KAAK,AAAC,KAAD,AAAC,IAAE,OAA9D,AAA0C,AAAyB;AAC5E,AAAU;;;;aAAG,AAAC,KAAJ,AAAG,AAAC;AATf;;;;;;AAWA,SAAS;;AACT,QAAQ;;AACR,UAAU;;AACV,UAAU;;AAEV,WAAU,mBACT;MAAA,KAAA,GAAA,GAAA,KAAA,SAAA,GAAA;AAAA,sBAAS,QAAA,AAAO,KAAE;AAClB,UAAQ;AACR,YAAU;AACV,YAAU;AACV,MAAI,AAAO,QAAP,AAAQ,OAAR,AAAe,GAAf,AAAiB;AACrB,QAAM,AAAC,EAAD,AAAE,QAAQ,CAAC,IAAD,AAAG,AAAE,GAAL,AAAM,MAAhB,AAAU,AAAY,AAC5B;;AAAA,OAAA,4CAAA;;yBACC,AAAQ,SAAK,AAAI,OAAJ,AAAW,cAAM,GAAjB,AAAoB,eAAE,IAAtB,AAAyB,IAAG,YACxC;UAAA,OAAA,GAAA;AAAA,UAAG,AAAC,KAAJ,AAAI,SAAa;AAAjB;AAAA,aAAA;AAA6B,AAAC,aAAD,AAAC,UAA9B,AAAwC;;AACxC,UAAG,AAAO,QAAP,AAAQ,WAAX,AAAqB;AAAO,oBAA5B,AAAqC;AAArC,iBACQ,AAAO,QAAP,AAAQ,WAAR,AAAkB,KAAM,AAAQ,QAAR,AAAQ,OAAnC,AAAyC;AAC7C,YAAG,UAAS,QAAZ,AAAkB;AACjB,mBAAY,UAAH,AAAa,IAAb,AAAoB,IAAO,CAAC;AACrC,kBAAQ,UAAA,AAAU,OAAV,AAAgB,GAAhB,AAAkB,AAC1B;iBAHD,AAGQ;AAJJ;AAAA,OAAA,MAAA;AAMJ,YAAG,AAAQ,QAAA,AAAE,GAAV,AAAW,UAAS,AAAQ,QAAA,AAAE,GAAjC,AAAkC;AAAlC,AACC;AADD,eAAA;AAGC,eAAA,wCAAA;;AAAA,AAAK,kBAAL,AAAM,UAAN,AAAgB;AAHjB;;AAIA,kBAVI,AAUM;;AACX;aACA,AAAO,QAAP,AAAQ,KAfgC,AAexC,AAAa;AAhBf,AACC,AAAa,KAAA,CAAb,AAAO;AADR;SAPS;;;AAyBV,QAAQ;AACP,eAAa,CAAC,IAAD,AAAG,KAAhB,AAAmB,MAAM,OAAO,KAAhC,AAAqC;AACrC,WAAA,AAAS;AACT,YAAA,AAAU,QAAV,AAAiB;AACjB,WAAS,OAAT,AAAc;SAJP,AAKP;;;AAED,OAAO,gBACN;MAAA,QAAA,GAAA;AAAA,KAAA,AAAG;AACH,OAAA,sCAAA;;AAAA,AAAM,WAAN,AAAO;;SACP,KAAA,AAAK,QAAO,QAAZ,AAAkB,GAAE,OAHd,AAGN,AAAyB;;;AAE1B,eAAe,wBACd;MAAA,QAAA,GAAA;AAAA,OAAA,sCAAA;;AACC,QAAG,AAAM,OAAN,AAAO,OAAP,AAAc,QAAjB,AAAG,AAAqB,SAAY;aAAO,AAAM,OAAjD,AAA2C,AAAO;AADnD;AADc",
  "sourcesContent": [
    "ALFABET = \"ABCDEFGHIJKLMOPQRSTUVWXYZ@0123456789\"\r\nCARDS = 3 # 3,6,9,12,15,18,21,24,27,30,33,36 \r\nSIZE = 80\r\n\r\nclass Button\r\n\tconstructor : (@title,i,j,@event) ->\r\n\t\t@visible = false \r\n\t\t@x = (i+1) * SIZE\r\n\t\t@y = (j+1) * SIZE\r\n\tdraw : ->\r\n\t\trect @x,@y,SIZE,SIZE\r\n\t\tif @visible then text @title,@x,@y\r\n\tinside : (mx,my) -> @x-SIZE/2 < mx < @x+SIZE/2 and @y-SIZE/2 < my < @y+SIZE/2\r\n\texecute : -> @event()\r\n\r\nclicks = 0\r\nfound = 0\r\nbuttons = []\r\nclicked = []\r\n\r\nnewGame = ->\r\n\tclicks = CARDS//3*10\r\n\tfound = 0\r\n\tbuttons = []\r\n\tclicked = []\r\n\ts = ALFABET.substr 0,CARDS\r\n\tarr = _.shuffle (s+s).split ''\r\n\tfor title,i in arr\r\n\t\tbuttons.push new Button title,i%%6,i//6, ->\r\n\t\t\tif @visible then return else @visible = true\r\n\t\t\tif clicked.length == 0 then clicked==[]\r\n\t\t\telse if clicked.length == 1 and clicked[0] != @\r\n\t\t\t\tif found == CARDS-1\r\n\t\t\t\t\tCARDS += if clicks >= 0 then 3 else -3\r\n\t\t\t\t\tCARDS = constrain CARDS,3,36\r\n\t\t\t\t\treturn newGame()\r\n\t\t\telse \r\n\t\t\t\tif clicked[0].title == clicked[1].title\r\n\t\t\t\t\tfound++\r\n\t\t\t\telse \r\n\t\t\t\t\tclick.visible = false for click in clicked\r\n\t\t\t\tclicked = []\r\n\t\t\tclicks--\r\n\t\t\tclicked.push @\r\n\r\nsetup = ->\r\n\tcreateCanvas (6+1)*SIZE, SIZE + 12 * SIZE\r\n\trectMode CENTER\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize SIZE/2\r\n\tnewGame()\r\n\r\ndraw = ->\r\n\tbg 0.5\r\n\tbutton.draw() for button in buttons\r\n\ttext clicks,width/2,SIZE/4\r\n\r\nmousePressed = ->\r\n\tfor button in buttons\r\n\t\tif button.inside mouseX,mouseY then return button.execute()"
  ]
}