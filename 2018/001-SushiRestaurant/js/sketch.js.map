{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "MAIL = \"janchrister.nilsson@gmail.com\"\r\nSHOP = \"FU Restaurang\" \r\n\r\n# OBS: .cssText måste användas på iPhone 4s\r\nwindow.onload = ->\r\n\r\n\tw = window.innerWidth\r\n\r\n\tbody = document.getElementById \"body\"\r\n\r\n\ttable = document.createElement \"table\"\r\n\tbody.appendChild table\r\n\tfor item in data\r\n\t\titem.push 0\r\n\t\tdo (item) ->\r\n\t\t\t[id,pris,text,antal] = item\r\n\r\n\t\t\tb1 = document.createElement \"input\"\r\n\t\t\tb1.type = 'button'\r\n\t\t\tb1.value = text\r\n\t\t\tb1.style.cssText = \"font-size:100%; white-space:normal; width:100%; text-align:left\"\r\n\r\n\t\t\tb2 = document.createElement \"input\"\r\n\t\t\tb2.type = 'button'\r\n\t\t\tb2.value = if antal==0 then \"\" else antal\r\n\t\t\tb2.id = id\r\n\t\t\tb2.style.cssText = \"font-size:100%; width:100%\" # height:80px; \r\n\r\n\t\t\tb1.onclick = -> update b2,item,+1\r\n\t\t\tb2.onclick = -> if b2.value > 0 then update b2,item,-1\r\n\r\n\t\t\ttr = document.createElement \"tr\"\r\n\t\t\ttd0 = document.createElement \"td\"\r\n\t\t\ttd1 = document.createElement \"td\"\r\n\t\t\ttd2 = document.createElement \"td\"\r\n\t\t\ttd0.style.cssText = \"width:5%\"\r\n\t\t\ttd1.style.cssText = \"width:85%\"\r\n\t\t\ttd2.style.cssText = \"width:10%\"\r\n\t\t\ttable.appendChild tr\r\n\t\t\ttr.appendChild td0\r\n\t\t\ttr.appendChild td1\r\n\t\t\ttr.appendChild td2\r\n\t\t\tdiv = document.createElement \"div\"\r\n\t\t\tdiv.innerHTML = '<b>' + id + '</b><br>' + pris + ':-'\r\n\t\t\ttd0.appendChild div\r\n\t\t\ttd1.appendChild b1\r\n\t\t\ttd2.appendChild b2\r\n\r\n\ttotal = document.createElement \"input\"\r\n\ttotal.type = 'button'\r\n\ttotal.id = 'total'\r\n\ttotal.value = \"0:-\"\r\n\ttotal.style.cssText = \"font-size:200%; width:50%\"\r\n\ttotal.onclick = -> clr()\r\n\r\n\tsend = document.createElement \"input\"\r\n\tsend.type = 'button'\r\n\tsend.value = 'Skicka'\r\n\tsend.style.cssText = \"font-size:200%; width:50%\"\r\n\tsend.onclick = -> \r\n\t\ttotal = document.getElementById \"total\"\r\n\t\tif total.value == \"0:-\" then return\r\n\t\tt = 0\r\n\t\ts = '' # full text\r\n\t\tu = '' # compact\r\n\t\tfor [id,pris,text,antal] in data\r\n\t\t\tif antal > 0 \r\n\t\t\t\ts += antal + ' x ' + id + \". \" + text + \"\\n\"\r\n\t\t\t\tif antal == 1 \r\n\t\t\t\t\tu += id + \"\\n\"\r\n\t\t\t\telse\r\n\t\t\t\t\tu += antal + 'x' + id + \"\\n\"\r\n\t\t\tt += antal * pris\r\n\t\tif s.length > 500 then s = u \r\n\t\twindow.location.href = encodeURI \"mailto:#{MAIL}?&subject=Order till #{SHOP}&body=\" + s + \"\\nTotalt \" + t + \" kr.\" \r\n\t\tclr()\r\n\r\n\tbody.appendChild send\r\n\tbody.appendChild total\r\n\r\nclr = ->\r\n\tfor item in data\r\n\t\titem[3] = 0\r\n\t\tbutton = document.getElementById item[0]\r\n\t\tbutton.value = ''\r\n\ttotal.value = \"0:-\"\r\n\r\nupdate = (b,item,delta) ->\r\n\titem[3] += delta\r\n\tb.value = if item[3]==0 then \"\" else item[3]\r\n\tt = 0\r\n\tt += antal * pris for [id,pris,text,antal] in data\t\r\n\ttotal = document.getElementById \"total\"\r\n\ttotal.value = t + ':-'\r\n"
  ]
}