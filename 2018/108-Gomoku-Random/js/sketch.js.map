{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "thinkingTime = 1000 \r\nUCB = 2\r\n\r\nSIZE = 600//(N+1)\r\nlevel = 0\r\nboard = null\r\ndelta = 0\r\nmontecarlo = null\r\nantal = 0\r\n\r\nsetup = ->\r\n\tcreateCanvas 600,660\r\n\tnewGame()\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize SIZE/2\r\n\r\nnewGame = () ->\r\n\tantal = 0\r\n\tprint ' '\r\n\tlevel += delta\r\n\tif level < 0 then level = 0\r\n\tdelta = -2\r\n\r\n\tboard = new Board()\r\n\tmontecarlo = null\r\n\txdraw()\r\n\t#computerMove()\r\n\r\nxdraw = ->\r\n\tbg 0\r\n\tfc()\r\n\tsc 0.1,0.3,1\r\n\tsw 0.2 * SIZE\r\n\tfor index in range N*N\r\n\t\tr = 1+index // N\r\n\t\tc = 1+index %% N\r\n\t\tx = SIZE*c\r\n\t\ty = SIZE*r\r\n\t\tcircle x, y, SIZE/2\r\n\r\n\tsw 1\r\n\tfor index,i in board.moves\r\n\t\tr = 1+index // N\r\n\t\tc = 1+index %% N\r\n\t\tx = SIZE*c\r\n\t\ty = SIZE*r\r\n\t\tfc 1,i%2,0\r\n\t\tcircle x, y, SIZE*0.4\r\n\t\tfc 0\r\n\t\tsc()\r\n\t\ttext i, x, y+4\r\n\tsc()\r\n\tfc 1\r\n\tmsg = ['','Computer Wins!','Remis!','You win!'][delta+2]\r\n\ttext msg,width/2,height-SIZE/2-10\r\n\ttext level,SIZE/2,height-SIZE/2-10\r\n\tshowSurr()\t\r\n\r\nshowSurr = ->\r\n\tfor index in board.surr\r\n\t\tif index not in board.moves\r\n\t\t\trow = 1 + index//N\r\n\t\t\tcol = 1 + index%%N\r\n\t\t\tsc 0,1,0\r\n\t\t\tfc()\r\n\t\t\tcircle SIZE*col,SIZE*row,10\r\n\r\ncomputerMove = ->\r\n\tmontecarlo = new MonteCarlo new Node 0,0,board\r\n\tstart = Date.now()\r\n\tresult = montecarlo.runSearch 2**level\r\n\tm = montecarlo.bestPlay montecarlo.root\r\n\tboard.move m\r\n\tif board.done() then return delta = -1\r\n\tif board.moves.length == N*N then delta = 0\t\r\n\r\nmousePressed = ->\r\n\tantal = 0\r\n\tif delta != -2 then return newGame()\r\n\trow = int (mouseY - SIZE / 2) / SIZE\r\n\tcol = int (mouseX - SIZE / 2) / SIZE\r\n\tif not (0 <= row < N) then return\r\n\tif not (0 <= col < N) then return\r\n\tindex = row*N + col\r\n\tboard.move index\r\n\tif board.done() then return delta = 1\r\n\tcomputerMove()\r\n\txdraw()\r\n\tprint antal\r\n\r\n"
  ]
}