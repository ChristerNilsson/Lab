{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": ";;;;;;;AAAA,IAAA,MAAA,MAAA,MAAA,UAAA,MAAA,QAAA,MAAA,KAAA,UAAA,OAAA,WAAA;;AAAA,OAAO;;AACP,OAAO;;AACP,OAFA,AAEO;;;AAGP,OAAO;;AACP,QAAQ;;AACR,SAAS,CAPT,AAOS,AAAC;;;;;;AAMV,WAAW,kBAAA,AAAC,IAAD,AAAI,MAAJ,AAAS,OAAT,AAAe,OAAf,AAAqB,OAArB,AAA2B,IACrC;MAAA,IAAA,KAAA,QAAA,KAAA,KAAA;AAAA,OAAK,AAAQ,SAAR,AAAS,cAAT,AAAuB;AAC5B,AAAE,KAAF,AAAG,OAAO;AACV,MAAG,QAAH,AAAS;AAAO,AAAS,oBAAzB,AAAyB,AAAK,AAAM;AAApC,SAAA;AAA4C,aAA5C,AAAoD;;AACpD,AAAE,KAAF,AAAG,QAAQ,AAAU,WAAV,AAAW,MAAX,AAAiB,GAAE,IAAnB,AAAqB,SAArB,AAA8B,QAAQ;AACjD,AAAE,KAAF,AAAG,SAAS;AACZ,AAAE,KAAC,AAAK,MAAR,AAAS,UALT,AAKmB;;;AAGnB,AAAE,KAAF,AAAG,UAAU;AACZ,aAAS,AAAE,GAAC,AAAM,OAAT,AAAU,OAAV,AAAiB;AAC1B,AAAK,UAAL,AAAM;AACN,YAAQ,AAAQ,SAAR,AAAS,cAAT,AAAuB;AAC/B,AAAI,SAAJ,AAAK,YAAL,AAAiB;AAEjB,AAAO,YAAP,AAAQ,IAAR,AAAY,cAAZ,AAAyB;WACzB,UAAA,AAAS,MAPG,AAOZ,AAAc;AAff;;;;;;;AAwBA,OAAK,AAAQ,SAAR,AAAS,cAAT,AAAuB;AAC5B,QAAM,AAAQ,SAAR,AAAS,cAAT,AAAuB;AAC7B,QAAM,AAAQ,SAAR,AAAS,cA1Bf,AA0BM,AAAuB;;AAE7B,AAAG,MAAC,AAAK,MAAT,AAAU,UAAU;AACpB,AAAG,MAAC,AAAK,MAAT,AAAU,UA7BV,AA6BoB;;AAEpB,AAAK,QAAL,AAAM,YAAN,AAAkB;AAClB,AAAE,KAAF,AAAG,YAAH,AAAe;AACf,AAAE,KAAF,AAAG,YAjCH,AAiCA,AAAe;;AAEf,QAAM,AAAQ,SAAR,AAAS,cAAT,AAAuB;AAC7B,AAAG,MAAC,AAAK,MAAT,AAAU,UAAU;AACpB,MAAG,OAAH,AAAS;AACR,AAAG,QAAH,AAAI,YAAY,QAAA,AAAQ,KAAR,AAAa,aAAb,AAA0B,OAD3C,AACkD;;AAClD,AAAG,MAAH,AAAI,YAAJ,AAAgB;SAChB,AAAG,IAAH,AAAI,YAzCM,AAyCV,AAAgB;AAtDjB;;;AAyDA,OAAO,cAAA,AAAC,MACP;MAAA,KAAA;AAAA,QAAM;AACN,OAAA,OAAA;AACC,WAAO,AAAK,KADb,AACa;;SAHP,AAIN;;;AAED,WAAW,kBAAA,AAAC,GAAD,AAAG,GACb;MAAA,GAAA,GAAA,KAAA;;AAAA,OAAA,kCAAA;;AACC,QAAG,AAAE,EAAF,AAAE,OAAI,AAAE,EAAX,AAAW,IAAQ;aAAnB,AAA0B;AAD3B;;SAEA,AAAC,EAAD,AAAE,UAAU,AAAC,EAHH,AAGI;;;AACf,OAAA,AAAO,MAAO,SAAA,AAAS,IAAvB,AAAc,AAAY;;AAC1B,OAAA,AAAO,MAAO,SAAS,CAAT,AAAS,AAAC,IAAG,CAA3B,AAAc,AAAa,AAAC;;AAC5B,OAAA,AAAO,MAAO,SAAS,CAAA,AAAC,GAAV,AAAS,AAAG,IAAG,CAAA,AAAC,GAA9B,AAAc,AAAe,AAAG;;AAChC,OAAA,AAAO,MAAO,SAAS,CAAT,AAAS,AAAC,IAAxB,AAAc,AAAa;;AAC3B,OAAA,AAAO,MAAO,SAAS,CAAA,AAAC,GAAV,AAAS,AAAG,IAAG,CAA7B,AAAc,AAAe,AAAC;;AAC9B,OAAA,AAAO,OAAO,SAAA,AAAS,IAAG,CAA1B,AAAc,AAAY,AAAC;;AAC3B,OAAA,AAAO,OAAO,SAAS,CAAT,AAAS,AAAC,IAAG,CAAA,AAAC,GAA5B,AAAc,AAAa,AAAG;;AAC9B,OAAA,AAAO,OAAO,SAAS,CAAT,AAAS,AAAC,IAAG,CAA3B,AAAc,AAAa,AAAC;;AAC5B,OAAA,AAAO,OAAO,SAAS,CAAT,AAAS,AAAC,IAAG,CAA3B,AAAc,AAAa,AAAC;;AAC5B,OAAA,AAAO,OAAO,SAAS,CAAA,AAAC,GAAV,AAAS,AAAG,IAAG,CAAA,AAAC,GAA9B,AAAc,AAAe,AAAG;;AAChC,OAAA,AAAO,OAAO,SAAS,CAAA,AAAC,GAAV,AAAS,AAAG,IAAG,CAA7B,AAAc,AAAe,AAAC;;AAE9B,YAAW,kBAAA,AAAC;AACX,MADkB,4EAAR,AAAc;MAAG,yEAAjB,AAAoB;;MAC9B,IAAA,GAAA,MAAA,GAAA,GAAA,KAAA,MAAA,SAAA;AAAA,MAAG,UAAS,SAAA,AAAS,QAArB,AAAY,AAAgB,KAAQ;AAApC;;AACA,MAAG,UAAA,AAAU,KAAV,UAAH,AAAe;SAEV,YAAA,AAAC;UACH,UAAA,OAAA,GAAA,MAAA,OAAA;;AAAA,2BAAsB;;AAAtB,AAAC,AAAM;AAAP,AAAO;;AACP,UAAG,UAAH,AAAU;AACT,iBAAA,AAAS,IAAT,AAAY,GAAZ,AAAc,OAAM,AAAQ,SAA5B,AAA6B,QAA7B,AAAoC,OAAM,AAAE,GAAF,AAAG,OAD9C,AACC,AAA0C,AAAU;AADrD,aAAA;AAGC,gBAAQ;AACR,aAAA,yCAAA;;AACC,mBAAS,AAAC,EADX,AACY;;AACZ,iBAAA,AAAS,IAAT,AAAY,GAAZ,AAAc,OAAd,AAAoB,OAApB,AAA0B,OAAM,AAAE,GAAF,AAAG,OANpC,AAMC,AAAgC,AAAU;;aAC3C,UAAA,AAAS,UAAU,QAAnB,AAAyB,GAAG,AAAE,GAAF,AAAG,OAT7B,AASF,AAA4B,AAAU;;AAVxC,SAAA,8CAAA;;SAAA,AACK;AAFN;;AAYA,MAAG,UAAH,AAAY,GACX;;AAAA,SAAA,sCAAA;;;qBACC;;AAAA,aAAA,qCAAA;;wBACC,SAAS,AAAE,EAAX,AAAW,IAAG,AAAE,EAAhB,AAAgB,IAAG,AAAE,EAArB,AAAqB,IAAG,KAAK,AAAE,EAA/B,AAAwB,AAAO,KADhC,AACC,AAAmC;AADpC;;AADD;AAAA;WADD;AAdU;;;AAmBX,AAAM,OAAN,AAAO,SAAS;MAEf,QAAA;AAAA,MAAI,AAAM,OAAC;AAEX,SAAO,AAAQ,SAAR,AAAS,eAAT,AAAwB;AAE/B,UAAQ,AAAQ,SAAR,AAAS,cAAT,AAAuB;AAC/B,AAAI,OAAJ,AAAK,YAAL,AAAiB;AAEjB,WAPA,AAOS,GAPT;SASA,UAXe,AAWf,AAAS;AA7GV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA,MAAM,eACL;MAAA,QAAA,MAAA,GAAA;AAAA,OAAA,mCAAA;;AACC,AAAK,SAAL,AAAK,KAAK;AACV,aAAS,AAAQ,SAAR,AAAS,eAAe,AAAK,KAA7B,AAA6B;AACtC,AAAM,WAAN,AAAO,QAHR,AAGgB;;SAChB,AAAK,MAAL,AAAM,QALD,AAKS;;;AAEf,SAAS,gBAAA,AAAC,GAAD,AAAG,MAAH,AAAQ,OAChB;MAAA,OAAA,IAAA,GAAA,KAAA,MAAA,GAAA,MAAA;AAAA,AAAK,OAAL,AAAK,MAAM;AACX,AAAC,IAAD,AAAE,QAAW,AAAK,KAAL,AAAK,OAAR,AAAY,IAAZ,AAAmB,KAAQ,AAAK,KAAA;AAC1C,MAAI;AACJ,OAAA,mCAAA;AAAsB;;AAAA,AAAC;AAAD,AAAI;AAAJ,AAAS;AAAT,AAAc;;AAApC,SAAK,QAAL,AAAa;;AACb,UAAQ,AAAQ,SAAR,AAAS,eAAT,AAAwB;SAChC,AAAK,MAAL,AAAM,QAAQ,IANN,AAMU",
  "sourcesContent": [
    "MAIL = \"janchrister.nilsson@gmail.com\"\r\nSHOP = \"FU Restaurang\" \r\nCRLF = \"\\n\"\r\n#CRLF = \"<br/>\"\r\n\r\nbody = null\r\ntable = null\r\nbranch = [0] # motsvarar Meny samt Korg, dvs 2 rader i Table\r\n\r\n# iOS visar inga radbrytningar.\r\n\r\n# OBS: .cssText måste användas på iPhone 4s\r\n\r\naddTitle = (id,pris,title,count,level,br) ->\r\n\tb1 = document.createElement \"input\"\r\n\tb1.type = 'button'\r\n\tif count>0 then scount = \" (#{count})\" else scount =\"\"\r\n\tb1.value = '........'.slice(0,4*level) + title + scount\r\n\tb1.branch = br\r\n\tb1.style.cssText = \"font-size:100%; white-space:normal; width:100%; text-align:left\"\r\n\t\r\n\t#b1.onclick = -> update b2,item,+1\r\n\tb1.onclick = -> \r\n\t\tbranch = b1.branch.concat []\r\n\t\ttable.remove()\r\n\t\ttable = document.createElement \"table\"\r\n\t\tbody.appendChild table\r\n\r\n\t\tconsole.log 'New branch',branch \r\n\t\ttraverse data,0\r\n\r\n\t# b2 = document.createElement \"input\"\r\n\t# b2.type = 'button'\r\n\t# b2.value = if antal==0 then \"\" else antal\r\n\t# b2.id = id\r\n\t# b2.style.cssText = \"font-size:100%; width:100%\" # height:80px; \r\n\t# b2.onclick = -> if b2.value > 0 then update b2,item,-1\r\n\r\n\ttr = document.createElement \"tr\"\r\n\ttd0 = document.createElement \"td\"\r\n\ttd1 = document.createElement \"td\"\r\n#\ttd2 = document.createElement \"td\"\r\n\ttd0.style.cssText = \"width:5%\"\r\n\ttd1.style.cssText = \"width:85%\"\r\n#\ttd2.style.cssText = \"width:10%\"\r\n\ttable.appendChild tr\r\n\ttr.appendChild td0\r\n\ttr.appendChild td1\r\n#\ttr.appendChild td2\r\n\tdiv = document.createElement \"div\"\r\n\tdiv.style.cssText = \"font-size:70%\"\r\n\tif id != '' \r\n\t\tdiv.innerHTML = '<b>' + id + '</b><br>' + pris + ':-'\r\n\ttd0.appendChild div\r\n\ttd1.appendChild b1\r\n#\ttd2.appendChild b2\r\n\r\ncalc = (hash) ->\r\n\tres = 0\r\n\tfor key of hash\r\n\t\tres += hash[key]\r\n\tres \r\n\r\ngoDeeper = (a,b) ->\r\n\tfor i in range Math.min a.length,b.length\r\n\t\tif a[i]!=b[i] then return false \r\n\ta.length >= b.length\r\nassert true,  goDeeper [],[]\r\nassert true,  goDeeper [0],[0]\r\nassert true,  goDeeper [0,0],[0,0]\r\nassert true,  goDeeper [0],[]\r\nassert true,  goDeeper [0,0],[0]\r\nassert false, goDeeper [],[0]\r\nassert false, goDeeper [0],[0,0]\r\nassert false, goDeeper [0],[1]\r\nassert false, goDeeper [1],[0]\r\nassert false, goDeeper [0,0],[0,1]\r\nassert false, goDeeper [1,0],[0]\r\n\r\ntraverse = (items, level=0, br=[]) ->\r\n\tif false == goDeeper branch,br then return \r\n\tif level in [0,1]\r\n\t\tfor item,i in items\r\n\t\t\tdo (item) ->\r\n\t\t\t\t[title,children...] = item\r\n\t\t\t\tif level==0\r\n\t\t\t\t\taddTitle '',0,title,children.length,level,br.concat i\r\n\t\t\t\telse\r\n\t\t\t\t\tcount = 0\r\n\t\t\t\t\tfor x in children\r\n\t\t\t\t\t\tcount += x.length\r\n\t\t\t\t\taddTitle '',0,title,count,level,br.concat i\r\n\t\t\t\ttraverse children, level+1, br.concat i \r\n\tif level == 2\r\n\t\tfor item in items\r\n\t\t\tfor x in item\r\n\t\t\t\taddTitle x[0],x[1],x[2],calc(x[3]),level\r\n\r\nwindow.onload = ->\r\n\r\n\tw = window.innerWidth\r\n\r\n\tbody = document.getElementById \"body\"\r\n\r\n\ttable = document.createElement \"table\"\r\n\tbody.appendChild table\r\n\r\n\tclosed = {} # innehåller menyer som är stängda\r\n\r\n\ttraverse data\r\n\r\n\t# total = document.createElement \"input\"\r\n\t# total.type = 'button'\r\n\t# total.id = 'total'\r\n\t# total.value = \"0:-\"\r\n\t# total.style.cssText = \"font-size:200%; width:50%\"\r\n\t# total.onclick = -> clr()\r\n\r\n\t# send = document.createElement \"input\"\r\n\t# send.type = 'button'\r\n\t# send.value = 'Skicka'\r\n\t# send.style.cssText = \"font-size:200%; width:50%\"\r\n\t# send.onclick = -> \r\n\t# \ttotal = document.getElementById \"total\"\r\n\t# \tif total.value == \"0:-\" then return\r\n\t# \tt = 0\r\n\t# \ts = '' # full text\r\n\t# \tu = '' # compact\r\n\t# \tfor [id,pris,text,antal] in data\r\n\t# \t\tif antal > 0 \r\n\t# \t\t\ts += antal + ' x ' + id + \". \" + text + CRLF\r\n\t# \t\t\tif antal == 1 \r\n\t# \t\t\t\tu += id + CRLF\r\n\t# \t\t\telse\r\n\t# \t\t\t\tu += antal + 'x' + id + CRLF\r\n\t# \t\tt += antal * pris\r\n\t# \tif s.length > 500 then s = u \r\n\r\n\t# \toutput = encodeURI \"mailto:#{MAIL}?&subject=Order till #{SHOP}&body=\" + s + CRLF + \"Totalt \" + t + \" kr.\"\r\n\t# \twindow.location.href = output\r\n\t# \t#console.log output\r\n\t# \tclr()\r\n\r\n\t# body.appendChild send\r\n\t# body.appendChild total\r\n\r\nclr = ->\r\n\tfor item in data\r\n\t\titem[3] = 0\r\n\t\tbutton = document.getElementById item[0]\r\n\t\tbutton.value = ''\r\n\ttotal.value = \"0:-\"\r\n\r\nupdate = (b,item,delta) ->\r\n\titem[3] += delta\r\n\tb.value = if item[3]==0 then \"\" else item[3]\r\n\tt = 0\r\n\tt += antal * pris for [id,pris,text,antal] in data\t\r\n\ttotal = document.getElementById \"total\"\r\n\ttotal.value = t + ':-'\r\n"
  ]
}