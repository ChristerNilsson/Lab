{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "M = 6  # antal rader\r\nN = 7  # antal kolumner\r\n\r\nSIZE = 700/N\r\nPROBES = 20\r\n\r\nlevel = 0\r\nlist = null\r\nmoves = null\r\ndator = null\r\nhuman = null\r\nboard = null\r\ndelta = 0\r\n\r\nsetup = ->\r\n\tcreateCanvas 700,700\r\n\tdator = new Computer()\r\n\thuman = new Human()\r\n\tnewGame()\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize SIZE/2\r\n\r\nnewGame = () ->\r\n\tlevel += delta\r\n\tif level < 0 then level = 0\r\n\tdelta = -2\r\n\tboard = new Board()\r\n\tlist = ([] for i in range 7)\r\n\tmoves = []\r\n\r\ndraw = ->\r\n\tbg 0\r\n\tfc()\r\n\tsc 0.1,0.3,1\r\n\tsw 0.2 * SIZE\r\n\tfor i in range N\r\n\t\tx = SIZE/2 + i*SIZE\r\n\t\tfor j in range M\r\n\t\t\ty = height-SIZE/2 - SIZE*j\r\n\t\t\tcircle x, y, SIZE/2\r\n\r\n\tfor column,i in list\r\n\t\tx = SIZE/2 + i*SIZE\r\n\t\tfor nr,j in column\r\n\t\t\ty = height-SIZE/2 - SIZE*j\r\n\t\t\tfc 1,nr%2,0\r\n\t\t\tsw 1\r\n\t\t\tcircle x, y, SIZE*0.4\r\n\t\t\tfc 0\r\n\t\t\tsc()\r\n\t\t\ttext nr, x, y\r\n\tsc()\r\n\tfc 1\r\n\tmsg = ['','Datorn vann!','Remis!','Du vann!'][delta+2]\r\n\ttext msg,width/2,SIZE/2-10\r\n\ttext level,SIZE/2,SIZE/2-10\r\n\r\nmousePressed = ->\r\n\tif delta != -2 then return newGame()\r\n\tnr = int (mouseX-(width-N*SIZE)/2)/SIZE\r\n\tif 0 <= nr <= M\r\n\t\tif list[nr].length == M then return\r\n\t\tmoves.push nr\r\n\t\tboard.move nr\r\n\t\tlist[nr].push moves.length\r\n\r\n\tif board.done() then return delta = 1\r\n\tm = dator.move board\r\n\tmoves.push m\r\n\tboard.move m\r\n\tlist[m].push moves.length\r\n\tif board.done() then return delta = -1\r\n\tif board.moves.length == M*N then delta = 0\r\n\r\nundo : -> if moves.length > 0 then list[moves.pop()].pop()\r\n\r\nclass Human\r\n\tconstructor : -> @move = -1 \r\n"
  ]
}