{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "steps = 1\r\ntotal = 0\r\n\r\nhist = []\r\nbuttons = []\r\ncircles = []\r\ngame = null\r\n\r\nclass Button\r\n\tconstructor : (@txt,@x,@y,@f=null) -> @enabled=false\r\n\tdraw : ->\r\n\t\tif @enabled then fc 1 else fc 0\r\n\t\ttext @txt,@x,@y\r\n\r\nclass Clock\r\n\tconstructor : (@rests, @ticks, @x,@y, @f=null) ->\r\n\tdraw : ->\r\n\t\tpush()\r\n\t\ttranslate @x,@y\r\n\t\tsw 1\r\n\t\tif total % @ticks == @rests then fc 0,1,0 else fc 1,0,0\r\n\t\tsc 1 \r\n\t\tcircle 0,0,40\r\n\t\tfc 1 \r\n\t\ttextSize 40\r\n\r\n\t\ttext @ticks,0,0\t\r\n\t\trotate radians -90 -@rests*360/@ticks\r\n\t\tfor j in range @ticks\r\n\t\t\tsw 5\r\n\t\t\tpoint 40,0\r\n\t\t\tsw 2\r\n\t\t\tif j == total % @ticks then\tline 0,0,40,0\r\n\t\t\trotate radians 360/@ticks\r\n\t\tpop()\r\n\r\nokidoki = ->\r\n\tif hist.length != game.steps then return false \r\n\tfor i in range game.ticks.length\r\n\t\tif total % game.ticks[i] != game.rests[i] then return false\r\n\ttrue\r\n\r\nnewGame = (delta) ->\r\n\tsteps += delta\r\n\tif steps < 1 then steps = 1\r\n\tgame = createProblem steps\r\n\tbuttons[3].enabled = okidoki()\r\n\tstate = 0\r\n\r\n\ttotal = 0\r\n\thist = []\r\n\tcircles = []\r\n\tfor i in range game.ticks.length\r\n\t\tcircles.push new Clock game.rests[i], game.ticks[i], 200, 100+100*i, -> \r\n\t\t\thist.push total\r\n\t\t\ttotal += @ticks\r\n\txdraw()\r\n\r\nsetup = -> \r\n\tcreateCanvas 700,900\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize 64\r\n\tbuttons.push new Button '',500,100, ->\r\n\tbuttons.push new Button '',500,200, ->\r\n\tbuttons.push new Button 'undo',500,400, -> \r\n\t\tif hist.length > 0 then total = hist.pop()\r\n\tbuttons.push new Button 'ok',500,500, -> \r\n\t\tif @enabled\r\n\t\t\tif steps==hist.length and total==game.total then newGame 1\r\n\t\t\telse newGame -1\r\n\tnewGame 0\r\n\r\ninfo = ->\r\n\tbuttons[0].txt = 'steps: ' + (steps - hist.length)\r\n\tbuttons[1].txt = 'total: ' + total\r\n\tbuttons[2].enabled = hist.length > 0\r\n\tbuttons[3].enabled = okidoki()\r\n\tbutton.draw() for button in buttons\r\n\r\nxdraw = ->\r\n\tbg 0.5\r\n\tinfo()\r\n\tc.draw() for c in circles\r\n\r\nmousePressed = ->\r\n\tfor obj in buttons.concat circles\r\n\t\tif 50 > dist mouseX,mouseY,obj.x,obj.y then obj.f()\r\n\txdraw()"
  ]
}