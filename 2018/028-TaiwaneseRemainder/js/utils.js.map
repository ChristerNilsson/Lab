{
  "version": 3,
  "file": "utils.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\utils.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "PRIMES = [2,3,5,7,11, 13,17,19,23,29, 31,37,41,43,47, 53,59,61,67,71, 73,79,83,89,97, 101,103,107,109,113] #,131,137,139,149,151,157,163,167,173]\r\n\r\ncreateRests = (ticks,total) -> (total % t for t in ticks)\r\n\r\ncreateProblem = (level) ->\r\n\tsteps = level%5 + level//5 + 1\r\n\tantalKlockor = 2 + level//5\r\n\r\n\tantalPrimtal = int map steps,1,125,4,PRIMES.length\r\n\tantalPrimtal = constrain antalPrimtal,4,PRIMES.length\r\n\tticks = _.sample PRIMES[..antalPrimtal], antalKlockor\r\n\tticks.sort (a,b) -> a-b\r\n\r\n\t# första metoden ger alltför jämnt fördelade problem.\r\n\t# total = (_.sample ticks for i in range steps).reduce (a,b)->a+b \r\n\t# Vissa totalsummor är omöjliga att uppnå. Max 50%\r\n\tsolution = null\r\n\twhile solution == null\r\n\t\ttotal = _.random steps * ticks[0], steps * _.last ticks\r\n\t\tsolution = solve ticks,total,steps\r\n\r\n\trests = createRests ticks,total\r\n\th = window.location.href\r\n\tpathname = h.split('?')[0]\r\n\r\n\turl = pathname + '?level=' + level + '&ticks=' + ticks + '&rests=' + rests\r\n\tprint url\r\n\r\n\t{level,ticks,rests,url,solution}\r\n\r\nsolve = (ticks,sum,n) ->\r\n\ttabell = new Array(sum+1).fill null\r\n\ttabell[n * ticks[0]] = new Array(ticks.length).fill 0\r\n\ttabell[n * ticks[0]][0] = n\r\n\tfor i in range n,sum\r\n\t\trad = tabell[i]\r\n\t\tif rad == null then continue # går ej att expandera\r\n\t\tfor j in range ticks.length\r\n\t\t\tif rad[j] == 0 then continue # finns inget att flytta\r\n\t\t\tfor k in range j+1,ticks.length\r\n\t\t\t\tindex = i - ticks[j] + ticks[k]\r\n\t\t\t\tif index > sum then continue # utanför tabellen\r\n\t\t\t\tif tabell[index] == null\r\n\t\t\t\t\ttabell[index] = rad[..]\r\n\t\t\t\t\ttabell[index][j]--\r\n\t\t\t\t\ttabell[index][k]++\r\n\ttabell[sum]\r\nassert [5,1,0,0,0,4], solve [2,3,5,7,11,13],65,10\r\n\r\ncopyToClipboard = (s) -> \r\n\tel = document.createElement 'textarea'\r\n\tel.value = s\r\n\tdocument.body.appendChild el\r\n\tel.select()\r\n\tdocument.execCommand 'copy'\r\n\tdocument.body.removeChild el\r\n\r\nfac = (n) -> if n <= 1 then 1 else\tn * fac n - 1\r\nassert 6,fac 3\r\n\r\ncombinations = (n, k) ->  fac(n + k - 1) / fac(k - 1) / fac(n)\r\n\r\nshort = (n) ->\r\n\tm = Math.floor Math.log10(n)/3\r\n\tdekad = 1000 ** m \r\n\tvalue = Math.round n/dekad\r\n\tvalue + \" KMGT\"[m]\r\n\r\nassert \"999 \", short 999\r\nassert \"1K\", short 1000\r\nassert \"1K\", short 1001\r\nassert \"1K\", short 1499\r\nassert \"2K\", short 1500\r\nassert \"20K\", short 20000\r\nassert \"200K\", short 200000\r\nassert \"2M\", short 2000000\r\n\r\n"
  ]
}