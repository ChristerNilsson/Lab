{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# negativt x innebär högerjustering. Characters, not pixels\r\n\r\nWIDTH  = 10 # pixels per character\r\nHEIGHT = 23 # pixels per character\r\n\r\nobjects = []\r\nindex = 0\r\n\r\nsetup = -> \r\n\tcreateCanvas 800,600\r\n\ttextSize 20\r\n\ttextFont 'monospace'\r\n\tstrokeCap SQUARE\r\n\tmakeCommands()\r\n\tindex = 1\r\n\txdraw()\r\n\r\nclass Text \r\n\tconstructor : (@txt,@x,@y,@comment='') -> # relative characters\r\n\tdraw : (i) ->\r\n\t\tif i >= index then return \r\n\t\tif @x < 0 then textAlign RIGHT,TOP else textAlign LEFT,TOP \r\n\t\tif @index == index then fc 1,1,0 else fc 0 \r\n\t\tsc()\r\n\t\tp = @parent\r\n\t\ttext @txt,WIDTH*(p.cx + p.cw*abs(@x)), HEIGHT*(p.cy + p.ch*@y)\r\n\t\tif @index == index then drawComment @comment \r\n\r\nclass Line \r\n\tconstructor : (@x1,@y1,@x2,@y2,@d,@comment='') -> # absoluta pixlar\r\n\tdraw : (i) ->\r\n\t\tif i >= index then return \r\n\t\tsw @d\r\n\t\tif @index == index then sc 1,1,0 else sc 0 \r\n\t\tline @x1, @y1, @x2, @y2\r\n\t\tif @index == index then drawComment @comment\r\n\r\nclass Grid \r\n\tconstructor : (@cx,@cy,@cw,@ch,@xCount,@yCount,@visible,@comment='') -> # characters\r\n\t\tindex++\r\n\t\t@index = index\r\n\t\tobjects.push @\r\n\r\n\txx : (i) ->  WIDTH * (@cx + @cw*i + 0.5) # pixlar\r\n\tyy : (j) -> HEIGHT * (@cy + @ch*j) # pixlar\r\n\r\n\tadd : (obj) -> \r\n\t\tindex++\r\n\t\tobj.index = index\r\n\t\tobjects.push obj\r\n\t\tobj.parent = @\r\n\r\n\thorLine : (j,d,comment='') -> @add new Line @xx(0), @yy(j), @xx(@xCount), @yy(j),       d, comment\t\t\r\n\tverLine : (i,d,comment='') -> @add new Line @xx(i), @yy(0), @xx(i),       @yy(@yCount), d, comment\t\r\n\r\n\tdraw : (i) ->\r\n\t\tif @visible and i < index \r\n\t\t\tsw 1\t\r\n\t\t\tsc 0 \r\n\t\t\tif @index == index then sc 1,1,0 else sc 0 \r\n\t\t\tfor i in range @xCount+1\r\n\t\t\t\tline @xx(i), @yy(0), @xx(i), @yy(@yCount)\r\n\t\t\tfor j in range @yCount+1\r\n\t\t\t\tline @xx(0), @yy(j), @xx(@xCount), @yy(j)\r\n\t\tif @index == index then drawComment @comment\r\n\t\r\ndrawComment = (comment) ->\r\n\tfc 0\r\n\tsc()\r\n\ttextAlign LEFT,BOTTOM\r\n\ttext comment,10,height-10\r\n\ttextAlign RIGHT,BOTTOM\r\n\ttext '#' + index,width-10,height-10\r\n\r\nxdraw = ->\r\n\tbg 0.5\r\n\tfor obj,i in objects\r\n\t\tobj.draw i\r\n\r\nmove = (delta) ->\r\n\tlst = indexes.concat [objects.length]\r\n\tif delta == -1\r\n\t\tlst.reverse()\r\n\t\ti = _.findIndex lst, (x) -> index > x\r\n\t\tif i==-1 then return\r\n\t\tindex = lst[i]\r\n\telse\r\n\t\ti = _.findIndex lst, (x) -> index < x\r\n\t\tif i==-1 then return\r\n\t\tindex = lst[i]\r\n\r\nkeyPressed = ->\r\n\tif keyCode == LEFT_ARROW then index--\r\n\tif keyCode == RIGHT_ARROW then index++\r\n\tif keyCode in [UP_ARROW,33] then move -1 \r\n\tif keyCode in [DOWN_ARROW,34] then move 1\r\n\tif keyCode == 36 then index = 1\r\n\tif keyCode == 35 then index = objects.length \r\n\tindex = constrain index,1,objects.length\r\n\txdraw()\r\n\r\nmouseWheel = (event) ->\r\n\tindex += event.delta/100\r\n\tindex = constrain index,1,objects.length\r\n\txdraw()\r\n\tfalse # blocks page scrolling\r\n"
  ]
}