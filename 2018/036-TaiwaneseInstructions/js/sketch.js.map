{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "setup = -> \r\n\tcreateCanvas 800,600\r\n\ttextSize 20\r\n\ttextFont 'monospace'\r\n\tstrokeCap SQUARE\r\n\tmakeCommands()\r\n\txdraw()\r\n\r\naddText = -> commands.push arguments \r\naddLine = -> commands.push arguments \r\n\r\nticks = [3,11,13]\r\nrests = [2,7,10]\r\n\r\ncommands = []\r\n\r\nindex = 1\r\n\r\ngridLines = (x,y,w,h,xCount,yCount) ->\r\n\tsc 0\r\n\tsw 1\t\r\n\tfor i in range xCount+1\r\n\t\tline x+w*i,y, x+w*i,y+yCount*h\r\n\tfor j in range yCount+1\r\n\t\tline x,y+h*j,x+xCount*w,y+h*j\r\n\r\nmakeCommands = ->\r\n\taddText  0,0,0,\"Använd piltangenterna\"\r\n\r\n\taddText \"Problem:\",100,20,\"Tag reda på vilka klockor man ska klicka på\"\r\n\taddText \"Klockor: [3,11,13]\",120,20\r\n\taddText \"Rester:  [2, 7,10]\",120,50\r\n\taddText \"Steg: 8\",120,80\r\n\taddText \"Lösning:\",15,80+30\r\n\r\n\t#addText 0,0,0,\r\n\r\n\tfor i in range 3\r\n\t\taddText ticks[i],40,30+125+30*i,\"Skriv upp klockorna\"\r\n\r\n\tfor i in range 3\r\n\t\taddText rests[i],80,30+125+30*i,\"Skriv upp resterna\"\r\n\r\n\taddLine 90,30+100+4,90,30+100+94,3\r\n\r\n\taddText 18,120,30+100+55,\"Vrid klockan med näst störst värde (11). 11 + 7 = 18\"\r\n\taddText 23,120,30+100+85,\"Vrid klockan med näst störst värde (13). 13 + 10 = 23\"\r\n\taddText 29,160,30+100+55,\"Vrid klockan med näst störst värde (11). 11 + 18 = 29\"\r\n\taddText 36,160,30+100+85,\"Vrid klockan med näst störst värde\"\r\n\taddText 40,200,30+100+55,\"Vrid klockan med näst störst värde\"\r\n\taddText 49,200,30+100+85,\"Vrid klockan med näst störst värde\"\r\n\taddText 51,240,30+100+55,\"Vrid klockan med näst störst värde\"\r\n\taddText 62,240,30+100+85,\"Vrid klockan med näst störst värde\"\r\n\taddText 62,280,30+100+55,\"Vrid klockan med näst störst värde\"\r\n\r\n\taddText 0,0,0,\"De två största klockorna har nu samma värde. Summa=62\"\r\n\taddText 0,0,0,\"Kontrollera att alla klockor uppfyller summa % klocka = rest\"\r\n\taddText 2,80,30+100+25,\"62 % 3 är 2\"\r\n\taddText 7,80,30+100+55,\"62 % 11 är 7\"\r\n\taddText 10,80,30+100+85,\"62 % 13 är 10\"\r\n\t\r\n\taddText 62,280,30+155,\"Detta innebär att summan 62 är den vi söker\"\r\n\r\n\taddText 0,0,0,\"Nu skapar vi en differensmatris som vi kommer att behöva senare\"\r\n\r\n\t# Differensmatrisen\r\n\taddText 3,80,30+100+140,\"Skriv upp klockornas kolumnrubriker\"\r\n\taddText 11,120,30+100+140,\"Skriv upp klockornas kolumnrubriker\"\r\n\taddText 13,160,30+100+140,\"Skriv upp klockornas kolumnrubriker\"\r\n\taddLine 4,30+100+148,164,30+100+148,3\r\n\r\n\taddText 3,40,30+100+170,\"Skriv upp klockornas radrubriker\"\r\n\taddText 11,40,30+100+200,\"Skriv upp klockornas radrubriker\"\r\n\taddText 13,40,30+100+230,\"Skriv upp klockornas radrubriker\"\r\n\taddLine 45,30+100+119,45,30+100+238,3\r\n\r\n\tfor j in range 3\r\n\t\tfor i in range 3\r\n\t\t\tx = 80+40*i\r\n\t\t\ty = 30+100+170+30*j\r\n\t\t\taddText ticks[i]-ticks[j],x,y,\"Differensen blir #{ticks[i]} - #{ticks[j]}\"\r\n\r\n\taddText 0,0,0,\"Nu ska de åtta stegen fördelas på de tre klockorna\"\r\n\r\n\taddText 3,60,30+100+270,\"Skriv upp klockornas kolumnrubriker\"\r\n\taddText 11,100,30+100+270,\"Skriv upp klockornas kolumnrubriker\"\r\n\taddText 13,140,30+100+270,\"Skriv upp klockornas kolumnrubriker\"\r\n\r\n\taddLine 25,30+100+280,145,30+100+280,3\r\n\r\n\taddText 'Uppnå summan 62 med 8 steg',160,30+100+270\r\n\r\n\taddText 3,60,30+100+300,\"Fördela de 8 stegen på de 3 klockorna efter eget behag\"\r\n\taddText 3,100,30+100+300,\"Fördela de 8 stegen på de tre klockorna efter eget behag\"\r\n\taddText 2,140,30+100+300,\"Fördela de 8 stegen på de tre klockorna efter eget behag\"\r\n\taddLine 25,30+100+310,145,30+100+310,2\r\n\r\n\taddText '3*3 + 3*11 + 2*13 = 68',400,30+100+300,\"Beräkna en ny summa, 68. Den måste minskas med 6 för att bli 62\"\r\n\taddText 0,0,0,\"I matrisen kan vi erhålla -6 genom att lägga ihop 2 och -8\"\r\n\r\n\taddText '2',80+40*2,30+270+30*1,\"Här är 2\"\r\n\taddText '-8',80+40*0,30+270+30*1,\"Här är -8\"\r\n\r\n\taddText '-1',100,30+100+330,\"2 uppnås genom att minska antalet steg på 11 ...\"\r\n\taddText '+1',140,30+100+330,\"... och öka antalet steg på 13\"\r\n\taddText 'Ger summan 68 + 2 = 70',160,30+100+330\r\n\r\n\taddText '-1',100,30+100+360,\"-8 uppnås genom att minska antalet steg på 11 ...\"\r\n\taddText '+1',60,30+100+360,\"... och öka antalet steg på 3\"\r\n\taddText 'Ger summan 70 - 8 = 62',160,30+100+360\r\n\taddLine 25,30+100+370,145,30+100+370,3\r\n\r\n\taddText 4,60,30+100+390,\"Beräkna det justerade antalet 3 +1 = 4\"\r\n\taddText 1,100,30+100+390,\"Beräkna det justerade antalet 3 -1 -1 = 1\"\r\n\taddText 3,140,30+100+390,\"Beräkna det justerade antalet 2 +1 = 3\"\r\n\taddText \"4*3 + 1*11 + 3*13 = 62\",400,30+100+390,\"Kontroll av summa\"\r\n\r\n\taddLine 25,30+100+403,145,30+100+403,1\r\n\r\n\taddText 0,0,0,\"Dvs, klicka 4, 1 samt 3 gånger på klockorna\"\r\n\r\n\t#index = 70 #commands.length\r\n\r\nxdraw = ->\r\n\tbg 0.5\r\n\ttextAlign RIGHT\r\n\r\n\tgridLines 10,30+100+4,40,30,10,3\r\n\tgridLines 4,30+100+118,40,30,4,4 \r\n\tgridLines 25,30+100+250,40,30,3,5\r\n\r\n\tfor i in range index\r\n\t\tif commands[i].length == 5 # line\r\n\t\t\t[x1,y1,x2,y2,d] = commands[i]\r\n\t\t\tsw d\r\n\t\t\tif i==index-1 then sc 1,1,0 else sc 0 \r\n\t\t\tline x1,y1,x2,y2\r\n\t\telse \r\n\t\t\ttextAlign if commands[i].length==4 then RIGHT else LEFT \r\n\t\t\t[txt,x,y] = commands[i]\r\n\t\t\tif i==index-1 then fc 1,1,0 else fc 0 \r\n\t\t\tsc()\r\n\t\t\ttext txt,x,y\r\n\tcommand = commands[index-1]\r\n\tfc 0\r\n\tsc()\r\n\tif command.length == 4\r\n\t\ttextAlign LEFT\r\n\t\ttext command[3],10,height-10\r\n\ttextAlign RIGHT\r\n\ttext '#' + index,width-10,height-10\r\n\r\nmove = (delta) ->\r\n\t\tif delta == -1\r\n\t\t\tlstr = [commands.length,47,29,6,1]\r\n\t\t\ti = _.findIndex lstr, (x) => index > x\r\n\t\t\tif i==-1 then return\r\n\t\t\tindex = lstr[i]\r\n\t\telse\r\n\t\t\tlst = [1,6,29,47,commands.length]\r\n\t\t\ti = _.findIndex lst, (x) => index < x\r\n\t\t\tif i==-1 then return\r\n\t\t\tindex = lst[i]\r\n\r\nkeyPressed = ->\r\n\tif keyCode == LEFT_ARROW then index--\r\n\tif keyCode == RIGHT_ARROW then index++\r\n\tif keyCode in [UP_ARROW,33] then move -1 \r\n\tif keyCode in [DOWN_ARROW,34] then move 1\r\n\tif keyCode == 36 then index = 1\r\n\tif keyCode == 35 then index = commands.length \r\n\tindex = constrain index,1,commands.length\r\n\txdraw()\r\n"
  ]
}