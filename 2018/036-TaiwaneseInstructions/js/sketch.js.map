{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# negativt x innebär högerjustering. Characters, not pixels\r\n\r\nWIDTH  = 10 # pixels per character\r\nHEIGHT = 23 # pixels per character\r\n\r\nsetup = -> \r\n\tcreateCanvas 800,600\r\n\ttextSize 20\r\n\ttextFont 'monospace'\r\n\tstrokeCap SQUARE\r\n\tmakeCommands()\r\n\tprint objects \r\n\txdraw()\r\n\r\nticks = [3,11,13]\r\nrests = [2,7,10]\r\nobjects = []\r\ng0=null\r\ng1=null\r\ng2=null\r\ng3=null\r\n\r\nindex = 0 \r\n\r\nclass Text \r\n\tconstructor : (@txt,@x,@y,@comment='') -> \r\n\tdraw : (i) ->\r\n\t\tif i >= index then return \r\n\t\tif @x < 0 then textAlign RIGHT,TOP else textAlign LEFT,TOP \r\n\t\tif @index == index then fc 1,1,0 else fc 0 \r\n\t\tsc()\r\n\t\tp = @parent\r\n\t\ttext @txt,WIDTH*(p.x + p.w*abs(@x)),HEIGHT*(p.y + p.h*@y)\r\n\t\tif @index == index then drawComment @comment \r\n\r\nclass Line \r\n\tconstructor : (@x1,@y1,@x2,@y2,@d,@comment='') -> \r\n\tdraw : (i) ->\r\n\t\tif i >= index then return \r\n\t\tsw @d\r\n\t\tif @index == index then fc 1,1,0 else fc 0 \r\n\t\tp = @parent\r\n\t\tline WIDTH*(p.x + p.w*@x1+0.5),HEIGHT*(p.y + p.h*@y1),WIDTH*(p.x + p.w*@x2+0.5),HEIGHT*(p.y + p.h*@y2)\r\n\t\tif @index == index then drawComment @comment\r\n\r\nclass Grid \r\n\tconstructor : (@x,@y,@w,@h,@xCount,@yCount,@visible,@comment='') -> \r\n\t\tindex++\r\n\t\t@index = index\r\n\t\tobjects.push @\r\n\tadd : (obj) -> \r\n\t\tindex++\r\n\t\tobj.index = index\r\n\t\tobjects.push obj\r\n\t\tobj.parent = @\r\n\tdraw : (i) ->\r\n\t\tif @visible and i <= index \r\n\t\t\tsw 1\t\r\n\t\t\tsc 0 \r\n\t\t\tif @index == index then sc 1,1,0 else sc 0 \r\n\t\t\tfor j in range @xCount+1\r\n\t\t\t\tline WIDTH*(0.5+@x+@w*j), HEIGHT*@y, WIDTH*(0.5+@x+@w*j), HEIGHT*(@y+@yCount*@h)\r\n\t\t\tfor j in range @yCount+1\r\n\t\t\t\tline WIDTH*(0.5+@x), HEIGHT*(@y+@h*j), WIDTH*(0.5+@x+@xCount*@w), HEIGHT*(@y+@h*j)\r\n\t\tif @index == index then drawComment @comment\r\n\t\r\nmakeCommands = ->\r\n\tg0 = new Grid 0, 0, 1,1,100,30,false,'Taiwanese Remainders: Använd piltangenterna'\r\n\r\n\tg0.add new Text \"Problem:\",0,0,\"Tag reda på vilka klockor man ska klicka på\"\r\n\tg0.add new Text \"Klockor: [3,11,13]\",10,0\r\n\tg0.add new Text \"Rester:  [2, 7,10]\",10,1\r\n\tg0.add new Text \"Steg: 8\",10,2\r\n\tg0.add new Text \"(% innebär modulo, dvs resten vid heltalsdivision)\",20,2\r\n\tg0.add new Text \"Lösning:\",0,3\r\n\r\n\tg1 = new Grid 0, 4, 4,1, 10, 3,true,'Chinese Remainders'\r\n\tfor i in range 3\r\n\t\tg1.add new Text ticks[i],-1,i,\"Klocka #{ticks[i]}\"\r\n\tfor i in range 3\r\n\t\tg1.add new Text rests[i],-2,i,\"Rest #{rests[i]}\"\r\n\tg1.add new Line 2,0,2,3,3\r\n\tg1.add new Text 18,-3,1,\"Vrid klockan med näst störst värde (7). 11 + 7 = 18\"\r\n\tg1.add new Text 23,-3,2,\"Vrid klockan med näst störst värde (10). 13 + 10 = 23\"\r\n\tg1.add new Text 29,-4,1,\"Vrid klockan med näst störst värde (18). 11 + 18 = 29\"\r\n\tg1.add new Text 36,-4,2,\"Vrid klockan med näst störst värde\"\r\n\tg1.add new Text 40,-5,1,\"Vrid klockan med näst störst värde\"\r\n\tg1.add new Text 49,-5,2,\"Vrid klockan med näst störst värde\"\r\n\tg1.add new Text 51,-6,1,\"Vrid klockan med näst störst värde\"\r\n\tg1.add new Text 62,-6,2,\"Vrid klockan med näst störst värde\"\r\n\tg1.add new Text 62,-7,1,\"Vrid klockan med näst störst värde\"\r\n\tg1.add new Text '', 0,0,\"De två största klockorna har nu samma värde. Summa=62\"\r\n\tg1.add new Text '', 0,0,\"Kontrollera att alla klockor uppfyller summa % klocka = rest\"\r\n\tg1.add new Text 2, -2,0,\"62 % 3 = 2\"\r\n\tg1.add new Text 7, -2,1,\"62 % 11 = 7\"\r\n\tg1.add new Text 10,-2,2,\"62 % 13 = 10\"\r\n\tg1.add new Text 62,-7,1,\"Detta innebär att summan 62 är den vi söker\"\r\n\r\n\tg0.add new Text '',0,0,\"Nu skapar vi en differensmatris som vi kommer att behöva senare\"\r\n\r\n\tg2 = new Grid 0, 8, 4,1,  4, 4,true,'Differensmatris'\r\n\r\n\tg2.add new Text 3,-1,1,\"från-klocka 3\"\r\n\tg2.add new Text 11,-1,2,\"från-klocka 11\"\r\n\tg2.add new Text 13,-1,3,\"från-klocka 13\"\r\n\tg2.add new Line 1,0,1,4,3\r\n\tg2.add new Text 'Från',0,4,\"Dessa klockor utgör från-klockor\"\r\n\r\n\tg2.add new Text 3,-2,0,\"till-klocka 3\"\r\n\tg2.add new Text 11,-3,0,\"till-klocka 11\"\r\n\tg2.add new Text 13,-4,0,\"till-klocka 13\"\r\n\tg2.add new Line 0,1,4,1,3\r\n\tg2.add new Text 'Till',4.2,0,\"Dessa klockor utgör till-klockor\"\r\n\r\n\tfor j in range 3\r\n\t\tfor i in range 3\r\n\t\t\tx = -2-i\r\n\t\t\ty = 1+j\r\n\t\t\tif ticks[i] != ticks[j]\r\n\t\t\t\tg2.add new Text ticks[i]-ticks[j],x,y,\"Differensen blir #{ticks[i]} - #{ticks[j]} = #{ticks[i] - ticks[j]}\"\r\n\r\n\tg0.add new Text '',0,0,\"Nu ska de åtta stegen fördelas på de tre klockorna\"\r\n\r\n\tg3 = new Grid 4,14, 4,1,  3, 5,true,'Ryggsäcksproblemet'\r\n\tg3.add new Text 3,-1,0,\"Skriv upp klockornas kolumnrubriker\"\r\n\tg3.add new Text 11,-2,0,\"Skriv upp klockornas kolumnrubriker\"\r\n\tg3.add new Text 13,-3,0,\"Skriv upp klockornas kolumnrubriker\"\r\n\tg3.add new Line 0,1,3,1,3\r\n\tg3.add new Text 'Uppnå summan 62 med 8 steg',4,0\r\n\tg3.add new Text 3,-1,1,\"Fördela de 8 stegen på de 3 klockorna efter eget behag\"\r\n\tg3.add new Text 3,-2,1,\"Fördela de 8 stegen på de tre klockorna efter eget behag\"\r\n\tg3.add new Text 2,-3,1,\"Fördela de 8 stegen på de tre klockorna efter eget behag\"\r\n\tg3.add new Line 0,2,3,2,2\r\n\tg3.add new Text '3*3 + 3*11 + 2*13 = 68  (3+3+2=8)',4,1,\"Beräkna en ny summa, 68. Den måste minskas med 6 för att bli 62\"\r\n\tg3.add new Text '',0,0,\"I matrisen kan vi erhålla -6, dvs 62-68, genom att addera 2 och -8\"\r\n\r\n\tg2.add new Text '2',-4,2,\"Här är 2\"\r\n\tg2.add new Text '-8',-2,2,\"Här är -8\"\r\n\r\n\tg3.add new Text '-1',-2,2,\"2 uppnås genom att minska antalet steg på klocka 11 ...\"\r\n\tg3.add new Text '+1',-3,2,\"... och öka antalet steg på klocka 13\"\r\n\tg3.add new Text 'Flytta ett steg från klocka 11 till klocka 13',4,2,\"Observera att ibland blir -2, +3 osv nödvändigt\"\r\n\tg3.add new Text '-1',-2,3,\"-8 uppnås genom att minska antalet steg på klocka 11 ...\"\r\n\tg3.add new Text '+1',-1,3,\"... och öka antalet steg på klocka 3\"\r\n\tg3.add new Text 'Flytta ett steg från klocka 11 till klocka 3',4,3,\"Observera att stegantalet för en klocka ej kan vara negativt\"\r\n\tg3.add new Line 0,4,3,4,3\r\n\r\n\tg3.add new Text 4,-1,4,\"Beräkna det justerade antalet 3 +1 = 4\"\r\n\tg3.add new Text 1,-2,4,\"Beräkna det justerade antalet 3 -1 -1 = 1\"\r\n\tg3.add new Text 3,-3,4,\"Beräkna det justerade antalet 2 +1 = 3\"\r\n\tg3.add new Text \"4*3 + 1*11 + 3*13 = 62\",4,4,\"Kontroll av summa\"\r\n\r\n\tg0.add new Text \"Svar: Klicka 4, 1 samt 3 gånger på klockorna\",0,20,\"Ibland kan man behöva utföra fler flyttningar\"\r\n\tg0.add new Text \"\",0,0,\"Ibland kan man finna flera lösningar\"\r\n\r\n\tindex = 1\r\n\r\ndrawComment = (comment) ->\r\n\tfc 0\r\n\tsc()\r\n\ttextAlign LEFT,BOTTOM\r\n\ttext comment,10,height-10\r\n\ttextAlign RIGHT,BOTTOM\r\n\ttext '#' + index,width-10,height-10\r\n\r\nxdraw = ->\r\n\tbg 0.5\r\n\tfor obj,i in objects\r\n\t\tobj.draw i\r\n\r\nmove = (delta) ->\r\n\tif delta == -1\r\n\t\tlstr = [objects.length,g3.index,g2.index,g1.index,g0.index]\r\n\t\ti = _.findIndex lstr, (x) => index > x\r\n\t\tif i==-1 then return\r\n\t\tindex = lstr[i]\r\n\telse\r\n\t\tlst = [g0.index,g1.index,g2.index,g3.index,objects.length]\r\n\t\ti = _.findIndex lst, (x) => index < x\r\n\t\tif i==-1 then return\r\n\t\tindex = lst[i]\r\n\r\nkeyPressed = ->\r\n\tif keyCode == LEFT_ARROW then index--\r\n\tif keyCode == RIGHT_ARROW then index++\r\n\tif keyCode in [UP_ARROW,33] then move -1 \r\n\tif keyCode in [DOWN_ARROW,34] then move 1\r\n\tif keyCode == 36 then index = 1\r\n\tif keyCode == 35 then index = objects.length \r\n\tindex = constrain index,1,objects.length\r\n\txdraw()\r\n"
  ]
}