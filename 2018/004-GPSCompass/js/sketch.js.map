{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": ";;;AAAA,IAAA,QAAA,QAAA,UAAA,SAAA,gBAAA,oBAAA,IAAA,IAAA,aAAA,aAAA,aAAA,aAAA,mBAAA,OAAA;;AAAA;AACC,OAAA,AAAK;AACL,OADA,AACK;AADL;;AAGD;AACC,OAAA,AAAK;AACL,OADA,AACK;;;AAGL,aAJA,AAIW;AAJX;;AAMD,QAAQ;;AAER,cAAc,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AACtC,cAAc,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AACtC,cAAc,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AACtC,cAAc,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AACtC,oBAAoB,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AAC5C,WAAW,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AAEnC,SAAS,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AACjC,SAAS,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AACjC,QAAQ,AAAQ,SAAR,AAAS,eAAT,AAAwB;;AAChC,UAAU,AAAQ,SAAR,AAAS,eAvBnB,AAuBU,AAAwB;;;;;;;;;;;;;;AAelC,iBAAiB,wBAAA,AAAC,UACjB;MAAA;AAAA,AAAE,KAAF,AAAG,MAAM,AAAQ,SAAC,AAAM,OAAC;AACzB,AAAE,KAAF,AAAG,MAAM,AAAQ,SAAC,AAAM,OADxB,AACyB;;;AAGzB,AAAE,KAAF,AAAG,YAAY,AAAQ,SAAC;AAExB,AAAK,QAAL,AAAM,KAAN,AAAW;AAEX,AAAW,cAAX,AAAY,cAAc,AAAE,GAAC;AAC7B,AAAW,cAAX,AAAY,cAAc,AAAE,GAAC;AAC7B,AAAW,cAAX,AAAY,AAAc,cAAG,AAAI,KAAJ,AAAK,MAAM,YAAY,AAAE,GAAd,AAAe,KAAI,AAAE,GAArB,AAAsB,KAAK,AAAE,GAA7B,AAA8B,KAAI,AAAE,GAAlD,AAAG,AAAW,AAAqC,AAAI;AACjF,AAAW,cAAX,AAAY,cAAc,AAAE,GAAC;AAC7B,AAAiB,oBAAjB,AAAkB,cAAc,AAAE,GAAC;AAEnC,AAAQ,WAAR,AAAS,AAAc,cAAG,AAAI,KAAJ,AAAK,MAAM,kBAAkB,AAAE,GAApB,AAAqB,KAAI,AAAE,GAA3B,AAA4B,KAAK,AAAE,GAAnC,AAAoC,KAAI,AAAE,GAAxD,AAAG,AAAW,AAA2C,AAAI;AAEpF,MAAG,AAAK,MAAL,AAAM,UAAT,AAAmB;AAClB,SAAK,AAAM,MAAA,AAAK,MAAL,AAAM,SAAN,AAAa;AACxB,AAAM,WAAN,AAAO,AAAc,cAAG,AAAE,GAAF,AAAG,YAAY,AAAE,GAApB,AAAqB,AAAU;AACpD,AAAM,WAAN,AAAO,AAAc,cAAG,AAAI,KAAJ,AAAK,MAAM,kBAAkB,AAAE,GAApB,AAAqB,KAAI,AAAE,GAA3B,AAA4B,KAAK,AAAE,GAAnC,AAAoC,KAAI,AAAE,GAAxD,AAAG,AAAW,AAA2C,AAAI;AAClF,AAAK,UAAL,AAAM,cAAc;WACpB,AAAO,QAAP,AAAQ,AAAc,cAAG,AAAI,KAAJ,AAAK,MAAM,YAAY,AAAE,GAAd,AAAe,KAAI,AAAE,GAArB,AAAsB,KAAK,AAAE,GAA7B,AAA8B,KAAI,AAAE,GALzE,AAKuB,AAAG,AAAW,AAAqC,AAAI;AAtB9D;;;AAwBjB,qBAAqB,4BAAA,AAAC;AACrB,AAAW,cAAX,AAAY,cAAc;SAC1B,AAAW,YAAX,AAAY,cAFQ,AAEM;;;AAE3B,AAAS,UAAC,AAAW,YAArB,AAAsB,cAAtB,AAAoC,gBAApC,AAAoD;AAClD,sBAAA,AAAoB;AACpB,cADA,AACY;AACZ,WAHF,AACE,AAES;AAFT",
  "sourcesContent": [
    "p2 = # Ulvsjön\r\n\tlat: 59.277103\r\n\tlng: 18.164897\r\n\r\np1 = # Home\r\n\tlat: null\r\n\tlng: null\r\n\t#hng: null # NESW = [0,90,180,270]\r\n\t#spd: null # m/s\r\n\ttimestamp: null\r\n\r\ntrack = []\r\n\r\npositionLat = document.getElementById \"position-lat\"\r\npositionLng = document.getElementById \"position-lng\"\r\npositionHng = document.getElementById \"position-hng\"\r\npositionSpd = document.getElementById \"position-spd\"\r\npositionTimestamp = document.getElementById \"timestamp\"\r\ndistance = document.getElementById \"distance\"\r\n\r\ndeltat = document.getElementById \"deltat\"\r\ndeltas = document.getElementById \"deltas\"\r\nspeed = document.getElementById \"speed\"\r\nheading = document.getElementById \"heading\"\r\n\r\n# decimalToSexagesimal = (decimal, type) ->\r\n# \tdegrees = decimal | 0\r\n# \tfraction = Math.abs decimal - degrees\r\n# \tminutes = (fraction * 60) | 0;\r\n# \tseconds = (fraction * 3600 - minutes * 60) | 0\r\n\r\n# \tdirection = \"\"\r\n# \tpositive = degrees > 0\r\n# \tdegrees = Math.abs degrees\r\n# \tif type == \"lat\" then direction = if positive then \"N\" else \"S\"\r\n# \tif type == \"lng\" then\tdirection = if positive then \"E\" else \"W\"\r\n# \tdegrees + \"° \" + minutes + \"' \" + seconds + \"\\\" \" + direction\r\n\r\nlocationUpdate = (position) ->\r\n\tp1.lat = position.coords.latitude\r\n\tp1.lng = position.coords.longitude\r\n\t#p1.hng = position.coords.heading\r\n\t#p1.spd = position.coords.speed\r\n\tp1.timestamp = position.timestamp\r\n\r\n\ttrack.push p1\r\n\r\n\tpositionLat.textContent = p1.lat\r\n\tpositionLng.textContent = p1.lng\r\n\tpositionHng.textContent = \"#{Math.round calcHeading p1.lat,p1.lng, p2.lat,p2.lng} grader\"\r\n\tpositionSpd.textContent = p1.spd\r\n\tpositionTimestamp.textContent = p1.timestamp\r\n\r\n\tdistance.textContent = \"#{Math.round distance_on_geoid p1.lat,p1.lng, p2.lat,p2.lng} meter\"\r\n\r\n\tif track.length >= 2 \r\n\t\tp0 = track[track.length-2]\r\n\t\tdeltat.textContent = \"#{p1.timestamp - p0.timestamp} millis\"\r\n\t\tdeltas.textContent = \"#{Math.round distance_on_geoid p0.lat,p0.lng, p1.lat,p1.lng} meter\"\r\n\t\tspeed.textContent = \"?\"\r\n\t\theading.textContent = \"#{Math.round calcHeading p0.lat,p0.lng, p1.lat,p1.lng} grader\"\r\n\r\nlocationUpdateFail = (error) ->\r\n\tpositionLat.textContent = \"n/a\"\r\n\tpositionLng.textContent = \"n/a\"\r\n\r\nnavigator.geolocation.watchPosition locationUpdate, locationUpdateFail, \r\n\t\tenableHighAccuracy: false\r\n\t\tmaximumAge: 30000\r\n\t\ttimeout: 27000"
  ]
}