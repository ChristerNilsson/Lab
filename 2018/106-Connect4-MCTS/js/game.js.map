{
  "version": 3,
  "file": "game.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\game.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "N_ROWS = 6\r\nN_COLS = 7\r\n\r\nboardPrototype = ([0,0,0,0,0,0,0]     for i in range N_ROWS)\r\ncheckPrototype = ([0,0,0,0,0,0,0,0,0] for i in range N_COLS)\r\n\r\nclass Game\r\n\r\n\tstart : () ->\r\n\t\tnewBoard = boardPrototype.map (row) => row.slice()\r\n\t\tnew State [], newBoard, 1\r\n\r\n\tlegalPlays : (state) ->\r\n\t\tres = []\r\n\t\tfor col in range N_COLS\r\n\t\t\tfor row in range N_ROWS-1, -1, -1\r\n\t\t\t\tif state.board[row][col] == 0\r\n\t\t\t\t\tres.push new Play row, col\r\n\t\t\t\t\tbreak\r\n\t\tres\r\n\r\n\tnextState : (state, play) ->\r\n\t\tnewHistory = state.playHistory + play.col \r\n\t\tnewBoard = state.board.map (row) => row.slice()\r\n\t\tnewBoard[play.row][play.col] = state.player\r\n\t\tnewPlayer = -state.player\r\n\t\tnew State newHistory, newBoard, newPlayer\r\n\r\n\twinner : (state) ->\r\n\r\n\t\tres = 0\r\n\t\tfor item in state.board[0] \r\n\t\t\tif item == 0 then res++\r\n\t\tif res == 0 then return 0\r\n\r\n\t\tcheckBoards = ((checkPrototype.map (row) => row.slice()) for i in range 4)\r\n\r\n\t\tfor row in range N_ROWS\r\n\t\t\tfor col in range N_COLS\r\n\t\t\t\tcell = state.board[row][col]\r\n\t\t\t\tfor val,i in checkBoards \r\n\t\t\t\t\t[dr,dc] = [[1,0],[0,1],[0,0],[0,2]][i]\r\n\t\t\t\t\tacc = val[row+dr][col+dc]\r\n\t\t\t\t\tval[row + 1][col + 1] = cell\r\n\t\t\t\t\tif cell < 0 and acc < 0 or cell > 0 and acc > 0\r\n\t\t\t\t\t\tval[row + 1][col + 1] += acc\r\n\t\t\t\t\t\r\n\t\t\t\t\tif val[row + 1][col + 1] == 4 then return 1\r\n\t\t\t\t\tif val[row + 1][col + 1] == -4 then return -1\r\n\t\tnull\r\n\r\n"
  ]
}