{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "places = []\r\nplaces.push {name:'Bagarmossen Sushi',     lat:59.277560, lng:18.132739}\r\nplaces.push {name:'Bagarmossen T',         lat:59.276264, lng:18.131465}\r\nplaces.push {name:'Björkhagens Golfklubb', lat:59.284052, lng:18.145925}\r\nplaces.push {name:'Björkhagen T',          lat:59.291114, lng:18.115521}\r\nplaces.push {name:'Brotorpsbron',          lat:59.270067, lng:18.150236}\r\nplaces.push {name:'Brotorpsstugan',        lat:59.270542, lng:18.148473}\r\nplaces.push {name:'Kärrtorp T',            lat:59.284505, lng:18.114477}\r\nplaces.push {name:'Hellasgården',          lat:59.289813, lng:18.160577}\r\nplaces.push {name:'Hem',                   lat:59.265205, lng:18.132735}\r\nplaces.push {name:'Parkeringsgran',        lat:59.274916, lng:18.161353}\r\nplaces.push {name:'Pers badställe',        lat:59.289571, lng:18.170767}\r\nplaces.push {name:'Skarpnäck T',           lat:59.266432, lng:18.133093}\r\nplaces.push {name:'Söderbysjön N Bron',    lat:59.285500, lng:18.150542}\r\nplaces.push {name:'Söderbysjön S Bron',    lat:59.279155, lng:18.149318}\r\nplaces.push {name:'Ulvsjön, Udden',        lat:59.277103, lng:18.164897}\r\n\r\npages = []\r\nplaceIndex = 0\r\nplace = places[placeIndex]\r\noldName = null\r\nname = null\r\nlatitude = null\r\nlongitude = null\r\n\r\nmakeCanvas = ->\r\n\telem = document.getElementById 'myContainer'\r\n\telem.style.display = 'block'\r\n\r\nmakeDiv = (title) ->\r\n\tb = document.createElement 'div'\r\n\tb.innerHTML = title\r\n\tb\r\n\r\nmakeInput = (title,value) ->\r\n\tb = document.createElement 'input'\r\n\tb.id = title\r\n\tb.value = value \r\n\tb\r\n\r\nmakeButton = (title,f) ->\r\n\tb = document.createElement 'input'\r\n\tb.type = 'button'\r\n\tb.value = title\r\n\tb.onclick = f\r\n\tb\r\n\r\naddCell = (tr,value) ->\r\n\ttd = document.createElement \"td\"\r\n\ttd.appendChild value\r\n\ttr.appendChild td\r\n\r\ngetField = (name) ->\r\n\telement = document.getElementById(name)\r\n\tif element then element.value else null\r\n\r\nclass Page\r\n\r\n\tconstructor : (@title, @elements) ->\r\n\t\t@table = document.getElementById \"table\"\r\n\r\n\tdisplay : ->\r\n\t\telem = document.getElementById 'myTitle'\r\n\t\telem.innerHTML = @title + if @title =='Nav' then ': ' + place.name else \"\"\r\n\r\n\t\telem = document.getElementById 'myContainer'\r\n\t\telem.style.display = 'none'\t\t\r\n\r\n\t\t# rensa body\r\n\t\t@table.innerHTML = \"\"\r\n\r\n\t\tfor element in @elements\r\n\t\t\t@makeElement element\r\n\t\t\t\t\r\n\thandleRow : (b) ->\r\n\t\ttr = document.createElement \"tr\"\r\n\t\taddCell tr,b\r\n\t\t@table.appendChild tr\r\n\r\n\tmakeElement : (nr) ->\r\n\t\t# After Add\r\n\t\tif nr==2 then @handleRow makeButton 'Save', -> \r\n\t\t\tname = getField \"name\"\r\n\t\t\tlatitude = getField \"latitude\"\r\n\t\t\tlongitude = getField \"longitude\"\r\n\t\t\tplaces.push {name:name,lat:latitude,lng:longitude}\r\n\t\t\tplaces.sort (a,b) -> if a.name > b.name then 1 else -1\r\n\t\t\tpages[0].display()\r\n\t\r\n\t\tif nr==3 # Edit\r\n\t\t\toldName = place.name\r\n\t\t\t@handleRow makeInput 'name',place.name\r\n\t\t\t@handleRow makeInput 'latitude',place.lat\r\n\t\t\t@handleRow makeInput 'longitude',place.lng\r\n\r\n\t\tif nr==4 # Add\r\n\t\t\t@handleRow makeInput 'name','2018-01-15 12:34:56'\r\n\t\t\t@handleRow makeInput 'latitude','59.123456'\r\n\t\t\t@handleRow makeInput 'longitude','18.123456'\r\n\r\n\t\tif nr==5 then @handleRow makeButton 'List', -> pages[0].display()\r\n\t\tif nr==6 then @handleRow makeButton 'Map', -> window.open \"http://maps.google.com/maps?q=#{place.lat},#{place.lng}\"\r\n\r\n\t\tif nr==7 then @handleRow makeButton 'Update', -> # After Edit \r\n\t\t\tname = getField \"name\"\r\n\t\t\tlatitude = getField \"latitude\"\r\n\t\t\tlongitude = getField \"longitude\"\r\n\r\n\t\t\t# finns namnet redan?\r\n\t\t\tif oldName == name\r\n\t\t\t\tfor p in places\r\n\t\t\t\t\tif oldName == p.name\r\n\t\t\t\t\t\tp.lat = latitude\r\n\t\t\t\t\t\tp.lng = longitude\r\n\t\t\telse\r\n\t\t\t\tplaces = places.filter (e) => e.name != oldName\r\n\t\t\t\tplaces.push {name:name,lat:latitude,lng:longitude}\r\n\t\t\t\tplaces.sort (a,b) -> if a.name > b.name then 1 else -1\r\n\t\t\tpages[0].display()\r\n\r\n\t\tif nr==8 then @handleRow makeButton 'Delete', -> \r\n\t\t\tplaces = places.filter (e) => e.name != place.name\r\n\t\t\tpages[0].display()\r\n\r\n\t\tif nr==9 then @handleRow makeButton 'Cancel', -> pages[1].display()\r\n\t\tif nr==10 then @handleRow makeButton 'Add', -> pages[3].display()\r\n\t\tif nr==11 then @handleRow makeButton 'Edit', -> pages[2].display()\r\n\t\tif nr==12 then makeCanvas()\r\n\r\n\t\tif nr==13\r\n\t\t\tfor p,i in places\r\n\t\t\t\tdo (i) =>\r\n\t\t\t\t\t@handleRow makeButton p.name, => \r\n\t\t\t\t\t\tplaceIndex = i\r\n\t\t\t\t\t\tplace = places[i]\r\n\t\t\t\t\t\tpages[1].display()\r\n\r\nsetup = ->\r\n\tc = createCanvas 200,200\r\n\tc.parent 'myContainer'\t\r\n\telem = document.getElementById 'myContainer'\r\n\telem.style.display = 'none'\r\n\r\n\tpages.push new Page 'List', [10,13] # Add Places\r\n\tpages.push new Page 'Nav',  [12,5,6,10,11,8] # Canvas List Map Add Edit Delete\r\n\tpages.push new Page 'Edit', [3,7,9] # 3fält Update Cancel\r\n\tpages.push new Page 'Add',  [4,2,9] # 3fält Save Cancel\r\n\tpages[0].display()\r\n\r\ndraw = ->\r\n\tbg 0.5\r\n\ttext place.name,100,100\r\n"
  ]
}