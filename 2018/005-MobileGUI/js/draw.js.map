{
  "version": 3,
  "file": "draw.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\draw.coffee"
  ],
  "names": [],
  "mappings": ";;;AAAA,IAAA,MAAA,aAAA,WAAA,YAAA;;AAAA,YAAY,mBAAA,AAAC,QACZ;MAAA,IAAA,GAAA,GAAA,GAAA,KAAA,MAAA,KAAA;AAAA;;AAGA,OAAK,OAAO;AACZ,KAAA,AAAG;AACH,KAAA,AAAG,AACH;;AAAA,OAAA,kCAAA;;AACC,SAAK,IAAA,AAAE,IAAP,AAAS,IAAG,CAAA,AAAC,MAAb,AAAiB,QAAO,IAAA,AAAE,IAA1B,AAA4B,IAAG,MADhC,AACC,AAAmC;AAPpC;;AAUA,KAAA,AAAG;AACH,KAAA,AAAG;AACH;AACA,SAAA,AAAO,GAAP,AAAS,GAAE,MAbX,AAaA,AAAe;;AAGf,KAAA,AAAG;AACH,KAAG,OAAH,AAAQ;AACR,OAAA,AAAK,GAAE,CAAA,AAAC,OAAR,AAAa,QAAb,AAAoB,GAAE,OAlBtB,AAkBA,AAA2B;;AAG3B;AACA,YAAA,AAAU,QAAV,AAAiB;AACjB,WAAS,OAAT,AAAc,AACd;;AAAA,OAAA,qCAAA;;AACC;AACA,cAAA,AAAU,GAAE,OAAZ,AAAiB;AACjB,OAAA,AAAG;AACH,QAAG,MAAH,AAAM;AAAO,SAAb,AAAa,AAAG;AAAhB,eACQ,MAAH,AAAM;AAAO,SAAA,AAAG,GAAH,AAAK,GAAlB,AAAa,AAAO;AAApB,KAAA,MAAA;AACA,SADA,AACA,AAAG;;AACR,SAAK,AAAO,OAAZ,AAAY,IAAZ,AAAe,GAAf,AAAiB;AACjB;AACA,OATD,AASC,AAAG;;SAlCO,AAoCX;;;AAED,aAAa,oBAAA,AAAC,QACb;;AACC,OAAG,CAAH,AAAI;AAEJ,OAAA,AAAG;AACH,OAAG,QAAH,AAAS;AACT,SAAA,AAAK,GAAE,CAAA,AAAC,OAAR,AAAa,QAAb,AAAoB,GAAE,OAAtB,AAA2B;AAE3B,OAAA,AAAG;AACH,OAAG,QAAH,AAAS;AACT,SAAA,AAAK,GAAL,AAAO,GAAP,AAAS,GAAE,OAAX,AAAgB;AAChB,OAAA,AAAG,GAAH,AAAK,GAAL,AAAO;AACP,SAAA,AAAK,GAAL,AAAO,GAAP,AAAS,GAAE,CAAA,AAAC,OAAZ,AAAiB;AAEjB,OAAG,QAAH,AAAS;AACT,OAAA,AAAG;WACH,MAAA,AAAM,GAfP,AAeC,AAAQ;AAfT,mBADY;;;AAkBb,cAAc,uBACb;MAAA,OAAA;AAAA,WAAS,OAAO;AAChB,UAAQ,UAAU,aAAV,AAAqB;AAC7B,OAAK,UAAL,AAAK,AAAU;AACf,KAAA,AAAG;AACH,KAAA,AAAG;AACH;AACA,YAAU,MAAV,AAAc,GAAE,MAAhB,AAAoB;AACpB,SAAA,AAAO,GAAP,AAAS,GAAE,MAAX,AAAe;AACf;AAEA,KAAG,CAAH,AAAI;AACJ,YAAA,AAAU;AACV;AACA,aAAA,AAAW;SAdE,AAeb;;;AAED,YAAY;MACX,WAAA,GAAA,WAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA;AAAA,KAAA,AAAG;AACH,MAAI,IAAE;AACN,KAAA,AAAG;AACH,KAAA,AAAG;AACH,MAJA,AAII,EAJJ;AAKA,cAAY,CAAA,AAAC,YAAD,AAAY,WAAZ,AAAsB,OAAtB,AAA4B,SAA5B,AAAoC,IAApC,AAAuC,QAAvC,AAA8C,UAA9C,AAAuD,IAAvD,AAA0D,SAA1D,AAAkE;AAC9E,WAAS,IAAE,CAAA,AAAC,MAAD,AAAM,AAAM,MAAvB,AAAuB;AACvB,cAAY,CAAA,AAAC,OAAD,AAAO,AAAW,WAAA;AAE9B,OAAA,kDAAA;;AACC,QAAG,IAAA,AAAE,MAAL,AAAQ;AAAO,gBAAf,AAAe,AAAU;;AACzB,QAAG,IAAA,AAAE,MAAL,AAAQ;AAAO,gBAAf,AAAe,AAAU;;AACzB,QAAG,IAAA,AAAE,MAAL,AAAQ;AAAO,gBAAf,AAAe,AAAU;;AACzB,QAAI,IAAA,AAAE,IAAF,AAAM,IAAE;AACZ,QAAI,IAAE,AAAI,KAAJ,AAAK,MAAM,IAAX,AAAa;AACnB,QAAG,KAAH,AAAQ;AAAO,WAAK,MAApB,AAAwB;;AACxB,QAAG,MAAA,AAAM,KAAN,MAAA,AAAQ,KAAR,MAAH,AAAa;AAAQ,SAArB,AAAqB,AAAG;AAAxB,WAAA;AAA+B,SAA/B,AAA+B,AAAG;;AAClC,SAAA,AAAK,GAAL,AAAO,GAAE,IARV,AAQC,AAAW;;SACZ,UAnBW,AAmBX,AAAU;;;AAEX,OAAO,gBACN;MAAA;AAAA,KAAA,AAAG;AACH,OAAK,AAAI,KAAJ,AAAK,MAAM,CAAC,WAAD,AAAY,mBAAvB,AAAwC;AAC7C,AAAM,QAAN,AAAM,KAAQ,MAAH,AAAO,AAAO,IAAd,AAAc,AAAG,AAAG,YAAS;AACxC,AAAM,QAAN,AAAM,AAAK,KAAG,eAAe,CAAC,WAAD,AAAU,SAAzB,AAAgC,MAAnC,AAAG,AAAqC;AAAxC,AAA0C;;AACrD;SALM,AAMN",
  "sourcesContent": [
    "drawHouse = (radius) ->\r\n\tpush()\r\n\r\n\t# nio linjer\r\n\tdx = 0.02 * w\r\n\tsc 0\r\n\tsw 1\r\n\tfor i in range -4,5\r\n\t\tline i*4*dx,-1.1*radius,i*4*dx,1.1*radius\r\n\r\n\t# vit omkrets\r\n\tsc 1\r\n\tsw 5\r\n\tfc()\r\n\tcircle 0,0,1.1*radius\r\n\r\n\t# svarta pilen\r\n\tsc 0\r\n\tsw 0.05*h\r\n\tline 0,-1.00*radius,0,1.00*radius\r\n\r\n\t# fyra vÃ¤derstreck\r\n\tsc()\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize 0.06*h\r\n\tfor i in range 4\r\n\t\tpush()\r\n\t\ttranslate 0,0.96*radius\r\n\t\trd 180\r\n\t\tif i==0 then fc 1 \r\n\t\telse if i==2 then fc 1,0,0 \r\n\t\telse fc 0\r\n\t\ttext \"SWNE\"[i],0,0\r\n\t\tpop()\r\n\t\trd 90\t\r\n\r\n\tpop()\r\n\r\ndrawNeedle = (radius) ->\r\n\ttry\r\n\t\trd -bearing\r\n\r\n\t\tsc 0\r\n\t\tsw 0.035*h\r\n\t\tline 0,-0.98*radius,0,0.98*radius\r\n\r\n\t\tsc 1\r\n\t\tsw 0.030*h\r\n\t\tline 0,0,0,0.98*radius\r\n\t\tsc 1,0,0\r\n\t\tline 0,0,0,-0.98*radius\r\n\r\n\t\tsw 0.035*h\r\n\t\tsc 0\r\n\t\tpoint 0,0\r\n\r\ndrawCompass = ->\r\n\tradius = 0.35 * w \r\n\tdelta = calcDelta heading_12-bearing\r\n\tfill calcColor delta\r\n\tsw 5\r\n\tsc 1\r\n\tpush()\r\n\ttranslate 0.5*w,0.5*h\r\n\tcircle 0,0,1.1*radius\r\n\tpush()\r\n\r\n\trd -heading_12\r\n\tdrawHouse radius\r\n\tpop()\r\n\tdrawNeedle radius\r\n\tpop()\r\n\r\ndrawTexts = ->\r\n\tfc 0.5\r\n\td = h/12\r\n\tsc 0.5\r\n\tsw 1\r\n\tn = 3 # columns\r\n\thelpTexts = ['Distance','Bearing','ETA','Speed','','Time','Points','','Delay','Destination']\r\n\ttextSize h*[0.10,0.07][normal]\r\n\tcurrTexts = [texts,helpTexts][normal] \r\n\r\n\tfor t,i in currTexts\r\n\t\tif i%n==0 then textAlign LEFT \r\n\t\tif i%n==1 then textAlign CENTER \r\n\t\tif i%n==2 then textAlign RIGHT\r\n\t\tx = i%n * w/2\r\n\t\ty = d*Math.floor i/n\r\n\t\tif i >= 6 then y += 7.8*d\r\n\t\tif i in [0,1,2] then fc 1 else fc 0.5\r\n\t\ttext t,x,d+y\r\n\ttextAlign LEFT\r\n\r\ndraw = ->\r\n\tbg 0\r\n\tdt = Math.round (millis() - lastObservation)/1000\r\n\ttexts[8] = if dt>=2 then \"#{dt} s\" else \"\"\r\n\ttexts[5] = \"#{precisionRound (millis()-start)/1000,0} s\" # sekunder sedan start\r\n\tdrawCompass()\r\n\tdrawTexts()\r\n\r\n"
  ]
}