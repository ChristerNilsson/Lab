{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": ";;;;;;;AAAA;AAAA,IAAA,OAAA;;AAEM,AAAN;AACE,AAAc;mFAAO,AAAP;mFAAkB,AAAlB;;;;AAAC,AAAC,SAAA;AAAU,AAAC,SAAA;AAEzB,AAAC,SAAA,AAAD,OAAQ,IAAI,AAAJ;AACR,AAAC,SAAA,AAAD,OAAQ,AAAC,KAAA,AAAI,KAAC;AACd,AAAC,SAAA,AAAD,UAAW,AAJC;AAMd,AAAU;;;;4BAAC,AAAD,QACR;UAAA,GAAA;AAAA,UAAI,AAAC,KAAA,AAAO,QAAC,AAAT,QAAiB,AAAjB;AACJ,eAAS,AACT;aAAM,IAAI,AAAV;AACE,iBAAS,AAAK,KAAA,IAAE,AAAF,AAAL,KAAY;AACrB,uBAAA,IAAM,AAFR;;aAGA,AANQ;AAQV,AAAW;;;6BAAC,AAAD,MACT;UAAA,MAAA,GAAA,KAAA,QAAA;;AAAA,WAAA,mCAAA;;AACE,eAAO,AAAC,KAAA,AAAD,QAAS,AAAT;AACP,YAAG,SAAQ,KAAX;uBAA0B,AAAC,KAAA,AAAD,SAAU,AAAV,AAA1B;AAAA,eAAA;uBAA8C,AAAC,KAAA,AAAD,QAAS,AAAC,KAAA,AAAD,OAAQ,AAA/D;AAFF;AAAA;aADS;AAKX,AAAW;;;6BAAC,AAAD,MACT;UAAA,GAAA,KAAA;AAAA,WAAA,mCAAA;;AACE,mBAAW,AAAC,KAAA,AAAD,OAAQ,AAAM,OAAC,AAAP,QAAe,AAAf;AACnB,YAAG,WAAW,AAAd;AACE,AAAC,eAAA,AAAD,SAAU,AAAV;AACA,AAAC,eAAA,AAAD,QAAS;AACT,AAAC,eAAA,AAAD,QAAS,AAAC,KAAA,AAAD,OAAQ,AAHnB;AAFF;;aAMA,AAAC,KAAA,AAAD,QAAS,AAAC,KAAA,AAAD,OAAQ,AAPR;AASX,AAAW;;;6BAAC,AAAD,MACT;UAAA,OAAA;AAAA,cAAQ,AAAC,KAAA;AACT,aAAO,AAAC,KAAA,AAAD,OAAQ;AACf,AAAC,WAAA,AAAI,KAAC,AAAI,KAAC,AAAX,wBAAmC,AAAnC,GAAsC,AAAtC;AACA,AAAC,WAAA,AAAI,KAAC,AAAI,KAAC,AAAX,wBAAmC,AAAnC,GAAsC,QAAQ,AAAC,KAAA,AAAD,OAAQ,AAAtD;AACA,AAAC,WAAA,AAAI,KAAC,AAAI,KAAC,AAAX,wBAAmC,AAAnC,GAAsC,OAAO,AAAC,KAAA,AAAD,OAAQ,AAArD;aACA,AAAC,KAAA,AAAI,KAAC,AAAI,KAAC,AAAX,wBAAmC,AAAnC,GAAsC,AAAtC,AANS;AAQX,AAAO;;;yBAAC,AAAD,MACL;UAAA;AAAA,aAAO,AAAC,KAAA,AAAI,KAAC,AAAN;AACP,AAAI,WAAC,AAAS,UAAC,AAAf,QAAuB,AAAC,KAAA;AACxB,AAAC,WAAA,AAAD,OAAQ,AAAC,KAAA,AAAI,KAAC,AAAN;AACR,AAAC,WAAA,AAAI,KAAC,AAAI,KAAC,AAAX,QAAmB;AACnB,AAAI,WAAC,AAAL,QAAa,AAAC,KAAA,AAAd;AACA,AAAC,WAAA,AAAI,KAAC,AAAN,QAAc,AAAC,KAAA,AAAI,KAAC,AAApB;AAEA,AAAI,WAAC,AAAL,MAAW,AAAC,KAAA,AAAZ;AACA,AAAC,WAAA,AAAD,SAAU,AAAV;aACA,AAAC,KAAA,AAVI;AArCT;;;;;;AA2EA,QAAQ,IAAI,AAAJ;;AACR,AAAK,MAAC,AAAN,KAAW,AAAX",
  "sourcesContent": [
    "# http://rosettacode.org/wiki/Morse_code#JavaScript\r\n\r\nclass Morse\r\n  constructor : (@unit=0.1, @freq=700) ->\r\n\r\n    @cont = new AudioContext()\r\n    @time = @cont.currentTime\r\n    @alfabet = \"..etianmsurwdkgohvf.l.pjbxcyzq..54.3...2.......16.......7...8.90\"\r\n\r\n  getCode : (letter) ->\r\n    i = @alfabet.indexOf letter\r\n    result = \"\"\r\n    while i > 1\r\n      result = \".-\"[i%2] + result\r\n      i //= 2\r\n    result\r\n\r\n  makecode : (data) ->\r\n    for letter in data\r\n      code = @getCode letter\r\n      if code != undefined then @maketime code else @time += @unit * 7\r\n\r\n  maketime : (data) ->\r\n    for timedata in data\r\n      timedata = @unit * ' . _'.indexOf timedata\r\n      if timedata > 0\r\n        @maketone timedata\r\n        @time += timedata\r\n        @time += @unit * 1\r\n    @time += @unit * 2\r\n\r\n  maketone : (data) ->\r\n    start = @time\r\n    stop = @time + data\r\n    @gain.gain.linearRampToValueAtTime 0, start\r\n    @gain.gain.linearRampToValueAtTime 1, start + @unit / 8\r\n    @gain.gain.linearRampToValueAtTime 1, stop - @unit / 16\r\n    @gain.gain.linearRampToValueAtTime 0, stop\r\n\r\n  send : (text) -> \r\n    osci = @cont.createOscillator()\r\n    osci.frequency.value = @freq\r\n    @gain = @cont.createGain()\r\n    @gain.gain.value = 0\r\n    osci.connect @gain\r\n    @gain.connect @cont.destination\r\n\r\n    osci.start @time\r\n    @makecode text\r\n    @cont\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nmorse = new Morse()\r\nmorse.send 'sos'\r\n"
  ]
}