// Generated by CoffeeScript 1.12.7
var SCALE, diameter, enter, grid, level, newGame, newPoint, setup, tx, ty, x, y,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

x = y = 100;

tx = ty = 0;

level = 0;

diameter = 20;

SCALE = 4;

setup = function() {
  var c;
  c = createCanvas(201 * SCALE - 2, 201 * SCALE - 2);
  c.parent('canvas');
  newPoint(20);
  return newGame(0);
};

grid = function() {
  var i, j, len, ref, results;
  sc(1);
  sw(0.5);
  ref = range(0, 201, 20);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    line(i, 0, i, 200);
    results.push(line(0, i, 200, i));
  }
  return results;
};

newPoint = function(d) {
  diameter = d;
  x = random(201);
  y = random(201);
  x = d * round(x / d);
  return y = d * round(y / d);
};

newGame = function(dlevel) {
  var seconds;
  bg(0);
  scale(SCALE);
  textAlign(CENTER, CENTER);
  textSize(150);
  if (dlevel >= 0) {
    fc(0, 0.5, 0);
  }
  if (dlevel === -1) {
    fc(1, 0.5, 0);
  }
  level += dlevel;
  if (level < 0) {
    level = 0;
  }
  sc();
  text(level, 100.5, 100.5);
  grid();
  newPoint(20);
  if (level >= 10) {
    newPoint(10);
  }
  if (level >= 20) {
    newPoint(8);
  }
  if (level >= 30) {
    newPoint(6);
  }
  if (level >= 40) {
    newPoint(4);
  }
  if (level >= 50) {
    newPoint(3);
  }
  if (level >= 60) {
    newPoint(2);
  }
  sw(1);
  sc(1, 1, 0);
  fc();
  circle(x, y, diameter / 2);
  sw(2);
  point(x, y);
  sc(1, 0, 0);
  sw(2);
  point(tx * SCALE, ty * SCALE);
  textSize(12);
  textAlign(CENTER, CENTER);
  fc(1, 1, 0);
  sc();
  text('t', 170, 170);
  seconds = int(millis() / 1000);
  return text(seconds, 190, 190);
};

enter = function() {
  var arr;
  if (keyCode === 13) {
    coords.select();
    if (indexOf.call(coords.value, ',') >= 0) {
      arr = coords.value.split(',');
    }
    if (indexOf.call(coords.value, ' ') >= 0) {
      arr = coords.value.split(' ');
    }
    if (arr.length === 2) {
      tx = parseInt(arr[0]);
      ty = parseInt(arr[1]);
      if (diameter / 2 > dist(x, y, tx, ty)) {
        return newGame(1);
      } else {
        return newGame(-1);
      }
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsMkVBQUE7RUFBQTs7QUFBQSxDQUFBLEdBQUUsQ0FBQSxHQUFFOztBQUNKLEVBQUEsR0FBRyxFQUFBLEdBQUc7O0FBQ04sS0FBQSxHQUFROztBQUNSLFFBQUEsR0FBVzs7QUFDWCxLQUFBLEdBQVE7O0FBRVIsS0FBQSxHQUFRLFNBQUE7QUFDUCxNQUFBO0VBQUEsQ0FBQSxHQUFJLFlBQUEsQ0FBYSxHQUFBLEdBQUksS0FBSixHQUFVLENBQXZCLEVBQXlCLEdBQUEsR0FBSSxLQUFKLEdBQVUsQ0FBbkM7RUFDSixDQUFDLENBQUMsTUFBRixDQUFTLFFBQVQ7RUFDQSxRQUFBLENBQVMsRUFBVDtTQUNBLE9BQUEsQ0FBUSxDQUFSO0FBSk87O0FBTVIsSUFBQSxHQUFPLFNBQUE7QUFDTixNQUFBO0VBQUEsRUFBQSxDQUFHLENBQUg7RUFDQSxFQUFBLENBQUcsR0FBSDtBQUNBO0FBQUE7T0FBQSxxQ0FBQTs7SUFDQyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsR0FBWDtpQkFDQSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxHQUFULEVBQWEsQ0FBYjtBQUZEOztBQUhNOztBQU9QLFFBQUEsR0FBVyxTQUFDLENBQUQ7RUFDVixRQUFBLEdBQVc7RUFDWCxDQUFBLEdBQUksTUFBQSxDQUFPLEdBQVA7RUFDSixDQUFBLEdBQUksTUFBQSxDQUFPLEdBQVA7RUFDSixDQUFBLEdBQUksQ0FBQSxHQUFJLEtBQUEsQ0FBTSxDQUFBLEdBQUUsQ0FBUjtTQUNSLENBQUEsR0FBSSxDQUFBLEdBQUksS0FBQSxDQUFNLENBQUEsR0FBRSxDQUFSO0FBTEU7O0FBT1gsT0FBQSxHQUFVLFNBQUMsTUFBRDtBQUNULE1BQUE7RUFBQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEtBQUEsQ0FBTSxLQUFOO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7RUFDQSxRQUFBLENBQVMsR0FBVDtFQUNBLElBQUcsTUFBQSxJQUFXLENBQWQ7SUFBcUIsRUFBQSxDQUFHLENBQUgsRUFBSyxHQUFMLEVBQVMsQ0FBVCxFQUFyQjs7RUFDQSxJQUFHLE1BQUEsS0FBVSxDQUFDLENBQWQ7SUFBcUIsRUFBQSxDQUFHLENBQUgsRUFBSyxHQUFMLEVBQVMsQ0FBVCxFQUFyQjs7RUFDQSxLQUFBLElBQVM7RUFDVCxJQUFHLEtBQUEsR0FBUSxDQUFYO0lBQWtCLEtBQUEsR0FBUSxFQUExQjs7RUFDQSxFQUFBLENBQUE7RUFDQSxJQUFBLENBQUssS0FBTCxFQUFXLEtBQVgsRUFBaUIsS0FBakI7RUFDQSxJQUFBLENBQUE7RUFFQSxRQUFBLENBQVMsRUFBVDtFQUNBLElBQUcsS0FBQSxJQUFTLEVBQVo7SUFBb0IsUUFBQSxDQUFTLEVBQVQsRUFBcEI7O0VBQ0EsSUFBRyxLQUFBLElBQVMsRUFBWjtJQUFvQixRQUFBLENBQVMsQ0FBVCxFQUFwQjs7RUFDQSxJQUFHLEtBQUEsSUFBUyxFQUFaO0lBQW9CLFFBQUEsQ0FBUyxDQUFULEVBQXBCOztFQUNBLElBQUcsS0FBQSxJQUFTLEVBQVo7SUFBb0IsUUFBQSxDQUFTLENBQVQsRUFBcEI7O0VBQ0EsSUFBRyxLQUFBLElBQVMsRUFBWjtJQUFvQixRQUFBLENBQVMsQ0FBVCxFQUFwQjs7RUFDQSxJQUFHLEtBQUEsSUFBUyxFQUFaO0lBQW9CLFFBQUEsQ0FBUyxDQUFULEVBQXBCOztFQUVBLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUDtFQUNBLEVBQUEsQ0FBQTtFQUNBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLFFBQUEsR0FBUyxDQUFwQjtFQUNBLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsS0FBQSxDQUFNLENBQU4sRUFBUSxDQUFSO0VBRUEsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUDtFQUNBLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsS0FBQSxDQUFNLEVBQUEsR0FBRyxLQUFULEVBQWdCLEVBQUEsR0FBRyxLQUFuQjtFQUVBLFFBQUEsQ0FBUyxFQUFUO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7RUFDQSxFQUFBLENBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQO0VBQ0EsRUFBQSxDQUFBO0VBRUEsSUFBQSxDQUFLLEdBQUwsRUFBUyxHQUFULEVBQWEsR0FBYjtFQUNBLE9BQUEsR0FBVSxHQUFBLENBQUksTUFBQSxDQUFBLENBQUEsR0FBUyxJQUFiO1NBQ1YsSUFBQSxDQUFLLE9BQUwsRUFBYSxHQUFiLEVBQWlCLEdBQWpCO0FBdkNTOztBQXlDVixLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7RUFBQSxJQUFHLE9BQUEsS0FBVyxFQUFkO0lBQ0MsTUFBTSxDQUFDLE1BQVAsQ0FBQTtJQUNBLElBQUcsYUFBTyxNQUFNLENBQUMsS0FBZCxFQUFBLEdBQUEsTUFBSDtNQUE0QixHQUFBLEdBQU0sTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFiLENBQW1CLEdBQW5CLEVBQWxDOztJQUNBLElBQUcsYUFBTyxNQUFNLENBQUMsS0FBZCxFQUFBLEdBQUEsTUFBSDtNQUE0QixHQUFBLEdBQU0sTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFiLENBQW1CLEdBQW5CLEVBQWxDOztJQUNBLElBQUcsR0FBRyxDQUFDLE1BQUosS0FBYyxDQUFqQjtNQUNDLEVBQUEsR0FBSyxRQUFBLENBQVMsR0FBSSxDQUFBLENBQUEsQ0FBYjtNQUNMLEVBQUEsR0FBSyxRQUFBLENBQVMsR0FBSSxDQUFBLENBQUEsQ0FBYjtNQUNMLElBQUcsUUFBQSxHQUFTLENBQVQsR0FBYSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxFQUFULEVBQVksRUFBWixDQUFoQjtlQUFvQyxPQUFBLENBQVEsQ0FBUixFQUFwQztPQUFBLE1BQUE7ZUFBbUQsT0FBQSxDQUFRLENBQUMsQ0FBVCxFQUFuRDtPQUhEO0tBSkQ7O0FBRE8iLCJzb3VyY2VzQ29udGVudCI6WyJ4PXk9MTAwXHJcbnR4PXR5PTBcclxubGV2ZWwgPSAwXHJcbmRpYW1ldGVyID0gMjBcclxuU0NBTEUgPSA0XHJcblxyXG5zZXR1cCA9IC0+XHJcblx0YyA9IGNyZWF0ZUNhbnZhcyAyMDEqU0NBTEUtMiwyMDEqU0NBTEUtMlxyXG5cdGMucGFyZW50ICdjYW52YXMnXHJcblx0bmV3UG9pbnQgMjBcclxuXHRuZXdHYW1lIDBcclxuXHJcbmdyaWQgPSAtPlxyXG5cdHNjIDFcclxuXHRzdyAwLjVcclxuXHRmb3IgaSBpbiByYW5nZSAwLDIwMSwyMFxyXG5cdFx0bGluZSBpLDAsaSwyMDBcclxuXHRcdGxpbmUgMCxpLDIwMCxpXHJcblxyXG5uZXdQb2ludCA9IChkKSAtPlxyXG5cdGRpYW1ldGVyID0gZFxyXG5cdHggPSByYW5kb20gMjAxXHJcblx0eSA9IHJhbmRvbSAyMDFcclxuXHR4ID0gZCAqIHJvdW5kIHgvZFxyXG5cdHkgPSBkICogcm91bmQgeS9kXHJcblxyXG5uZXdHYW1lID0gKGRsZXZlbCkgLT5cclxuXHRiZyAwXHJcblx0c2NhbGUgU0NBTEVcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHRleHRTaXplIDE1MFxyXG5cdGlmIGRsZXZlbCA+PSAgMCB0aGVuIGZjIDAsMC41LDBcclxuXHRpZiBkbGV2ZWwgPT0gLTEgdGhlbiBmYyAxLDAuNSwwXHJcblx0bGV2ZWwgKz0gZGxldmVsXHJcblx0aWYgbGV2ZWwgPCAwIHRoZW4gbGV2ZWwgPSAwXHJcblx0c2MoKVxyXG5cdHRleHQgbGV2ZWwsMTAwLjUsMTAwLjVcclxuXHRncmlkKClcclxuXHRcclxuXHRuZXdQb2ludCAyMFxyXG5cdGlmIGxldmVsID49IDEwIHRoZW4gbmV3UG9pbnQgMTBcclxuXHRpZiBsZXZlbCA+PSAyMCB0aGVuIG5ld1BvaW50IDhcclxuXHRpZiBsZXZlbCA+PSAzMCB0aGVuIG5ld1BvaW50IDZcclxuXHRpZiBsZXZlbCA+PSA0MCB0aGVuIG5ld1BvaW50IDRcclxuXHRpZiBsZXZlbCA+PSA1MCB0aGVuIG5ld1BvaW50IDNcclxuXHRpZiBsZXZlbCA+PSA2MCB0aGVuIG5ld1BvaW50IDJcclxuXHJcblx0c3cgMVxyXG5cdHNjIDEsMSwwXHJcblx0ZmMoKVxyXG5cdGNpcmNsZSB4LHksZGlhbWV0ZXIvMlxyXG5cdHN3IDJcclxuXHRwb2ludCB4LHlcclxuXHJcblx0c2MgMSwwLDBcclxuXHRzdyAyXHJcblx0cG9pbnQgdHgqU0NBTEUsIHR5KlNDQUxFXHJcblxyXG5cdHRleHRTaXplIDEyXHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHRmYyAxLDEsMFxyXG5cdHNjKClcclxuXHJcblx0dGV4dCAndCcsMTcwLDE3MFxyXG5cdHNlY29uZHMgPSBpbnQgbWlsbGlzKCkvMTAwMFxyXG5cdHRleHQgc2Vjb25kcywxOTAsMTkwXHJcblxyXG5lbnRlciA9IC0+XHJcblx0aWYga2V5Q29kZSA9PSAxM1xyXG5cdFx0Y29vcmRzLnNlbGVjdCgpXHJcblx0XHRpZiAnLCcgaW4gY29vcmRzLnZhbHVlIHRoZW4gYXJyID0gY29vcmRzLnZhbHVlLnNwbGl0ICcsJ1xyXG5cdFx0aWYgJyAnIGluIGNvb3Jkcy52YWx1ZSB0aGVuIGFyciA9IGNvb3Jkcy52YWx1ZS5zcGxpdCAnICdcclxuXHRcdGlmIGFyci5sZW5ndGggPT0gMlxyXG5cdFx0XHR0eCA9IHBhcnNlSW50IGFyclswXVxyXG5cdFx0XHR0eSA9IHBhcnNlSW50IGFyclsxXVxyXG5cdFx0XHRpZiBkaWFtZXRlci8yID4gZGlzdCB4LHksdHgsdHkgdGhlbiBuZXdHYW1lIDEgZWxzZSBuZXdHYW1lIC0xIl19
//# sourceURL=C:\Lab\2017\133-CoordTrainer2\coffee\sketch.coffee