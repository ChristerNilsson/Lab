// Generated by CoffeeScript 1.12.7
var angle, direction, draw, handleMousePressed, lastWord, level, listCircular, mousePressed, newGame, radius1, radius2, setup, size, touchStarted, word, words,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

words = null;

word = '';

lastWord = '';

level = -1;

angle = 0;

direction = 1;

size = null;

radius1 = null;

radius2 = null;

setup = function() {
  createCanvas(windowWidth, windowHeight);
  size = min(windowWidth, windowHeight);
  radius2 = size / 10;
  radius1 = size / 2 - radius2;
  words = ordlista.split(' ');
  textAlign(CENTER, CENTER);
  return newGame(1);
};

newGame = function(dLevel) {
  direction = dLevel;
  if (dLevel < 0) {
    dLevel = dLevel * (int(1 + level / 10));
  }
  level += dLevel;
  if (level < 0) {
    level = 0;
  }
  lastWord = word;
  word = _.sample(words);
  word = word.toUpperCase();
  return angle = 360 * random();
};

draw = function() {
  var ch, dAngle, i, j, len, n;
  bg(0.5);
  textSize(size / 10);
  text(lastWord, width / 2, height - size / 10);
  textSize(size / 4);
  if (direction === 1) {
    fc(0, 1, 0);
  } else {
    fc(1, 0, 0);
  }
  text(level, width / 2, height / 2);
  fc(0);
  translate(width / 2, height / 2);
  n = word.length;
  dAngle = 360 / n;
  rd(angle);
  textSize(size / 10);
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    push();
    translate(radius1, 0);
    rd(90);
    fc(1, 1, 0);
    circle(0, 0, radius2);
    fc(0);
    text(ch, 0, 0);
    pop();
    rd(dAngle);
  }
  return angle += 0.5;
};

handleMousePressed = function() {
  var ch, dword, i, j, len, n, w, x, y;
  n = word.length;
  dword = (word + word).toLowerCase();
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    x = width / 2 + radius1 * cos(radians(angle + i / n * 360));
    y = height / 2 + radius1 * sin(radians(angle + i / n * 360));
    if (radius2 > dist(mouseX, mouseY, x, y)) {
      w = dword.slice(i, i + n);
      return newGame(indexOf.call(words, w) >= 0 ? 1 : -1);
    }
  }
};

mousePressed = function() {
  return handleMousePressed();
};

touchStarted = function() {
  return handleMousePressed();
};

listCircular = function() {
  var antal, ch, dword, i, j, k, len, len1, n, res, w;
  print(words.length);
  antal = 0;
  for (j = 0, len = words.length; j < len; j++) {
    word = words[j];
    n = word.length;
    dword = (word + word).toLowerCase();
    res = [];
    for (i = k = 0, len1 = word.length; k < len1; i = ++k) {
      ch = word[i];
      w = dword.slice(i, i + n);
      if (indexOf.call(words, w) >= 0) {
        res.push(w);
      }
    }
    if (res.length === 2) {
      antal++;
    }
  }
  return print(antal);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsMEpBQUE7RUFBQTs7QUFBQSxLQUFBLEdBQVE7O0FBQ1IsSUFBQSxHQUFPOztBQUNQLFFBQUEsR0FBVzs7QUFDWCxLQUFBLEdBQVEsQ0FBQzs7QUFDVCxLQUFBLEdBQVE7O0FBQ1IsU0FBQSxHQUFZOztBQUNaLElBQUEsR0FBTzs7QUFDUCxPQUFBLEdBQVU7O0FBQ1YsT0FBQSxHQUFVOztBQUVWLEtBQUEsR0FBUSxTQUFBO0VBQ1AsWUFBQSxDQUFhLFdBQWIsRUFBeUIsWUFBekI7RUFDQSxJQUFBLEdBQU8sR0FBQSxDQUFJLFdBQUosRUFBZ0IsWUFBaEI7RUFDUCxPQUFBLEdBQVUsSUFBQSxHQUFLO0VBQ2YsT0FBQSxHQUFVLElBQUEsR0FBSyxDQUFMLEdBQU87RUFDakIsS0FBQSxHQUFRLFFBQVEsQ0FBQyxLQUFULENBQWUsR0FBZjtFQUNSLFNBQUEsQ0FBVSxNQUFWLEVBQWlCLE1BQWpCO1NBRUEsT0FBQSxDQUFRLENBQVI7QUFSTzs7QUFXUixPQUFBLEdBQVUsU0FBQyxNQUFEO0VBQ1QsU0FBQSxHQUFZO0VBQ1osSUFBRyxNQUFBLEdBQVMsQ0FBWjtJQUFtQixNQUFBLEdBQVMsTUFBQSxHQUFTLENBQUMsR0FBQSxDQUFJLENBQUEsR0FBRSxLQUFBLEdBQU0sRUFBWixDQUFELEVBQXJDOztFQUNBLEtBQUEsSUFBUztFQUNULElBQUcsS0FBQSxHQUFRLENBQVg7SUFBa0IsS0FBQSxHQUFRLEVBQTFCOztFQUNBLFFBQUEsR0FBVztFQUNYLElBQUEsR0FBTyxDQUFDLENBQUMsTUFBRixDQUFTLEtBQVQ7RUFDUCxJQUFBLEdBQU8sSUFBSSxDQUFDLFdBQUwsQ0FBQTtTQUNQLEtBQUEsR0FBUSxHQUFBLEdBQU0sTUFBQSxDQUFBO0FBUkw7O0FBVVYsSUFBQSxHQUFPLFNBQUE7QUFDTixNQUFB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OztBQUZEO0lBR0EsSUFBRyxHQUFHLENBQUMsTUFBSixLQUFjLENBQWpCO01BQ0MsS0FBQSxHQUREOztBQVBEO1NBU0EsS0FBQSxDQUFNLEtBQU47QUFaYyIsInNvdXJjZXNDb250ZW50IjpbIndvcmRzID0gbnVsbFxyXG53b3JkID0gJydcclxubGFzdFdvcmQgPSAnJ1xyXG5sZXZlbCA9IC0xXHJcbmFuZ2xlID0gMFxyXG5kaXJlY3Rpb24gPSAxXHJcbnNpemUgPSBudWxsXHJcbnJhZGl1czEgPSBudWxsXHJcbnJhZGl1czIgPSBudWxsXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLHdpbmRvd0hlaWdodFxyXG5cdHNpemUgPSBtaW4gd2luZG93V2lkdGgsd2luZG93SGVpZ2h0XHJcblx0cmFkaXVzMiA9IHNpemUvMTBcclxuXHRyYWRpdXMxID0gc2l6ZS8yLXJhZGl1czIgXHJcblx0d29yZHMgPSBvcmRsaXN0YS5zcGxpdCAnICdcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdCNsaXN0Q2lyY3VsYXIoKVxyXG5cdG5ld0dhbWUgMVxyXG5cclxuIyBzdHJhZmZhIG1lZCAxMCUgYXYgbGV2ZWwuXHJcbm5ld0dhbWUgPSAoZExldmVsKSAtPlxyXG5cdGRpcmVjdGlvbiA9IGRMZXZlbFxyXG5cdGlmIGRMZXZlbCA8IDAgdGhlbiBkTGV2ZWwgPSBkTGV2ZWwgKiAoaW50IDErbGV2ZWwvMTApXHJcblx0bGV2ZWwgKz0gZExldmVsXHJcblx0aWYgbGV2ZWwgPCAwIHRoZW4gbGV2ZWwgPSAwXHJcblx0bGFzdFdvcmQgPSB3b3JkXHJcblx0d29yZCA9IF8uc2FtcGxlIHdvcmRzXHJcblx0d29yZCA9IHdvcmQudG9VcHBlckNhc2UoKVxyXG5cdGFuZ2xlID0gMzYwICogcmFuZG9tKClcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJnIDAuNVxyXG5cdHRleHRTaXplIHNpemUvMTBcclxuXHR0ZXh0IGxhc3RXb3JkLCB3aWR0aC8yLGhlaWdodC1zaXplLzEwXHJcblx0dGV4dFNpemUgc2l6ZS80XHJcblx0aWYgZGlyZWN0aW9uID09IDEgdGhlbiBmYyAwLDEsMCBlbHNlIGZjIDEsMCwwXHJcblx0dGV4dCBsZXZlbCx3aWR0aC8yLGhlaWdodC8yIFxyXG5cdGZjIDBcclxuXHR0cmFuc2xhdGUgd2lkdGgvMixoZWlnaHQvMlxyXG5cdG4gPSB3b3JkLmxlbmd0aFxyXG5cdGRBbmdsZSA9IDM2MC9uXHJcblx0cmQgYW5nbGVcclxuXHR0ZXh0U2l6ZSBzaXplLzEwXHJcblx0Zm9yIGNoLGkgaW4gd29yZFxyXG5cdFx0cHVzaCgpXHJcblx0XHR0cmFuc2xhdGUgcmFkaXVzMSwwXHJcblx0XHRyZCA5MFxyXG5cdFx0ZmMgMSwxLDBcclxuXHRcdGNpcmNsZSAwLDAscmFkaXVzMlxyXG5cdFx0ZmMgMFxyXG5cdFx0dGV4dCBjaCwwLDBcclxuXHRcdHBvcCgpXHJcblx0XHRyZCBkQW5nbGVcclxuXHRhbmdsZSArPSAwLjVcclxuXHJcbmhhbmRsZU1vdXNlUHJlc3NlZCA9IC0+XHJcblx0biA9IHdvcmQubGVuZ3RoXHJcblx0ZHdvcmQgPSAod29yZCt3b3JkKS50b0xvd2VyQ2FzZSgpXHJcblx0Zm9yIGNoLGkgaW4gd29yZFxyXG5cdFx0eCA9IHdpZHRoLzIgICsgcmFkaXVzMSAqIGNvcyByYWRpYW5zIGFuZ2xlICsgaS9uICogMzYwXHJcblx0XHR5ID0gaGVpZ2h0LzIgKyByYWRpdXMxICogc2luIHJhZGlhbnMgYW5nbGUgKyBpL24gKiAzNjBcclxuXHRcdGlmIHJhZGl1czIgPiBkaXN0IG1vdXNlWCxtb3VzZVkseCx5IFxyXG5cdFx0XHR3ID0gZHdvcmQuc2xpY2UgaSxpK25cclxuXHRcdFx0cmV0dXJuIG5ld0dhbWUgaWYgdyBpbiB3b3JkcyB0aGVuIDEgZWxzZSAtMVxyXG5cclxubW91c2VQcmVzc2VkID0gLT5cdGhhbmRsZU1vdXNlUHJlc3NlZCgpXHJcbnRvdWNoU3RhcnRlZCA9IC0+IGhhbmRsZU1vdXNlUHJlc3NlZCgpXHJcblxyXG5saXN0Q2lyY3VsYXIgPSAoKSAtPlxyXG5cdHByaW50IHdvcmRzLmxlbmd0aFxyXG5cdGFudGFsID0gMCBcclxuXHRmb3Igd29yZCBpbiB3b3Jkc1xyXG5cdFx0biA9IHdvcmQubGVuZ3RoXHJcblx0XHRkd29yZCA9ICh3b3JkK3dvcmQpLnRvTG93ZXJDYXNlKClcclxuXHRcdHJlcyA9IFtdXHJcblx0XHRmb3IgY2gsaSBpbiB3b3JkXHJcblx0XHRcdHcgPSBkd29yZC5zbGljZSBpLGkrblxyXG5cdFx0XHRpZiB3IGluIHdvcmRzIHRoZW4gcmVzLnB1c2ggd1xyXG5cdFx0aWYgcmVzLmxlbmd0aCA9PSAyXHJcblx0XHRcdGFudGFsKytcclxuXHRwcmludCBhbnRhbCJdfQ==
//# sourceURL=C:\Lab\2017\136-Lettero\coffee\sketch.coffee