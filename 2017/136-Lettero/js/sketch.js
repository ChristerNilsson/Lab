// Generated by CoffeeScript 1.12.7
var angle, direction, draw, lastWord, level, mousePressed, newGame, radius1, radius2, setup, word, words,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

words = null;

word = '';

lastWord = '';

level = -1;

angle = 0;

radius1 = 150;

radius2 = 50;

direction = 1;

setup = function() {
  createCanvas(400, 400);
  words = ordlista.split(' ');
  textAlign(CENTER, CENTER);
  return newGame(1);
};

newGame = function(dLevel) {
  direction = dLevel;
  level += dLevel;
  if (level < 0) {
    level = 0;
  }
  lastWord = word;
  word = _.sample(words);
  word = word.toUpperCase();
  return angle = 360 * random();
};

draw = function() {
  var ch, dAngle, i, j, len, n;
  bg(0.5);
  textSize(16);
  text(lastWord, width / 2, height - 32);
  textSize(64);
  if (direction === 1) {
    fc(0, 1, 0);
  } else {
    fc(1, 0, 0);
  }
  text(level, width / 2, height / 2);
  fc(0);
  translate(width / 2, height / 2);
  n = word.length;
  dAngle = 360 / n;
  rd(angle);
  textSize(40);
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    push();
    translate(radius1, 0);
    rd(90);
    fc(1, 1, 0);
    circle(0, 0, radius2);
    fc(0);
    text(ch, 0, 0);
    pop();
    rd(dAngle);
  }
  return angle += 0.5;
};

mousePressed = function() {
  var ch, dword, i, j, len, n, w, x, y;
  n = word.length;
  dword = (word + word).toLowerCase();
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    x = width / 2 + radius1 * cos(radians(angle + i / n * 360));
    y = height / 2 + radius1 * sin(radians(angle + i / n * 360));
    if (radius2 > dist(mouseX, mouseY, x, y)) {
      w = dword.slice(i, i + n);
      if (indexOf.call(words, w) >= 0) {
        return newGame(1);
      }
    }
  }
  return newGame(-1);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsb0dBQUE7RUFBQTs7QUFBQSxLQUFBLEdBQVE7O0FBQ1IsSUFBQSxHQUFPOztBQUNQLFFBQUEsR0FBVzs7QUFDWCxLQUFBLEdBQVEsQ0FBQzs7QUFDVCxLQUFBLEdBQVE7O0FBQ1IsT0FBQSxHQUFVOztBQUNWLE9BQUEsR0FBVTs7QUFDVixTQUFBLEdBQVk7O0FBRVosS0FBQSxHQUFRLFNBQUE7RUFDUCxZQUFBLENBQWEsR0FBYixFQUFpQixHQUFqQjtFQUNBLEtBQUEsR0FBUSxRQUFRLENBQUMsS0FBVCxDQUFlLEdBQWY7RUFDUixTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtTQUNBLE9BQUEsQ0FBUSxDQUFSO0FBSk87O0FBTVIsT0FBQSxHQUFVLFNBQUMsTUFBRDtFQUNULFNBQUEsR0FBWTtFQUNaLEtBQUEsSUFBUztFQUNULElBQUcsS0FBQSxHQUFRLENBQVg7SUFBa0IsS0FBQSxHQUFRLEVBQTFCOztFQUNBLFFBQUEsR0FBVztFQUNYLElBQUEsR0FBTyxDQUFDLENBQUMsTUFBRixDQUFTLEtBQVQ7RUFDUCxJQUFBLEdBQU8sSUFBSSxDQUFDLFdBQUwsQ0FBQTtTQUNQLEtBQUEsR0FBUSxHQUFBLEdBQU0sTUFBQSxDQUFBO0FBUEw7O0FBU1YsSUFBQSxHQUFPLFNBQUE7QUFDTixNQUFBO0VBQUEsRUFBQSxDQUFHLEdBQUg7RUFDQSxRQUFBLENBQVMsRUFBVDtFQUNBLElBQUEsQ0FBSyxRQUFMLEVBQWUsS0FBQSxHQUFNLENBQXJCLEVBQXVCLE1BQUEsR0FBTyxFQUE5QjtFQUNBLFFBQUEsQ0FBUyxFQUFUO0VBQ0EsSUFBRyxTQUFBLEtBQWEsQ0FBaEI7SUFBdUIsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUF2QjtHQUFBLE1BQUE7SUFBcUMsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFyQzs7RUFDQSxJQUFBLENBQUssS0FBTCxFQUFXLEtBQUEsR0FBTSxDQUFqQixFQUFtQixNQUFBLEdBQU8sQ0FBMUI7RUFDQSxFQUFBLENBQUcsQ0FBSDtFQUNBLFNBQUEsQ0FBVSxLQUFBLEdBQU0sQ0FBaEIsRUFBa0IsTUFBQSxHQUFPLENBQXpCO0VBQ0EsQ0FBQSxHQUFJLElBQUksQ0FBQztFQUNULE1BQUEsR0FBUyxHQUFBLEdBQUk7RUFDYixFQUFBLENBQUcsS0FBSDtFQUNBLFFBQUEsQ0FBUyxFQUFUO0FBQ0EsT0FBQSw4Q0FBQTs7SUFDQyxJQUFBLENBQUE7SUFDQSxTQUFBLENBQVUsT0FBVixFQUFrQixDQUFsQjtJQUNBLEVBQUEsQ0FBRyxFQUFIO0lBQ0EsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUDtJQUNBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLE9BQVg7SUFDQSxFQUFBLENBQUcsQ0FBSDtJQUNBLElBQUEsQ0FBSyxFQUFMLEVBQVEsQ0FBUixFQUFVLENBQVY7SUFDQSxHQUFBLENBQUE7SUFDQSxFQUFBLENBQUcsTUFBSDtBQVREO1NBVUEsS0FBQSxJQUFTO0FBdkJIOztBQXlCUCxZQUFBLEdBQWUsU0FBQTtBQUNkLE1BQUE7RUFBQSxDQUFBLEdBQUksSUFBSSxDQUFDO0VBQ1QsS0FBQSxHQUFRLENBQUMsSUFBQSxHQUFLLElBQU4sQ0FBVyxDQUFDLFdBQVosQ0FBQTtBQUNSLE9BQUEsOENBQUE7O0lBQ0MsQ0FBQSxHQUFJLEtBQUEsR0FBTSxDQUFOLEdBQVcsT0FBQSxHQUFVLEdBQUEsQ0FBSSxPQUFBLENBQVEsS0FBQSxHQUFRLENBQUEsR0FBRSxDQUFGLEdBQU0sR0FBdEIsQ0FBSjtJQUN6QixDQUFBLEdBQUksTUFBQSxHQUFPLENBQVAsR0FBVyxPQUFBLEdBQVUsR0FBQSxDQUFJLE9BQUEsQ0FBUSxLQUFBLEdBQVEsQ0FBQSxHQUFFLENBQUYsR0FBTSxHQUF0QixDQUFKO0lBQ3pCLElBQUcsT0FBQSxHQUFVLElBQUEsQ0FBSyxNQUFMLEVBQVksTUFBWixFQUFtQixDQUFuQixFQUFxQixDQUFyQixDQUFiO01BQ0MsQ0FBQSxHQUFJLEtBQUssQ0FBQyxLQUFOLENBQVksQ0FBWixFQUFjLENBQUEsR0FBRSxDQUFoQjtNQUNKLElBQUcsYUFBSyxLQUFMLEVBQUEsQ0FBQSxNQUFIO0FBQW1CLGVBQU8sT0FBQSxDQUFRLENBQVIsRUFBMUI7T0FGRDs7QUFIRDtTQU1BLE9BQUEsQ0FBUSxDQUFDLENBQVQ7QUFUYyIsInNvdXJjZXNDb250ZW50IjpbIndvcmRzID0gbnVsbFxyXG53b3JkID0gJydcclxubGFzdFdvcmQgPSAnJ1xyXG5sZXZlbCA9IC0xXHJcbmFuZ2xlID0gMFxyXG5yYWRpdXMxID0gMTUwXHJcbnJhZGl1czIgPSA1MFxyXG5kaXJlY3Rpb24gPSAxXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIDQwMCw0MDBcclxuXHR3b3JkcyA9IG9yZGxpc3RhLnNwbGl0ICcgJ1xyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0bmV3R2FtZSAxXHJcblxyXG5uZXdHYW1lID0gKGRMZXZlbCkgLT5cclxuXHRkaXJlY3Rpb24gPSBkTGV2ZWxcclxuXHRsZXZlbCArPSBkTGV2ZWxcclxuXHRpZiBsZXZlbCA8IDAgdGhlbiBsZXZlbCA9IDBcclxuXHRsYXN0V29yZCA9IHdvcmRcclxuXHR3b3JkID0gXy5zYW1wbGUgd29yZHNcclxuXHR3b3JkID0gd29yZC50b1VwcGVyQ2FzZSgpXHJcblx0YW5nbGUgPSAzNjAgKiByYW5kb20oKVxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmcgMC41XHJcblx0dGV4dFNpemUgMTZcclxuXHR0ZXh0IGxhc3RXb3JkLCB3aWR0aC8yLGhlaWdodC0zMiBcclxuXHR0ZXh0U2l6ZSA2NFxyXG5cdGlmIGRpcmVjdGlvbiA9PSAxIHRoZW4gZmMgMCwxLDAgZWxzZSBmYyAxLDAsMFxyXG5cdHRleHQgbGV2ZWwsd2lkdGgvMixoZWlnaHQvMiBcclxuXHRmYyAwXHJcblx0dHJhbnNsYXRlIHdpZHRoLzIsaGVpZ2h0LzJcclxuXHRuID0gd29yZC5sZW5ndGhcclxuXHRkQW5nbGUgPSAzNjAvblxyXG5cdHJkIGFuZ2xlXHJcblx0dGV4dFNpemUgNDBcclxuXHRmb3IgY2gsaSBpbiB3b3JkXHJcblx0XHRwdXNoKClcclxuXHRcdHRyYW5zbGF0ZSByYWRpdXMxLDBcclxuXHRcdHJkIDkwXHJcblx0XHRmYyAxLDEsMFxyXG5cdFx0Y2lyY2xlIDAsMCxyYWRpdXMyXHJcblx0XHRmYyAwXHJcblx0XHR0ZXh0IGNoLDAsMFxyXG5cdFx0cG9wKClcclxuXHRcdHJkIGRBbmdsZVxyXG5cdGFuZ2xlICs9IDAuNVxyXG5cclxubW91c2VQcmVzc2VkID0gLT5cclxuXHRuID0gd29yZC5sZW5ndGhcclxuXHRkd29yZCA9ICh3b3JkK3dvcmQpLnRvTG93ZXJDYXNlKClcclxuXHRmb3IgY2gsaSBpbiB3b3JkXHJcblx0XHR4ID0gd2lkdGgvMiAgKyByYWRpdXMxICogY29zKHJhZGlhbnMgYW5nbGUgKyBpL24gKiAzNjApXHJcblx0XHR5ID0gaGVpZ2h0LzIgKyByYWRpdXMxICogc2luKHJhZGlhbnMgYW5nbGUgKyBpL24gKiAzNjApXHJcblx0XHRpZiByYWRpdXMyID4gZGlzdCBtb3VzZVgsbW91c2VZLHgseSBcclxuXHRcdFx0dyA9IGR3b3JkLnNsaWNlIGksaStuXHJcblx0XHRcdGlmIHcgaW4gd29yZHMgdGhlbiByZXR1cm4gbmV3R2FtZSAxXHJcblx0bmV3R2FtZSAtMVxyXG4iXX0=
//# sourceURL=C:\Lab\2017\136-Lettero\coffee\sketch.coffee