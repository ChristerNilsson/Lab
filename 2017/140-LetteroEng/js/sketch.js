// Generated by CoffeeScript 1.12.7
var angle, direction, draw, dt, findWords, handleMousePressed, index, level, listCircular, mousePressed, newGame, possibleWords, radius1, radius2, reverseString, setup, size, solution, touchStarted, word, words,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

words = null;

index = 0;

word = '';

level = -1;

angle = 0;

direction = 1;

size = null;

radius1 = null;

radius2 = null;

possibleWords = [];

solution = "";

dt = 0;

setup = function() {
  createCanvas(windowWidth, windowHeight);
  size = min(width, height);
  radius2 = size / 10;
  radius1 = size / 2 - radius2;
  words = _.shuffle(ordlista.split(' '));
  textAlign(CENTER, CENTER);
  return newGame(1);
};

newGame = function(dLevel) {
  var extra;
  solution = possibleWords.join(' ');
  direction = dLevel;
  extra = int(level / 10);
  if (dLevel < 0 && extra !== 0) {
    dLevel *= extra;
  }
  level += dLevel;
  if (level < 0) {
    level = 0;
  }
  word = words[index];
  index++;
  possibleWords = findWords(word);
  if (0.5 < random()) {
    word = reverseString(word);
  }
  word = word.toUpperCase();
  angle = 360 * random();
  return false;
};

draw = function() {
  var ch, dAngle, i, j, len, n;
  bg(0.5);
  textSize(size / 12);
  text(solution, width / 2, height - size / 10);
  textSize(size / 4);
  if (direction === 1) {
    fc(0, 1, 0);
  } else {
    fc(1, 0, 0);
  }
  text(level, width / 2, height / 2);
  fc(0);
  translate(width / 2, height / 2);
  n = word.length;
  dAngle = 360 / n;
  rd(angle);
  textSize(size / 10);
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    push();
    translate(radius1, 0);
    rd(90);
    fc(1, 1, 0);
    circle(0, 0, radius2);
    fc(0);
    text(ch, 0, 0);
    pop();
    rd(dAngle);
  }
  angle += (millis() - dt) / 50;
  return dt = millis();
};

handleMousePressed = function() {
  var ch, dword, i, j, len, n, rw, w, x, y;
  n = word.length;
  dword = (word + word).toLowerCase();
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    x = width / 2 + radius1 * cos(radians(angle + i / n * 360));
    y = height / 2 + radius1 * sin(radians(angle + i / n * 360));
    if (radius2 > dist(mouseX, mouseY, x, y)) {
      w = dword.slice(i, i + n);
      rw = reverseString(dword).slice(n - i - 1, n - i + n - 1);
      if (indexOf.call(possibleWords, w) >= 0 || indexOf.call(possibleWords, rw) >= 0) {
        return newGame(1);
      } else {
        return newGame(-1);
      }
    }
  }
  return false;
};

reverseString = function(str) {
  return str.split("").reverse().join("");
};

mousePressed = function() {
  return handleMousePressed();
};

touchStarted = function() {
  return handleMousePressed();
};

findWords = function(word) {
  var ch, dword, i, j, len, n, res, rw, w;
  n = word.length;
  dword = (word + word).toLowerCase();
  res = [];
  for (i = j = 0, len = word.length; j < len; i = ++j) {
    ch = word[i];
    w = dword.slice(i, i + n);
    rw = reverseString(dword).slice(n - i - 1, n - i + n - 1);
    if (indexOf.call(words, w) >= 0) {
      res.push(w);
    }
    if (indexOf.call(words, rw) >= 0) {
      res.push(rw);
    }
  }
  return _.uniq(res);
};

listCircular = function() {
  var antal, j, len, res;
  print(words.length);
  antal = 0;
  for (j = 0, len = words.length; j < len; j++) {
    word = words[j];
    res = findWords(word);
    if (res.length === 2) {
      print(res.join(' '));
      antal++;
    }
  }
  return print(antal);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsOE1BQUE7RUFBQTs7QUFBQSxLQUFBLEdBQVE7O0FBQ1IsS0FBQSxHQUFROztBQUNSLElBQUEsR0FBTzs7QUFDUCxLQUFBLEdBQVEsQ0FBQzs7QUFDVCxLQUFBLEdBQVE7O0FBQ1IsU0FBQSxHQUFZOztBQUNaLElBQUEsR0FBTzs7QUFDUCxPQUFBLEdBQVU7O0FBQ1YsT0FBQSxHQUFVOztBQUNWLGFBQUEsR0FBZ0I7O0FBQ2hCLFFBQUEsR0FBVzs7QUFDWCxFQUFBLEdBQUs7O0FBRUwsS0FBQSxHQUFRLFNBQUE7RUFDUCxZQUFBLENBQWEsV0FBYixFQUF5QixZQUF6QjtFQUNBLElBQUEsR0FBTyxHQUFBLENBQUksS0FBSixFQUFVLE1BQVY7RUFDUCxPQUFBLEdBQVUsSUFBQSxHQUFLO0VBQ2YsT0FBQSxHQUFVLElBQUEsR0FBSyxDQUFMLEdBQU87RUFDakIsS0FBQSxHQUFRLENBQUMsQ0FBQyxPQUFGLENBQVUsUUFBUSxDQUFDLEtBQVQsQ0FBZSxHQUFmLENBQVY7RUFDUixTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtTQUVBLE9BQUEsQ0FBUSxDQUFSO0FBUk87O0FBVVIsT0FBQSxHQUFVLFNBQUMsTUFBRDtBQUNULE1BQUE7RUFBQSxRQUFBLEdBQVcsYUFBYSxDQUFDLElBQWQsQ0FBbUIsR0FBbkI7RUFDWCxTQUFBLEdBQVk7RUFDWixLQUFBLEdBQVEsR0FBQSxDQUFJLEtBQUEsR0FBTSxFQUFWO0VBQ1IsSUFBRyxNQUFBLEdBQVMsQ0FBVCxJQUFlLEtBQUEsS0FBUyxDQUEzQjtJQUFrQyxNQUFBLElBQVUsTUFBNUM7O0VBQ0EsS0FBQSxJQUFTO0VBQ1QsSUFBRyxLQUFBLEdBQVEsQ0FBWDtJQUFrQixLQUFBLEdBQVEsRUFBMUI7O0VBQ0EsSUFBQSxHQUFPLEtBQU0sQ0FBQSxLQUFB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SUFDTixJQUFHLEdBQUcsQ0FBQyxNQUFKLEtBQVksQ0FBZjtNQUNDLEtBQUEsQ0FBTSxHQUFHLENBQUMsSUFBSixDQUFTLEdBQVQsQ0FBTjtNQUNBLEtBQUEsR0FGRDs7QUFGRDtTQUtBLEtBQUEsQ0FBTSxLQUFOO0FBUmMiLCJzb3VyY2VzQ29udGVudCI6WyJ3b3JkcyA9IG51bGxcclxuaW5kZXggPSAwXHJcbndvcmQgPSAnJ1xyXG5sZXZlbCA9IC0xXHJcbmFuZ2xlID0gMFxyXG5kaXJlY3Rpb24gPSAxXHJcbnNpemUgPSBudWxsXHJcbnJhZGl1czEgPSBudWxsXHJcbnJhZGl1czIgPSBudWxsXHJcbnBvc3NpYmxlV29yZHMgPSBbXVxyXG5zb2x1dGlvbiA9IFwiXCJcclxuZHQgPSAwIFxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHRcclxuXHRzaXplID0gbWluIHdpZHRoLGhlaWdodFxyXG5cdHJhZGl1czIgPSBzaXplLzEwXHJcblx0cmFkaXVzMSA9IHNpemUvMi1yYWRpdXMyIFxyXG5cdHdvcmRzID0gXy5zaHVmZmxlIG9yZGxpc3RhLnNwbGl0ICcgJ1xyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0I2xpc3RDaXJjdWxhcigpXHJcblx0bmV3R2FtZSAxXHJcblxyXG5uZXdHYW1lID0gKGRMZXZlbCkgLT5cclxuXHRzb2x1dGlvbiA9IHBvc3NpYmxlV29yZHMuam9pbiAnICdcclxuXHRkaXJlY3Rpb24gPSBkTGV2ZWxcclxuXHRleHRyYSA9IGludCBsZXZlbC8xMCAjIHN0cmFmZmEgbWVkIDEwJSBhdiBsZXZlbC5cclxuXHRpZiBkTGV2ZWwgPCAwIGFuZCBleHRyYSAhPSAwIHRoZW4gZExldmVsICo9IGV4dHJhXHJcblx0bGV2ZWwgKz0gZExldmVsXHJcblx0aWYgbGV2ZWwgPCAwIHRoZW4gbGV2ZWwgPSAwXHJcblx0d29yZCA9IHdvcmRzW2luZGV4XVxyXG5cdGluZGV4KytcclxuXHRwb3NzaWJsZVdvcmRzID0gZmluZFdvcmRzIHdvcmRcclxuXHRpZiAwLjUgPCByYW5kb20oKSB0aGVuIHdvcmQgPSByZXZlcnNlU3RyaW5nIHdvcmRcclxuXHR3b3JkID0gd29yZC50b1VwcGVyQ2FzZSgpXHJcblx0YW5nbGUgPSAzNjAgKiByYW5kb20oKVxyXG5cdGZhbHNlICMgdG8gcHJldmVudCBkb3VibGUgY2xpY2sgb24gQW5kcm9pZFxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmcgMC41XHJcblx0dGV4dFNpemUgc2l6ZS8xMlxyXG5cdHRleHQgc29sdXRpb24sIHdpZHRoLzIsaGVpZ2h0LXNpemUvMTBcclxuXHR0ZXh0U2l6ZSBzaXplLzRcclxuXHRpZiBkaXJlY3Rpb24gPT0gMSB0aGVuIGZjIDAsMSwwIGVsc2UgZmMgMSwwLDBcclxuXHR0ZXh0IGxldmVsLHdpZHRoLzIsaGVpZ2h0LzIgXHJcblx0ZmMgMFxyXG5cdHRyYW5zbGF0ZSB3aWR0aC8yLGhlaWdodC8yXHJcblx0biA9IHdvcmQubGVuZ3RoXHJcblx0ZEFuZ2xlID0gMzYwL25cclxuXHRyZCBhbmdsZVxyXG5cdHRleHRTaXplIHNpemUvMTBcclxuXHRmb3IgY2gsaSBpbiB3b3JkXHJcblx0XHRwdXNoKClcclxuXHRcdHRyYW5zbGF0ZSByYWRpdXMxLDBcclxuXHRcdHJkIDkwXHJcblx0XHRmYyAxLDEsMFxyXG5cdFx0Y2lyY2xlIDAsMCxyYWRpdXMyXHJcblx0XHRmYyAwXHJcblx0XHR0ZXh0IGNoLDAsMFxyXG5cdFx0cG9wKClcclxuXHRcdHJkIGRBbmdsZVxyXG5cdGFuZ2xlICs9IChtaWxsaXMoKS1kdCkvNTBcclxuXHRkdCA9IG1pbGxpcygpXHJcblxyXG5oYW5kbGVNb3VzZVByZXNzZWQgPSAtPlxyXG5cdG4gPSB3b3JkLmxlbmd0aFxyXG5cdGR3b3JkID0gKHdvcmQrd29yZCkudG9Mb3dlckNhc2UoKVxyXG5cdGZvciBjaCxpIGluIHdvcmRcclxuXHRcdHggPSB3aWR0aC8yICArIHJhZGl1czEgKiBjb3MgcmFkaWFucyBhbmdsZSArIGkvbiAqIDM2MFxyXG5cdFx0eSA9IGhlaWdodC8yICsgcmFkaXVzMSAqIHNpbiByYWRpYW5zIGFuZ2xlICsgaS9uICogMzYwXHJcblx0XHRpZiByYWRpdXMyID4gZGlzdCBtb3VzZVgsbW91c2VZLHgseSBcclxuXHRcdFx0dyA9IGR3b3JkLnNsaWNlIGksaStuXHJcblx0XHRcdHJ3ID0gcmV2ZXJzZVN0cmluZyhkd29yZCkuc2xpY2Ugbi1pLTEsbi1pK24tMVxyXG5cdFx0XHRpZiB3IGluIHBvc3NpYmxlV29yZHMgb3IgcncgaW4gcG9zc2libGVXb3Jkc1xyXG5cdFx0XHRcdHJldHVybiBuZXdHYW1lIDFcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBuZXdHYW1lIC0xXHJcblx0ZmFsc2UgIyB0byBwcmV2ZW50IGRvdWJsZSBjbGljayBvbiBBbmRyb2lkXHJcblxyXG5yZXZlcnNlU3RyaW5nID0gKHN0cikgLT4gc3RyLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luIFwiXCJcclxubW91c2VQcmVzc2VkID0gLT5cdGhhbmRsZU1vdXNlUHJlc3NlZCgpXHJcbnRvdWNoU3RhcnRlZCA9IC0+IGhhbmRsZU1vdXNlUHJlc3NlZCgpXHJcblxyXG5maW5kV29yZHMgPSAod29yZCkgLT5cclxuXHRuID0gd29yZC5sZW5ndGhcclxuXHRkd29yZCA9ICh3b3JkK3dvcmQpLnRvTG93ZXJDYXNlKClcclxuXHRyZXMgPSBbXVxyXG5cdGZvciBjaCxpIGluIHdvcmRcclxuXHRcdHcgPSBkd29yZC5zbGljZSBpLGkrblxyXG5cdFx0cncgPSByZXZlcnNlU3RyaW5nKGR3b3JkKS5zbGljZSBuLWktMSxuLWkrbi0xXHJcblx0XHRpZiB3IGluIHdvcmRzIHRoZW4gcmVzLnB1c2ggd1xyXG5cdFx0aWYgcncgaW4gd29yZHMgdGhlbiByZXMucHVzaCByd1xyXG5cdF8udW5pcSByZXNcclxuXHJcbmxpc3RDaXJjdWxhciA9ICgpIC0+XHJcblx0cHJpbnQgd29yZHMubGVuZ3RoXHJcblx0YW50YWwgPSAwXHJcblx0Zm9yIHdvcmQgaW4gd29yZHNcclxuXHRcdHJlcyA9IGZpbmRXb3JkcyB3b3JkXHJcblx0XHRpZiByZXMubGVuZ3RoPT0yXHJcblx0XHRcdHByaW50IHJlcy5qb2luICcgJ1xyXG5cdFx0XHRhbnRhbCsrXHJcblx0cHJpbnQgYW50YWwiXX0=
//# sourceURL=C:\Lab\2017\140-LetteroEng\coffee\sketch.coffee