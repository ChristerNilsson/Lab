// Generated by CoffeeScript 1.12.7
var N, data, proc, setup, stamp;

N = 6;

data = [];

setup = function() {
  var i, j, len, ref, results;
  ref = range(N);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(data.push([0, 0, 0, -1, 0]));
  }
  return results;
};

proc = function(x) {
  return round(100 * x);
};

stamp = function(index, st) {
  var buttons, newbutton, oldbutton, state, timestamp, total, txt;
  buttons = [e0, r0, a0, d0, e1, r1, a1, d1, e2, r2, a2, d2, e3, r3, a3, d3, e4, r4, a4, d4, e5, r5, a5, d5];
  newbutton = buttons[4 * index + st];
  txt = buttons[4 * index + 3];
  state = data[index][3];
  timestamp = data[index][4];
  if (state !== -1) {
    oldbutton = buttons[4 * index + state];
  } else {
    oldbutton = null;
  }
  if (state === -1) {
    timestamp = millis();
    state = st;
    newbutton.style = "background-color: " + ['red', 'yellow', 'green'][st];
  } else {
    if (state === st) {
      data[index][state] += int(millis() - timestamp);
      timestamp = int(millis());
      state = -1;
      oldbutton.style = '';
    } else {
      data[index][state] += int(millis() - timestamp);
      timestamp = int(millis());
      state = st;
      oldbutton.style = '';
      newbutton.style = "background-color: " + ['red', 'yellow', 'green'][st];
    }
  }
  data[index][3] = state;
  data[index][4] = timestamp;
  total = data[index][0] + data[index][1] + data[index][2] + 1;
  print(proc(data[index][0] / total), proc(data[index][1] / total), proc(data[index][2] / total));
  return txt.innerHTML = proc(data[index][0] / total) + ' ' + proc(data[index][1] / total) + ' ' + proc(data[index][2] / total);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsQ0FBQSxHQUFJOztBQUNKLElBQUEsR0FBTzs7QUFFUCxLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7QUFBQTtBQUFBO09BQUEscUNBQUE7O2lCQUNDLElBQUksQ0FBQyxJQUFMLENBQVUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFDLENBQVIsRUFBVSxDQUFWLENBQVY7QUFERDs7QUFETzs7QUFJUixJQUFBLEdBQU8sU0FBQyxDQUFEO1NBQU8sS0FBQSxDQUFNLEdBQUEsR0FBSSxDQUFWO0FBQVA7O0FBRVAsS0FBQSxHQUFRLFNBQUMsS0FBRCxFQUFPLEVBQVA7QUFDUCxNQUFBO0VBQUEsT0FBQSxHQUFVLENBQUMsRUFBRCxFQUFJLEVBQUosRUFBTyxFQUFQLEVBQVUsRUFBVixFQUFjLEVBQWQsRUFBaUIsRUFBakIsRUFBb0IsRUFBcEIsRUFBdUIsRUFBdkIsRUFBMkIsRUFBM0IsRUFBOEIsRUFBOUIsRUFBaUMsRUFBakMsRUFBb0MsRUFBcEMsRUFBd0MsRUFBeEMsRUFBMkMsRUFBM0MsRUFBOEMsRUFBOUMsRUFBaUQsRUFBakQsRUFBcUQsRUFBckQsRUFBd0QsRUFBeEQsRUFBMkQsRUFBM0QsRUFBOEQsRUFBOUQsRUFBa0UsRUFBbEUsRUFBcUUsRUFBckUsRUFBd0UsRUFBeEUsRUFBMkUsRUFBM0U7RUFDVixTQUFBLEdBQVksT0FBUSxDQUFBLENBQUEsR0FBRSxLQUFGLEdBQVEsRUFBUjtFQUNwQixHQUFBLEdBQU0sT0FBUSxDQUFBLENBQUEsR0FBRSxLQUFGLEdBQVEsQ0FBUjtFQUNkLEtBQUEsR0FBUSxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQTtFQUNwQixTQUFBLEdBQVksSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUE7RUFFeEIsSUFBRyxLQUFBLEtBQVMsQ0FBQyxDQUFiO0lBQW9CLFNBQUEsR0FBWSxPQUFRLENBQUEsQ0FBQSxHQUFFLEtBQUYsR0FBUSxLQUFSLEVBQXhDO0dBQUEsTUFBQTtJQUE0RCxTQUFBLEdBQVksS0FBeEU7O0VBQ0EsSUFBRyxLQUFBLEtBQVMsQ0FBQyxDQUFiO0lBQ0MsU0FBQSxHQUFZLE1BQUEsQ0FBQTtJQUNaLEtBQUEsR0FBUTtJQUNSLFNBQVMsQ0FBQyxLQUFWLEdBQWtCLG9CQUFBLEdBQXVCLENBQUMsS0FBRCxFQUFPLFFBQVAsRUFBZ0IsT0FBaEIsQ0FBeUIsQ0FBQSxFQUFBLEVBSG5FO0dBQUEsTUFBQTtJQUtDLElBQUcsS0FBQSxLQUFTLEVBQVo7TUFDQyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsS0FBQSxDQUFaLElBQXNCLEdBQUEsQ0FBSSxNQUFBLENBQUEsQ0FBQSxHQUFXLFNBQWY7TUFDdEIsU0FBQSxHQUFZLEdBQUEsQ0FBSSxNQUFBLENBQUEsQ0FBSjtNQUNaLEtBQUEsR0FBUSxDQUFDO01BQ1QsU0FBUyxDQUFDLEtBQVYsR0FBa0IsR0FKbkI7S0FBQSxNQUFBO01BTUMsSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLEtBQUEsQ0FBWixJQUFzQixHQUFBLENBQUksTUFBQSxDQUFBLENBQUEsR0FBVyxTQUFmO01BQ3RCLFNBQUEsR0FBWSxHQUFBLENBQUksTUFBQSxDQUFBLENBQUo7TUFDWixLQUFBLEdBQVE7TUFDUixTQUFTLENBQUMsS0FBVixHQUFrQjtNQUNsQixTQUFTLENBQUMsS0FBVixHQUFrQixvQkFBQSxHQUF1QixDQUFDLEtBQUQsRUFBTyxRQUFQLEVBQWdCLE9BQWhCLENBQXlCLENBQUEsRUFBQSxFQVZuRTtLQUxEOztFQWdCQSxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQSxDQUFaLEdBQWlCO0VBQ2pCLElBQUssQ0FBQSxLQUFBLENBQU8sQ0FBQSxDQUFBLENBQVosR0FBaUI7RUFFakIsS0FBQSxHQUFRLElBQUssQ0FBQSxLQUFBLENBQU8sQ0FBQSxDQUFBLENBQVosR0FBaUIsSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBN0IsR0FBa0MsSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBOUMsR0FBbUQ7RUFDM0QsS0FBQSxDQUFNLElBQUEsQ0FBSyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQSxDQUFaLEdBQWUsS0FBcEIsQ0FBTixFQUFrQyxJQUFBLENBQUssSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBWixHQUFlLEtBQXBCLENBQWxDLEVBQThELElBQUEsQ0FBSyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQSxDQUFaLEdBQWUsS0FBcEIsQ0FBOUQ7U0FFQSxHQUFHLENBQUMsU0FBSixHQUFnQixJQUFBLENBQUssSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBWixHQUFlLEtBQXBCLENBQUEsR0FBNkIsR0FBN0IsR0FBbUMsSUFBQSxDQUFLLElBQUssQ0FBQSxLQUFBLENBQU8sQ0FBQSxDQUFBLENBQVosR0FBZSxLQUFwQixDQUFuQyxHQUFnRSxHQUFoRSxHQUFzRSxJQUFBLENBQUssSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBWixHQUFlLEtBQXBCO0FBOUIvRSIsInNvdXJjZXNDb250ZW50IjpbIk4gPSA2XHJcbmRhdGEgPSBbXVxyXG5cclxuc2V0dXAgPSAtPiBcclxuXHRmb3IgaSBpbiByYW5nZSBOXHJcblx0XHRkYXRhLnB1c2ggWzAsMCwwLC0xLDBdICMgZW1wdHkscmVzdCxhY3RpdmUsc3RhdGUsdGltZXN0YW1wXHJcblxyXG5wcm9jID0gKHgpIC0+IHJvdW5kIDEwMCp4XHJcblxyXG5zdGFtcCA9IChpbmRleCxzdCkgLT5cclxuXHRidXR0b25zID0gW2UwLHIwLGEwLGQwLCBlMSxyMSxhMSxkMSwgZTIscjIsYTIsZDIsIGUzLHIzLGEzLGQzLCBlNCxyNCxhNCxkNCwgZTUscjUsYTUsZDVdXHJcblx0bmV3YnV0dG9uID0gYnV0dG9uc1s0KmluZGV4K3N0XVxyXG5cdHR4dCA9IGJ1dHRvbnNbNCppbmRleCszXVxyXG5cdHN0YXRlID0gZGF0YVtpbmRleF1bM11cclxuXHR0aW1lc3RhbXAgPSBkYXRhW2luZGV4XVs0XVxyXG5cclxuXHRpZiBzdGF0ZSAhPSAtMSB0aGVuIG9sZGJ1dHRvbiA9IGJ1dHRvbnNbNCppbmRleCtzdGF0ZV0gZWxzZSBvbGRidXR0b24gPSBudWxsXHJcblx0aWYgc3RhdGUgPT0gLTFcclxuXHRcdHRpbWVzdGFtcCA9IG1pbGxpcygpXHJcblx0XHRzdGF0ZSA9IHN0XHJcblx0XHRuZXdidXR0b24uc3R5bGUgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgWydyZWQnLCd5ZWxsb3cnLCdncmVlbiddW3N0XVxyXG5cdGVsc2VcdFx0XHJcblx0XHRpZiBzdGF0ZSA9PSBzdCAjIHN0b3BwYSBcclxuXHRcdFx0ZGF0YVtpbmRleF1bc3RhdGVdICs9IGludChtaWxsaXMoKSAtIHRpbWVzdGFtcClcclxuXHRcdFx0dGltZXN0YW1wID0gaW50IG1pbGxpcygpXHJcblx0XHRcdHN0YXRlID0gLTFcclxuXHRcdFx0b2xkYnV0dG9uLnN0eWxlID0gJydcclxuXHRcdGVsc2UgIyBzdG9wcGEgc2FtdCBzdGFydGEgbnkgcsOka25hcmVcclxuXHRcdFx0ZGF0YVtpbmRleF1bc3RhdGVdICs9IGludChtaWxsaXMoKSAtIHRpbWVzdGFtcClcclxuXHRcdFx0dGltZXN0YW1wID0gaW50IG1pbGxpcygpXHJcblx0XHRcdHN0YXRlID0gc3RcclxuXHRcdFx0b2xkYnV0dG9uLnN0eWxlID0gJydcclxuXHRcdFx0bmV3YnV0dG9uLnN0eWxlID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIFsncmVkJywneWVsbG93JywnZ3JlZW4nXVtzdF1cclxuXHRkYXRhW2luZGV4XVszXSA9IHN0YXRlXHJcblx0ZGF0YVtpbmRleF1bNF0gPSB0aW1lc3RhbXBcclxuXHJcblx0dG90YWwgPSBkYXRhW2luZGV4XVswXSArIGRhdGFbaW5kZXhdWzFdICsgZGF0YVtpbmRleF1bMl0gKyAxXHJcblx0cHJpbnQgcHJvYyhkYXRhW2luZGV4XVswXS90b3RhbCksIHByb2MoZGF0YVtpbmRleF1bMV0vdG90YWwpLCBwcm9jKGRhdGFbaW5kZXhdWzJdL3RvdGFsKVxyXG5cclxuXHR0eHQuaW5uZXJIVE1MID0gcHJvYyhkYXRhW2luZGV4XVswXS90b3RhbCkgKyAnICcgKyBwcm9jKGRhdGFbaW5kZXhdWzFdL3RvdGFsKSArICcgJyArIHByb2MoZGF0YVtpbmRleF1bMl0vdG90YWwpXHJcbiJdfQ==
//# sourceURL=C:\Lab\2017\108-Friskis&Svettis\coffee\sketch.coffee