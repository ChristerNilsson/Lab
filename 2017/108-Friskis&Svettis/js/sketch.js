// Generated by CoffeeScript 1.12.7
var N, data, proc, setup, stamp;

N = 6;

data = [];

setup = function() {
  var i, j, len, ref, results;
  ref = range(N);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(data.push([0, 0, 0, -1, 0]));
  }
  return results;
};

proc = function(x) {
  return round(100 * x);
};

stamp = function(index, st) {
  var buttons, newbutton, oldbutton, state, timestamp, total, txt;
  buttons = [e0, r0, a0, d0, e1, r1, a1, d1, e2, r2, a2, d2, e3, r3, a3, d3, e4, r4, a4, d4, e5, r5, a5, d5];
  newbutton = buttons[4 * index + st];
  txt = buttons[4 * index + 3];
  state = data[index][3];
  timestamp = data[index][4];
  if (state !== -1) {
    oldbutton = buttons[4 * index + state];
  } else {
    oldbutton = null;
  }
  if (state === -1) {
    timestamp = millis();
    state = st;
    newbutton.style = "background-color: " + ['red', 'yellow', 'green'][st];
  } else {
    if (state === st) {
      data[index][state] += int(millis() - timestamp);
      timestamp = int(millis());
      state = -1;
      oldbutton.style = '';
    } else {
      data[index][state] += int(millis() - timestamp);
      timestamp = int(millis());
      state = st;
      oldbutton.style = '';
      newbutton.style = "background-color: " + ['red', 'yellow', 'green'][st];
    }
  }
  data[index][3] = state;
  data[index][4] = timestamp;
  total = data[index][0] + data[index][1] + data[index][2] + 1;
  print(proc(data[index][0] / total), proc(data[index][1] / total), proc(data[index][2] / total));
  return txt.innerHTML = proc(data[index][0] / total) + ' ' + proc(data[index][1] / total) + ' ' + proc(data[index][2] / total);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsQ0FBQSxHQUFJOztBQUNKLElBQUEsR0FBTzs7QUFFUCxLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7QUFBQTtBQUFBO09BQUEscUNBQUE7O2lCQUNDLElBQUksQ0FBQyxJQUFMLENBQVUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFDLENBQVIsRUFBVSxDQUFWLENBQVY7QUFERDs7QUFETzs7QUFLUixJQUFBLEdBQU8sU0FBQyxDQUFEO1NBQU8sS0FBQSxDQUFNLEdBQUEsR0FBSSxDQUFWO0FBQVA7O0FBRVAsS0FBQSxHQUFRLFNBQUMsS0FBRCxFQUFPLEVBQVA7QUFDUCxNQUFBO0VBQUEsT0FBQSxHQUFVLENBQUMsRUFBRCxFQUFJLEVBQUosRUFBTyxFQUFQLEVBQVUsRUFBVixFQUFjLEVBQWQsRUFBaUIsRUFBakIsRUFBb0IsRUFBcEIsRUFBdUIsRUFBdkIsRUFBMkIsRUFBM0IsRUFBOEIsRUFBOUIsRUFBaUMsRUFBakMsRUFBb0MsRUFBcEMsRUFBd0MsRUFBeEMsRUFBMkMsRUFBM0MsRUFBOEMsRUFBOUMsRUFBaUQsRUFBakQsRUFBcUQsRUFBckQsRUFBd0QsRUFBeEQsRUFBMkQsRUFBM0QsRUFBOEQsRUFBOUQsRUFBa0UsRUFBbEUsRUFBcUUsRUFBckUsRUFBd0UsRUFBeEUsRUFBMkUsRUFBM0U7RUFDVixTQUFBLEdBQVksT0FBUSxDQUFBLENBQUEsR0FBRSxLQUFGLEdBQVEsRUFBUjtFQUNwQixHQUFBLEdBQU0sT0FBUSxDQUFBLENBQUEsR0FBRSxLQUFGLEdBQVEsQ0FBUjtFQUNkLEtBQUEsR0FBUSxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQTtFQUNwQixTQUFBLEdBQVksSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUE7RUFFeEIsSUFBRyxLQUFBLEtBQVMsQ0FBQyxDQUFiO0lBQW9CLFNBQUEsR0FBWSxPQUFRLENBQUEsQ0FBQSxHQUFFLEtBQUYsR0FBUSxLQUFSLEVBQXhDO0dBQUEsTUFBQTtJQUE0RCxTQUFBLEdBQVksS0FBeEU7O0VBQ0EsSUFBRyxLQUFBLEtBQVMsQ0FBQyxDQUFiO0lBQ0MsU0FBQSxHQUFZLE1BQUEsQ0FBQTtJQUNaLEtBQUEsR0FBUTtJQUNSLFNBQVMsQ0FBQyxLQUFWLEdBQWtCLG9CQUFBLEdBQXVCLENBQUMsS0FBRCxFQUFPLFFBQVAsRUFBZ0IsT0FBaEIsQ0FBeUIsQ0FBQSxFQUFBLEVBSG5FO0dBQUEsTUFBQTtJQUtDLElBQUcsS0FBQSxLQUFTLEVBQVo7TUFDQyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsS0FBQSxDQUFaLElBQXNCLEdBQUEsQ0FBSSxNQUFBLENBQUEsQ0FBQSxHQUFXLFNBQWY7TUFDdEIsU0FBQSxHQUFZLEdBQUEsQ0FBSSxNQUFBLENBQUEsQ0FBSjtNQUNaLEtBQUEsR0FBUSxDQUFDO01BQ1QsU0FBUyxDQUFDLEtBQVYsR0FBa0IsR0FKbkI7S0FBQSxNQUFBO01BTUMsSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLEtBQUEsQ0FBWixJQUFzQixHQUFBLENBQUksTUFBQSxDQUFBLENBQUEsR0FBVyxTQUFmO01BQ3RCLFNBQUEsR0FBWSxHQUFBLENBQUksTUFBQSxDQUFBLENBQUo7TUFDWixLQUFBLEdBQVE7TUFDUixTQUFTLENBQUMsS0FBVixHQUFrQjtNQUNsQixTQUFTLENBQUMsS0FBVixHQUFrQixvQkFBQSxHQUF1QixDQUFDLEtBQUQsRUFBTyxRQUFQLEVBQWdCLE9BQWhCLENBQXlCLENBQUEsRUFBQSxFQVZuRTtLQUxEOztFQWdCQSxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQSxDQUFaLEdBQWlCO0VBQ2pCLElBQUssQ0FBQSxLQUFBLENBQU8sQ0FBQSxDQUFBLENBQVosR0FBaUI7RUFFakIsS0FBQSxHQUFRLElBQUssQ0FBQSxLQUFBLENBQU8sQ0FBQSxDQUFBLENBQVosR0FBaUIsSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBN0IsR0FBa0MsSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBOUMsR0FBbUQ7RUFDM0QsS0FBQSxDQUFNLElBQUEsQ0FBSyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQSxDQUFaLEdBQWUsS0FBcEIsQ0FBTixFQUFrQyxJQUFBLENBQUssSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBWixHQUFlLEtBQXBCLENBQWxDLEVBQThELElBQUEsQ0FBSyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsQ0FBQSxDQUFaLEdBQWUsS0FBcEIsQ0FBOUQ7U0FFQSxHQUFHLENBQUMsU0FBSixHQUFnQixJQUFBLENBQUssSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBWixHQUFlLEtBQXBCLENBQUEsR0FBNkIsR0FBN0IsR0FBbUMsSUFBQSxDQUFLLElBQUssQ0FBQSxLQUFBLENBQU8sQ0FBQSxDQUFBLENBQVosR0FBZSxLQUFwQixDQUFuQyxHQUFnRSxHQUFoRSxHQUFzRSxJQUFBLENBQUssSUFBSyxDQUFBLEtBQUEsQ0FBTyxDQUFBLENBQUEsQ0FBWixHQUFlLEtBQXBCO0FBOUIvRSIsInNvdXJjZXNDb250ZW50IjpbIk4gPSA2XHJcbmRhdGEgPSBbXVxyXG5cclxuc2V0dXAgPSAtPiBcclxuXHRmb3IgaSBpbiByYW5nZSBOXHJcblx0XHRkYXRhLnB1c2ggWzAsMCwwLC0xLDBdICMgZW1wdHkscmVzdCxhY3RpdmUsc3RhdGUsdGltZXN0YW1wXHJcblx0I2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbigpXHJcblx0XHJcbnByb2MgPSAoeCkgLT4gcm91bmQgMTAwKnhcclxuXHJcbnN0YW1wID0gKGluZGV4LHN0KSAtPlxyXG5cdGJ1dHRvbnMgPSBbZTAscjAsYTAsZDAsIGUxLHIxLGExLGQxLCBlMixyMixhMixkMiwgZTMscjMsYTMsZDMsIGU0LHI0LGE0LGQ0LCBlNSxyNSxhNSxkNV1cclxuXHRuZXdidXR0b24gPSBidXR0b25zWzQqaW5kZXgrc3RdXHJcblx0dHh0ID0gYnV0dG9uc1s0KmluZGV4KzNdXHJcblx0c3RhdGUgPSBkYXRhW2luZGV4XVszXVxyXG5cdHRpbWVzdGFtcCA9IGRhdGFbaW5kZXhdWzRdXHJcblxyXG5cdGlmIHN0YXRlICE9IC0xIHRoZW4gb2xkYnV0dG9uID0gYnV0dG9uc1s0KmluZGV4K3N0YXRlXSBlbHNlIG9sZGJ1dHRvbiA9IG51bGxcclxuXHRpZiBzdGF0ZSA9PSAtMVxyXG5cdFx0dGltZXN0YW1wID0gbWlsbGlzKClcclxuXHRcdHN0YXRlID0gc3RcclxuXHRcdG5ld2J1dHRvbi5zdHlsZSA9IFwiYmFja2dyb3VuZC1jb2xvcjogXCIgKyBbJ3JlZCcsJ3llbGxvdycsJ2dyZWVuJ11bc3RdXHJcblx0ZWxzZVx0XHRcclxuXHRcdGlmIHN0YXRlID09IHN0ICMgc3RvcHBhIFxyXG5cdFx0XHRkYXRhW2luZGV4XVtzdGF0ZV0gKz0gaW50KG1pbGxpcygpIC0gdGltZXN0YW1wKVxyXG5cdFx0XHR0aW1lc3RhbXAgPSBpbnQgbWlsbGlzKClcclxuXHRcdFx0c3RhdGUgPSAtMVxyXG5cdFx0XHRvbGRidXR0b24uc3R5bGUgPSAnJ1xyXG5cdFx0ZWxzZSAjIHN0b3BwYSBzYW10IHN0YXJ0YSBueSByw6RrbmFyZVxyXG5cdFx0XHRkYXRhW2luZGV4XVtzdGF0ZV0gKz0gaW50KG1pbGxpcygpIC0gdGltZXN0YW1wKVxyXG5cdFx0XHR0aW1lc3RhbXAgPSBpbnQgbWlsbGlzKClcclxuXHRcdFx0c3RhdGUgPSBzdFxyXG5cdFx0XHRvbGRidXR0b24uc3R5bGUgPSAnJ1xyXG5cdFx0XHRuZXdidXR0b24uc3R5bGUgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgWydyZWQnLCd5ZWxsb3cnLCdncmVlbiddW3N0XVxyXG5cdGRhdGFbaW5kZXhdWzNdID0gc3RhdGVcclxuXHRkYXRhW2luZGV4XVs0XSA9IHRpbWVzdGFtcFxyXG5cclxuXHR0b3RhbCA9IGRhdGFbaW5kZXhdWzBdICsgZGF0YVtpbmRleF1bMV0gKyBkYXRhW2luZGV4XVsyXSArIDFcclxuXHRwcmludCBwcm9jKGRhdGFbaW5kZXhdWzBdL3RvdGFsKSwgcHJvYyhkYXRhW2luZGV4XVsxXS90b3RhbCksIHByb2MoZGF0YVtpbmRleF1bMl0vdG90YWwpXHJcblxyXG5cdHR4dC5pbm5lckhUTUwgPSBwcm9jKGRhdGFbaW5kZXhdWzBdL3RvdGFsKSArICcgJyArIHByb2MoZGF0YVtpbmRleF1bMV0vdG90YWwpICsgJyAnICsgcHJvYyhkYXRhW2luZGV4XVsyXS90b3RhbClcclxuIl19
//# sourceURL=C:\Lab\2017\108-Friskis&Svettis\coffee\sketch.coffee