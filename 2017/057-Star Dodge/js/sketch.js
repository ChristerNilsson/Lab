// Generated by CoffeeScript 1.12.7
var dd, draw, level, setup, stars, startNewGame, x, y;

stars = [];

level = x = y = 0;

dd = 50;

setup = function() {
  createCanvas(windowWidth, windowHeight);
  return startNewGame(1);
};

startNewGame = function(dlevel) {
  var d, i, j, k, l, len, len1, len2, m, ref, ref1, ref2, x1, y1;
  if (dlevel === 1) {
    stars = [];
    d = dd / 2;
    ref = range(1, width / dd);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      ref1 = range(1, height / dd);
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        j = ref1[l];
        stars.push([dd * i + int(random(-d, d)), dd * j + int(random(-d, d))]);
      }
    }
  }
  level += dlevel;
  x = 0;
  y = height / 2;
  bg(0.5);
  sc(0);
  for (m = 0, len2 = stars.length; m < len2; m++) {
    ref2 = stars[m], x1 = ref2[0], y1 = ref2[1];
    circle(x1, y1, level);
  }
  return rect(width - 3, 0.4 * height, 2, 0.2 * height);
};

draw = function() {
  var k, len, ref, x1, y1;
  x++;
  y = keyIsDown(32) ? y + 1 : y - 1;
  sc(1);
  point(x, y);
  if (x > width && (0.4 * height < y && y < 0.6 * height)) {
    return startNewGame(1);
  }
  if (y < 0 || y > height || x > width) {
    return startNewGame(0);
  }
  for (k = 0, len = stars.length; k < len; k++) {
    ref = stars[k], x1 = ref[0], y1 = ref[1];
    if (dist(x, y, x1, y1) < level) {
      return startNewGame(0);
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsS0FBQSxHQUFROztBQUNSLEtBQUEsR0FBUSxDQUFBLEdBQUksQ0FBQSxHQUFJOztBQUNoQixFQUFBLEdBQUs7O0FBRUwsS0FBQSxHQUFRLFNBQUE7RUFDUCxZQUFBLENBQWEsV0FBYixFQUF5QixZQUF6QjtTQUNBLFlBQUEsQ0FBYSxDQUFiO0FBRk87O0FBSVIsWUFBQSxHQUFlLFNBQUMsTUFBRDtBQUNkLE1BQUE7RUFBQSxJQUFHLE1BQUEsS0FBVSxDQUFiO0lBQ0MsS0FBQSxHQUFRO0lBQ1IsQ0FBQSxHQUFJLEVBQUEsR0FBRztBQUNQO0FBQUEsU0FBQSxxQ0FBQTs7QUFDQztBQUFBLFdBQUEsd0NBQUE7O1FBQ0MsS0FBSyxDQUFDLElBQU4sQ0FBVyxDQUFDLEVBQUEsR0FBRyxDQUFILEdBQUssR0FBQSxDQUFJLE1BQUEsQ0FBTyxDQUFDLENBQVIsRUFBVSxDQUFWLENBQUosQ0FBTixFQUF3QixFQUFBLEdBQUcsQ0FBSCxHQUFLLEdBQUEsQ0FBSSxNQUFBLENBQU8sQ0FBQyxDQUFSLEVBQVUsQ0FBVixDQUFKLENBQTdCLENBQVg7QUFERDtBQURELEtBSEQ7O0VBTUEsS0FBQSxJQUFTO0VBQ1QsQ0FBQSxHQUFJO0VBQ0osQ0FBQSxHQUFJLE1BQUEsR0FBTztFQUNYLEVBQUEsQ0FBRyxHQUFIO0VBQ0EsRUFBQSxDQUFHLENBQUg7QUFDQSxPQUFBLHlDQUFBO3FCQUFLLGNBQUc7SUFDUCxNQUFBLENBQU8sRUFBUCxFQUFVLEVBQVYsRUFBYSxLQUFiO0FBREQ7U0FFQSxJQUFBLENBQUssS0FBQSxHQUFNLENBQVgsRUFBYyxHQUFBLEdBQUksTUFBbEIsRUFBMEIsQ0FBMUIsRUFBNkIsR0FBQSxHQUFJLE1BQWpDO0FBZGM7O0FBZ0JmLElBQUEsR0FBTyxTQUFBO0FBQ04sTUFBQTtFQUFBLENBQUE7RUFDQSxDQUFBLEdBQU8sU0FBQSxDQUFVLEVBQVYsQ0FBSCxHQUFxQixDQUFBLEdBQUUsQ0FBdkIsR0FBOEIsQ0FBQSxHQUFFO0VBQ3BDLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsS0FBQSxDQUFNLENBQU4sRUFBUSxDQUFSO0VBQ0EsSUFBRyxDQUFBLEdBQUksS0FBSixJQUFjLENBQUEsR0FBQSxHQUFJLE1BQUosR0FBYSxDQUFiLElBQWEsQ0FBYixHQUFpQixHQUFBLEdBQUksTUFBckIsQ0FBakI7QUFBa0QsV0FBTyxZQUFBLENBQWEsQ0FBYixFQUF6RDs7RUFDQSxJQUFHLENBQUEsR0FBRSxDQUFGLElBQU8sQ0FBQSxHQUFFLE1BQVQsSUFBbUIsQ0FBQSxHQUFFLEtBQXhCO0FBQW1DLFdBQU8sWUFBQSxDQUFhLENBQWIsRUFBMUM7O0FBQ0EsT0FBQSx1Q0FBQTtvQkFBSyxhQUFHO0lBQ1AsSUFBRyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxFQUFULEVBQVksRUFBWixDQUFBLEdBQWtCLEtBQXJCO0FBQWdDLGFBQU8sWUFBQSxDQUFhLENBQWIsRUFBdkM7O0FBREQ7QUFQTSIsInNvdXJjZXNDb250ZW50IjpbInN0YXJzID0gW11cclxubGV2ZWwgPSB4ID0geSA9IDBcclxuZGQgPSA1MFxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHRcclxuXHRzdGFydE5ld0dhbWUgMVxyXG5cclxuc3RhcnROZXdHYW1lID0gKGRsZXZlbCkgLT5cclxuXHRpZiBkbGV2ZWwgPT0gMVxyXG5cdFx0c3RhcnMgPSBbXVxyXG5cdFx0ZCA9IGRkLzJcclxuXHRcdGZvciBpIGluIHJhbmdlIDEsd2lkdGgvZGRcclxuXHRcdFx0Zm9yIGogaW4gcmFuZ2UgMSxoZWlnaHQvZGRcclxuXHRcdFx0XHRzdGFycy5wdXNoIFtkZCppK2ludChyYW5kb20gLWQsZCksIGRkKmoraW50KHJhbmRvbSAtZCxkKV1cclxuXHRsZXZlbCArPSBkbGV2ZWxcclxuXHR4ID0gMFxyXG5cdHkgPSBoZWlnaHQvMlxyXG5cdGJnIDAuNVxyXG5cdHNjIDBcclxuXHRmb3IgW3gxLHkxXSBpbiBzdGFyc1xyXG5cdFx0Y2lyY2xlIHgxLHkxLGxldmVsXHJcblx0cmVjdCB3aWR0aC0zLCAwLjQqaGVpZ2h0LCAyLCAwLjIqaGVpZ2h0XHJcblxyXG5kcmF3ID0gLT5cclxuXHR4KytcclxuXHR5ID0gaWYga2V5SXNEb3duIDMyIHRoZW4geSsxIGVsc2UgeS0xXHJcblx0c2MgMVxyXG5cdHBvaW50IHgseVxyXG5cdGlmIHggPiB3aWR0aCBhbmQgMC40KmhlaWdodCA8IHkgPCAwLjYqaGVpZ2h0IHRoZW4gcmV0dXJuIHN0YXJ0TmV3R2FtZSAxXHJcblx0aWYgeTwwIG9yIHk+aGVpZ2h0IG9yIHg+d2lkdGggdGhlbiByZXR1cm4gc3RhcnROZXdHYW1lIDBcclxuXHRmb3IgW3gxLHkxXSBpbiBzdGFyc1xyXG5cdFx0aWYgZGlzdCh4LHkseDEseTEpIDwgbGV2ZWwgdGhlbiByZXR1cm4gc3RhcnROZXdHYW1lIDAiXX0=
//# sourceURL=C:\Lab\2017\057-Star Dodge\coffee\sketch.coffee