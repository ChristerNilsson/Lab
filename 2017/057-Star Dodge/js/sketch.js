// Generated by CoffeeScript 1.11.1
var dd, draw, level, setup, stars, startNewGame, x, y;

stars = [];

level = 0;

dd = 50;

x = 0;

y = 0;

setup = function() {
  createCanvas(windowWidth, windowHeight);
  return startNewGame(1);
};

startNewGame = function(dlevel) {
  var d, i, j, k, l, len, len1, len2, m, ref, ref1, star, x1, y1;
  if (dlevel === 1) {
    stars = [];
    d = dd / 2;
    ref = range(1, width / dd);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      ref1 = range(1, height / dd);
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        j = ref1[l];
        star = [dd * i + int(random(-d, d)), dd * j + int(random(-d, d))];
        stars.push(star);
      }
    }
  }
  level += dlevel;
  x = 0;
  y = height / 2;
  bg(0.5);
  sc(0);
  for (m = 0, len2 = stars.length; m < len2; m++) {
    star = stars[m];
    x1 = star[0], y1 = star[1];
    circle(x1, y1, level);
  }
  return rect(width - 3, 0.4 * height, 2, 0.2 * height);
};

draw = function() {
  var k, len, star, x1, y1;
  x++;
  if (keyIsDown(32)) {
    y = y + 1;
  } else {
    y = y - 1;
  }
  sc(1);
  point(x, y);
  if (x > width && (0.4 * height < y && y < 0.6 * height)) {
    return startNewGame(1);
  }
  if (y < 0 || y > height || x > width) {
    return startNewGame(0);
  }
  for (k = 0, len = stars.length; k < len; k++) {
    star = stars[k];
    x1 = star[0], y1 = star[1];
    if (dist(x, y, x1, y1) < level) {
      return startNewGame(0);
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsS0FBQSxHQUFROztBQUNSLEtBQUEsR0FBUTs7QUFDUixFQUFBLEdBQUs7O0FBQ0wsQ0FBQSxHQUFJOztBQUNKLENBQUEsR0FBSTs7QUFFSixLQUFBLEdBQVEsU0FBQTtFQUNQLFlBQUEsQ0FBYSxXQUFiLEVBQXlCLFlBQXpCO1NBQ0EsWUFBQSxDQUFhLENBQWI7QUFGTzs7QUFJUixZQUFBLEdBQWUsU0FBQyxNQUFEO0FBQ2QsTUFBQTtFQUFBLElBQUcsTUFBQSxLQUFVLENBQWI7SUFDQyxLQUFBLEdBQVE7SUFDUixDQUFBLEdBQUksRUFBQSxHQUFHO0FBQ1A7QUFBQSxTQUFBLHFDQUFBOztBQUNDO0FBQUEsV0FBQSx3Q0FBQTs7UUFDQyxJQUFBLEdBQU8sQ0FBQyxFQUFBLEdBQUcsQ0FBSCxHQUFLLEdBQUEsQ0FBSSxNQUFBLENBQU8sQ0FBQyxDQUFSLEVBQVUsQ0FBVixDQUFKLENBQU4sRUFBd0IsRUFBQSxHQUFHLENBQUgsR0FBSyxHQUFBLENBQUksTUFBQSxDQUFPLENBQUMsQ0FBUixFQUFVLENBQVYsQ0FBSixDQUE3QjtRQUNQLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBWDtBQUZEO0FBREQsS0FIRDs7RUFPQSxLQUFBLElBQVM7RUFDVCxDQUFBLEdBQUk7RUFDSixDQUFBLEdBQUksTUFBQSxHQUFPO0VBQ1gsRUFBQSxDQUFHLEdBQUg7RUFDQSxFQUFBLENBQUcsQ0FBSDtBQUNBLE9BQUEseUNBQUE7O0lBQ0UsWUFBRCxFQUFJO0lBQ0osTUFBQSxDQUFPLEVBQVAsRUFBVSxFQUFWLEVBQWEsS0FBYjtBQUZEO1NBR0EsSUFBQSxDQUFLLEtBQUEsR0FBTSxDQUFYLEVBQWMsR0FBQSxHQUFJLE1BQWxCLEVBQTBCLENBQTFCLEVBQTZCLEdBQUEsR0FBSSxNQUFqQztBQWhCYzs7QUFrQmYsSUFBQSxHQUFPLFNBQUE7QUFDTixNQUFBO0VBQUEsQ0FBQTtFQUNBLElBQUcsU0FBQSxDQUFVLEVBQVYsQ0FBSDtJQUNDLENBQUEsR0FBSSxDQUFBLEdBQUUsRUFEUDtHQUFBLE1BQUE7SUFHQyxDQUFBLEdBQUksQ0FBQSxHQUFFLEVBSFA7O0VBSUEsRUFBQSxDQUFHLENBQUg7RUFDQSxLQUFBLENBQU0sQ0FBTixFQUFRLENBQVI7RUFDQSxJQUFHLENBQUEsR0FBSSxLQUFKLElBQWMsQ0FBQSxHQUFBLEdBQUksTUFBSixHQUFhLENBQWIsSUFBYSxDQUFiLEdBQWlCLEdBQUEsR0FBSSxNQUFyQixDQUFqQjtBQUNDLFdBQU8sWUFBQSxDQUFhLENBQWIsRUFEUjs7RUFFQSxJQUFHLENBQUEsR0FBRSxDQUFGLElBQU8sQ0FBQSxHQUFFLE1BQVQsSUFBbUIsQ0FBQSxHQUFFLEtBQXhCO0FBQ0MsV0FBTyxZQUFBLENBQWEsQ0FBYixFQURSOztBQUVBLE9BQUEsdUNBQUE7O0lBQ0UsWUFBRCxFQUFJO0lBQ0osSUFBRyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxFQUFULEVBQVksRUFBWixDQUFBLEdBQWtCLEtBQXJCO0FBQ0MsYUFBTyxZQUFBLENBQWEsQ0FBYixFQURSOztBQUZEO0FBWk0iLCJzb3VyY2VzQ29udGVudCI6WyJzdGFycyA9IFtdXHJcbmxldmVsID0gMFxyXG5kZCA9IDUwXHJcbnggPSAwXHJcbnkgPSAwXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLHdpbmRvd0hlaWdodFxyXG5cdHN0YXJ0TmV3R2FtZSAxXHJcblxyXG5zdGFydE5ld0dhbWUgPSAoZGxldmVsKSAtPlxyXG5cdGlmIGRsZXZlbCA9PSAxXHJcblx0XHRzdGFycyA9IFtdXHJcblx0XHRkID0gZGQvMlxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgMSx3aWR0aC9kZFxyXG5cdFx0XHRmb3IgaiBpbiByYW5nZSAxLGhlaWdodC9kZFxyXG5cdFx0XHRcdHN0YXIgPSBbZGQqaStpbnQocmFuZG9tIC1kLGQpLCBkZCpqK2ludChyYW5kb20gLWQsZCldXHJcblx0XHRcdFx0c3RhcnMucHVzaCBzdGFyXHJcblx0bGV2ZWwgKz0gZGxldmVsXHJcblx0eCA9IDBcclxuXHR5ID0gaGVpZ2h0LzJcclxuXHRiZyAwLjVcclxuXHRzYyAwXHJcblx0Zm9yIHN0YXIgaW4gc3RhcnNcclxuXHRcdFt4MSx5MV0gPSBzdGFyXHJcblx0XHRjaXJjbGUgeDEseTEsbGV2ZWxcclxuXHRyZWN0IHdpZHRoLTMsIDAuNCpoZWlnaHQsIDIsIDAuMipoZWlnaHRcclxuXHJcbmRyYXcgPSAtPlxyXG5cdHgrK1xyXG5cdGlmIGtleUlzRG93biAzMlxyXG5cdFx0eSA9IHkrMVxyXG5cdGVsc2VcclxuXHRcdHkgPSB5LTFcclxuXHRzYyAxXHJcblx0cG9pbnQgeCx5XHJcblx0aWYgeCA+IHdpZHRoIGFuZCAwLjQqaGVpZ2h0IDwgeSA8IDAuNipoZWlnaHRcclxuXHRcdHJldHVybiBzdGFydE5ld0dhbWUgMVxyXG5cdGlmIHk8MCBvciB5PmhlaWdodCBvciB4PndpZHRoXHJcblx0XHRyZXR1cm4gc3RhcnROZXdHYW1lIDBcclxuXHRmb3Igc3RhciBpbiBzdGFyc1xyXG5cdFx0W3gxLHkxXSA9IHN0YXJcclxuXHRcdGlmIGRpc3QoeCx5LHgxLHkxKSA8IGxldmVsXHJcblx0XHRcdHJldHVybiBzdGFydE5ld0dhbWUgMCJdfQ==
//# sourceURL=C:\Lab\2017\057-Star Dodge\coffee\sketch.coffee