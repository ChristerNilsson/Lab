// Generated by CoffeeScript 1.12.7
var BRICKS, Button, HEIGHT, PassButton, RADIE, SIZE, XOFF, YOFF, buttons, message, mousePressed, moves, player, selectedButton, setup, source, target, xdraw,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

XOFF = 220;

YOFF = 380;

SIZE = 600;

RADIE = 130;

HEIGHT = 15;

BRICKS = 3;

buttons = [];

player = 0;

moves = 1;

selectedButton = -1;

source = [BRICKS, BRICKS];

target = [0, 0];

message = '';

Button = (function() {
  function Button(nr1) {
    var i, j;
    this.nr = nr1;
    i = this.nr % 5;
    j = int(this.nr / 5);
    this.x = RADIE * (i - 0.5 * j);
    this.y = RADIE * 0.88 * j;
    this.bricks = [];
    this.selected = 0;
  }

  Button.prototype.draw = function() {
    var brick, i, k, len, n, ref, ref1, results;
    if ((ref = this.nr) === 3 || ref === 9 || ref === 15 || ref === 21) {
      return;
    }
    fc(0.25);
    sc(0);
    sw(1);
    if (player === 0 && this.nr === 20 || player === 1 && this.nr === 4) {
      sw(2);
      sc(1);
    }
    circle(this.x, this.y, 0.5 * RADIE);
    sw(1);
    n = this.bricks.length;
    sc(0);
    ref1 = this.bricks;
    results = [];
    for (i = k = 0, len = ref1.length; k < len; i = ++k) {
      brick = ref1[i];
      if (this.selected >= n - i) {
        fc(0, 1, 0);
      } else {
        fc(1, brick, 0);
      }
      results.push(circle(this.x, this.y - i * HEIGHT, 0.25 * RADIE));
    }
    return results;
  };

  Button.prototype.legalMoves = function() {
    if (player === 0) {
      if (selectedButton === 0 || selectedButton === 1 || selectedButton === 2) {
        return [4];
      }
      if (selectedButton === 20) {
        return [22, 23, 24];
      }
      return [selectedButton - 5, selectedButton - 6];
    } else {
      if (selectedButton === 22 || selectedButton === 23 || selectedButton === 24) {
        return [20];
      }
      if (selectedButton === 4) {
        return [0, 1, 2];
      }
      return [selectedButton + 5, selectedButton + 6];
    }
  };

  Button.prototype.moveBricks = function() {
    var brick, i, k, len, ref, ref1;
    if (buttons[this.nr].bricks.length > 0 && moves === 1) {
      return;
    }
    if (buttons[this.nr].bricks.length > 0 && moves === 2) {
      moves = 1;
    }
    ref = range(buttons[selectedButton].selected);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      brick = buttons[selectedButton].bricks.pop();
      if ((ref1 = this.nr) === 4 || ref1 === 20) {
        target[player] += 1;
        if (target[player] === BRICKS) {
          message = ['Red', 'Yellow'][player] + ' won!';
        }
      } else {
        this.bricks.push(brick);
      }
    }
    if (source[player] > 0 && (selectedButton === 4 || selectedButton === 20)) {
      buttons[selectedButton].bricks.push(player);
      source[player] -= 1;
    }
    buttons[selectedButton].selected = 0;
    selectedButton = -1;
    moves -= 1;
    if (moves === 0) {
      player = 1 - player;
      moves = 2;
    }
    return xdraw();
  };

  Button.prototype.mousePressed = function(mx, my) {
    var brick, n, ref, x, y;
    x = this.x + XOFF;
    y = (this.y + YOFF) / 2;
    if (dist(x, y, mx, my) > 0.5 * RADIE) {
      return;
    }
    if (selectedButton >= 0 && selectedButton !== this.nr) {
      if (ref = this.nr, indexOf.call(this.legalMoves(), ref) >= 0) {
        this.moveBricks();
      }
      return;
    }
    if (selectedButton >= 0 && selectedButton !== this.nr) {
      buttons[selectedButton].selected = 0;
    }
    n = this.bricks.length - 1;
    brick = this.bricks[n - this.selected];
    if (brick === player) {
      this.selected += 1;
      selectedButton = this.nr;
    } else {
      this.selected = 0;
      selectedButton = -1;
    }
    return xdraw();
  };

  return Button;

})();

PassButton = (function(superClass) {
  extend(PassButton, superClass);

  function PassButton() {
    return PassButton.__super__.constructor.apply(this, arguments);
  }

  PassButton.prototype.mousePressed = function(mx, my) {
    var x, y;
    x = this.x + XOFF;
    y = (this.y + YOFF) / 2;
    if (dist(x, y, mx, my) > 0.5 * RADIE) {
      return;
    }
    player = 1 - player;
    return xdraw();
  };

  PassButton.prototype.draw = function() {
    PassButton.__super__.draw.apply(this, arguments);
    fc(0.5);
    textSize(32);
    return text(this.nr, this.x, this.y);
  };

  return PassButton;

})(Button);

setup = function() {
  var button, k, len, nr, ref;
  createCanvas(SIZE + 100, SIZE);
  ref = range(25);
  for (k = 0, len = ref.length; k < len; k++) {
    nr = ref[k];
    buttons.push(new Button(nr));
  }
  buttons[4].x = buttons[1].x;
  buttons[4].y = buttons[1].y - 2 * RADIE;
  buttons[4].bricks = [1];
  source[1] -= 1;
  buttons[20].x = buttons[23].x;
  buttons[20].y = buttons[23].y + 2 * RADIE;
  buttons[20].bricks = [0];
  source[0] -= 1;
  button = new PassButton('Pass');
  buttons.push(button);
  button.x = buttons[10].x;
  button.y = buttons[4].y;
  textSize(32);
  textAlign(CENTER, CENTER);
  rectMode(CENTER);
  return xdraw();
};

xdraw = function() {
  var button, k, len;
  bg(0.5);
  push();
  scale(1, 0.5);
  translate(XOFF, YOFF);
  for (k = 0, len = buttons.length; k < len; k++) {
    button = buttons[k];
    button.draw();
  }
  pop();
  textSize(50);
  return text(message, width / 2, height / 2);
};

mousePressed = function() {
  var button, k, len, results;
  results = [];
  for (k = 0, len = buttons.length; k < len; k++) {
    button = buttons[k];
    results.push(button.mousePressed(mouseX, mouseY));
  }
  return results;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLElBQUEsd0pBQUE7RUFBQTs7OztBQUFBLElBQUEsR0FBTzs7QUFDUCxJQUFBLEdBQU87O0FBRVAsSUFBQSxHQUFPOztBQUNQLEtBQUEsR0FBUTs7QUFDUixNQUFBLEdBQVM7O0FBQ1QsTUFBQSxHQUFTOztBQUNULE9BQUEsR0FBVTs7QUFFVixNQUFBLEdBQVM7O0FBQ1QsS0FBQSxHQUFROztBQUVSLGNBQUEsR0FBaUIsQ0FBQzs7QUFDbEIsTUFBQSxHQUFTLENBQUMsTUFBRCxFQUFRLE1BQVI7O0FBQ1QsTUFBQSxHQUFTLENBQUMsQ0FBRCxFQUFHLENBQUg7O0FBQ1QsT0FBQSxHQUFVOztBQUVKO0VBQ1MsZ0JBQUMsR0FBRDtBQUNiLFFBQUE7SUFEYyxJQUFDLENBQUEsS0FBRDtJQUNkLENBQUEsR0FBSSxJQUFDLENBQUEsRUFBRCxHQUFNO0lBQ1YsQ0FBQSxHQUFJLEdBQUEsQ0FBSSxJQUFDLENBQUEsRUFBRCxHQUFNLENBQVY7SUFDSixJQUFDLENBQUEsQ0FBRCxHQUFLLEtBQUEsR0FBUSxDQUFDLENBQUEsR0FBSSxHQUFBLEdBQUksQ0FBVDtJQUNiLElBQUMsQ0FBQSxDQUFELEdBQUssS0FBQSxHQUFRLElBQVIsR0FBYTtJQUNsQixJQUFDLENBQUEsTUFBRCxHQUFVO0lBQ1YsSUFBQyxDQUFBLFFBQUQsR0FBWTtFQU5DOzttQkFRZCxJQUFBLEdBQU8sU0FBQTtBQUNOLFFBQUE7SUFBQSxXQUFHLElBQUMsQ0FBQSxHQUFELEtBQVEsQ0FBUixJQUFBLEdBQUEsS0FBVSxDQUFWLElBQUEsR0FBQSxLQUFZLEVBQVosSUFBQSxHQUFBLEtBQWUsRUFBbEI7QUFBMkIsYUFBM0I7O0lBQ0EsRUFBQSxDQUFHLElBQUg7SUFFQSxFQUFBLENBQUcsQ0FBSDtJQUNBLEVBQUEsQ0FBRyxDQUFIO0lBQ0EsSUFB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O0FBQ2QsTUFBQTtBQUFBO09BQUEseUNBQUE7O2lCQUNDLE1BQU0sQ0FBQyxZQUFQLENBQW9CLE1BQXBCLEVBQTJCLE1BQTNCO0FBREQ7O0FBRGMiLCJzb3VyY2VzQ29udGVudCI6WyIjIGJpdC5seS9zdGFja3NydWxlc1xyXG4jIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9REZnOUEzVEMxRU0mZmVhdHVyZT15b3V0dS5iZVxyXG4jIGJpdC5seS9zdGFja3Nib2FyZFxyXG5cclxuWE9GRiA9IDIyMFxyXG5ZT0ZGID0gMzgwXHJcblxyXG5TSVpFID0gNjAwXHJcblJBRElFID0gMTMwXHJcbkhFSUdIVCA9IDE1XHJcbkJSSUNLUyA9IDNcclxuYnV0dG9ucyA9IFtdXHJcblxyXG5wbGF5ZXIgPSAwXHJcbm1vdmVzID0gMVxyXG5cclxuc2VsZWN0ZWRCdXR0b24gPSAtMVxyXG5zb3VyY2UgPSBbQlJJQ0tTLEJSSUNLU11cclxudGFyZ2V0ID0gWzAsMF1cclxubWVzc2FnZSA9ICcnXHJcblxyXG5jbGFzcyBCdXR0b24gXHJcblx0Y29uc3RydWN0b3IgOiAoQG5yKSAtPlxyXG5cdFx0aSA9IEBuciAlIDVcclxuXHRcdGogPSBpbnQgQG5yIC8gNVxyXG5cdFx0QHggPSBSQURJRSAqIChpIC0gMC41KmopIFxyXG5cdFx0QHkgPSBSQURJRSAqIDAuODgqalxyXG5cdFx0QGJyaWNrcyA9IFtdXHJcblx0XHRAc2VsZWN0ZWQgPSAwXHJcblxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0aWYgQG5yIGluIFszLDksMTUsMjFdIHRoZW4gcmV0dXJuIFxyXG5cdFx0ZmMgMC4yNVxyXG5cclxuXHRcdHNjIDBcclxuXHRcdHN3IDFcclxuXHRcdGlmIHBsYXllcj09MCBhbmQgQG5yPT0yMCBvciBwbGF5ZXI9PTEgYW5kIEBucj09NCBcclxuXHRcdFx0c3cgMlxyXG5cdFx0XHRzYyAxXHJcblx0XHRjaXJjbGUgQHgsIEB5LCAwLjUgKiBSQURJRVxyXG5cdFx0c3cgMVxyXG5cclxuXHRcdG4gPSBAYnJpY2tzLmxlbmd0aFxyXG5cdFx0I3RleHQgQG5yLEB4LEB5XHJcblx0XHRzYyAwXHJcblx0XHRmb3IgYnJpY2ssaSBpbiBAYnJpY2tzXHJcblx0XHRcdGlmIEBzZWxlY3RlZCA+PSBuLWkgdGhlbiBmYyAwLDEsMFx0ZWxzZSBmYyAxLGJyaWNrLDBcclxuXHRcdFx0Y2lyY2xlIEB4LCBAeS1pKkhFSUdIVCwgMC4yNSAqIFJBRElFIFxyXG5cclxuXHRsZWdhbE1vdmVzIDogLT5cclxuXHRcdGlmIHBsYXllciA9PSAwXHJcblx0XHRcdGlmIHNlbGVjdGVkQnV0dG9uIGluIFswLDEsMl0gdGhlbiByZXR1cm4gWzRdIFxyXG5cdFx0XHRpZiBzZWxlY3RlZEJ1dHRvbiA9PSAyMCB0aGVuIHJldHVybiBbMjIsMjMsMjRdIFxyXG5cdFx0XHRyZXR1cm4gW3NlbGVjdGVkQnV0dG9uLTUsc2VsZWN0ZWRCdXR0b24tNl0gXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIHNlbGVjdGVkQnV0dG9uIGluIFsyMiwyMywyNF0gdGhlbiByZXR1cm4gWzIwXSBcclxuXHRcdFx0aWYgc2VsZWN0ZWRCdXR0b24gPT0gNCB0aGVuIHJldHVybiBbMCwxLDJdIFxyXG5cdFx0XHRyZXR1cm4gW3NlbGVjdGVkQnV0dG9uKzUsc2VsZWN0ZWRCdXR0b24rNl0gXHJcblxyXG5cdG1vdmVCcmlja3MgOiAtPiAjIGZyb20gc2VsZWN0ZWRCdXR0b24gdG8gQG5yXHJcblx0XHRpZiBidXR0b25zW0Bucl0uYnJpY2tzLmxlbmd0aCA+IDAgYW5kIG1vdmVzID09IDEgdGhlblx0cmV0dXJuICMgbXVzdCBhdHRhY2sgaW4gZmlyc3QgbW92ZSBcclxuXHRcdGlmIGJ1dHRvbnNbQG5yXS5icmlja3MubGVuZ3RoID4gMCBhbmQgbW92ZXMgPT0gMiB0aGVuXHRtb3ZlcyA9IDFcclxuXHJcblx0XHRmb3IgaSBpbiByYW5nZSBidXR0b25zW3NlbGVjdGVkQnV0dG9uXS5zZWxlY3RlZFxyXG5cdFx0XHRicmljayA9IGJ1dHRvbnNbc2VsZWN0ZWRCdXR0b25dLmJyaWNrcy5wb3AoKVxyXG5cdFx0XHRpZiBAbnIgaW4gWzQsMjBdXHJcblx0XHRcdFx0dGFyZ2V0W3BsYXllcl0gKz0gMVxyXG5cdFx0XHRcdGlmIHRhcmdldFtwbGF5ZXJdID09IEJSSUNLU1xyXG5cdFx0XHRcdFx0bWVzc2FnZSA9IFsnUmVkJywnWWVsbG93J11bcGxheWVyXSArICcgd29uISdcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdEBicmlja3MucHVzaCBicmljayBcclxuXHJcblx0XHRpZiBzb3VyY2VbcGxheWVyXSA+IDAgYW5kIHNlbGVjdGVkQnV0dG9uIGluIFs0LDIwXVxyXG5cdFx0XHRidXR0b25zW3NlbGVjdGVkQnV0dG9uXS5icmlja3MucHVzaCBwbGF5ZXJcclxuXHRcdFx0c291cmNlW3BsYXllcl0gLT0gMVxyXG5cclxuXHRcdGJ1dHRvbnNbc2VsZWN0ZWRCdXR0b25dLnNlbGVjdGVkID0gMFxyXG5cdFx0c2VsZWN0ZWRCdXR0b24gPSAtMVxyXG5cclxuXHRcdG1vdmVzIC09IDEgXHJcblx0XHRpZiBtb3ZlcyA9PSAwXHJcblx0XHRcdHBsYXllciA9IDEgLSBwbGF5ZXJcclxuXHRcdFx0bW92ZXMgPSAyXHJcblx0XHR4ZHJhdygpXHJcblx0XHRcdFxyXG5cdG1vdXNlUHJlc3NlZCA6IChteCxteSkgLT5cclxuXHRcdHggPSBAeCArIFhPRkYgXHJcblx0XHR5ID0gKEB5ICsgWU9GRikvMiBcclxuXHRcdGlmIGRpc3QoeCx5LG14LG15KSA+IDAuNSpSQURJRSB0aGVuIHJldHVyblxyXG5cclxuXHRcdGlmIHNlbGVjdGVkQnV0dG9uPj0wIGFuZCBzZWxlY3RlZEJ1dHRvbiAhPSBAbnIgIyBNYXJrZXJpbmcgYXYgdGlsbHJ1dGFcclxuXHRcdFx0aWYgQG5yIGluIEBsZWdhbE1vdmVzKCkgdGhlbiBAbW92ZUJyaWNrcygpXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlmIHNlbGVjdGVkQnV0dG9uPj0wIGFuZCBzZWxlY3RlZEJ1dHRvbiAhPSBAbnJcclxuXHRcdFx0YnV0dG9uc1tzZWxlY3RlZEJ1dHRvbl0uc2VsZWN0ZWQgPSAwXHJcblx0XHRuID0gQGJyaWNrcy5sZW5ndGgtMVxyXG5cdFx0YnJpY2sgPSBAYnJpY2tzW24tQHNlbGVjdGVkXVxyXG5cdFx0aWYgYnJpY2sgPT0gcGxheWVyIFxyXG5cdFx0XHRAc2VsZWN0ZWQgKz0gMVxyXG5cdFx0XHRzZWxlY3RlZEJ1dHRvbiA9IEBuclxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRAc2VsZWN0ZWQgPSAwXHJcblx0XHRcdHNlbGVjdGVkQnV0dG9uID0gLTFcclxuXHRcdHhkcmF3KClcclxuXHJcbmNsYXNzIFBhc3NCdXR0b24gZXh0ZW5kcyBCdXR0b25cclxuXHRtb3VzZVByZXNzZWQgOiAobXgsbXkpIC0+XHJcblx0XHR4ID0gQHggKyBYT0ZGIFxyXG5cdFx0eSA9IChAeSArIFlPRkYpLzIgXHJcblx0XHRpZiBkaXN0KHgseSxteCxteSkgPiAwLjUqUkFESUUgdGhlbiByZXR1cm5cclxuXHRcdHBsYXllciA9IDEgLSBwbGF5ZXJcclxuXHRcdHhkcmF3KClcclxuXHRkcmF3IDogLT5cclxuXHRcdHN1cGVyXHJcblx0XHRmYyAwLjVcclxuXHRcdHRleHRTaXplIDMyXHJcblx0XHR0ZXh0IEBucixAeCxAeVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyBTSVpFKzEwMCxTSVpFXHJcblx0Zm9yIG5yIGluIHJhbmdlIDI1XHJcblx0XHRidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiBuclxyXG5cclxuXHRidXR0b25zWzRdLnggPSBidXR0b25zWzFdLnhcclxuXHRidXR0b25zWzRdLnkgPSBidXR0b25zWzFdLnkgLSAyKlJBRElFXHJcblx0YnV0dG9uc1s0XS5icmlja3MgPSBbMV1cclxuXHRzb3VyY2VbMV0gLT0gMVxyXG5cclxuXHRidXR0b25zWzIwXS54ID0gYnV0dG9uc1syM10ueFxyXG5cdGJ1dHRvbnNbMjBdLnkgPSBidXR0b25zWzIzXS55ICsgMipSQURJRVxyXG5cdGJ1dHRvbnNbMjBdLmJyaWNrcyA9IFswXVxyXG5cdHNvdXJjZVswXSAtPSAxXHJcblxyXG5cdGJ1dHRvbiA9IG5ldyBQYXNzQnV0dG9uICdQYXNzJ1xyXG5cdGJ1dHRvbnMucHVzaCBidXR0b25cclxuXHRidXR0b24ueCA9IGJ1dHRvbnNbMTBdLnhcclxuXHRidXR0b24ueSA9IGJ1dHRvbnNbNF0ueSBcclxuXHJcblx0dGV4dFNpemUgMzJcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHJlY3RNb2RlIENFTlRFUlxyXG5cdHhkcmF3KClcclxuXHJcbnhkcmF3ID0gLT5cclxuXHRiZyAwLjVcclxuXHRwdXNoKClcclxuXHRzY2FsZSAxLDAuNVxyXG5cdHRyYW5zbGF0ZSBYT0ZGLFlPRkZcclxuXHRmb3IgYnV0dG9uIGluIGJ1dHRvbnNcclxuXHRcdGJ1dHRvbi5kcmF3KClcclxuXHRwb3AoKVxyXG5cdHRleHRTaXplIDUwXHJcblx0dGV4dCBtZXNzYWdlLHdpZHRoLzIsaGVpZ2h0LzJcclxuXHJcbm1vdXNlUHJlc3NlZCA9IC0+XHJcblx0Zm9yIGJ1dHRvbiBpbiBidXR0b25zXHJcblx0XHRidXR0b24ubW91c2VQcmVzc2VkIG1vdXNlWCxtb3VzZVkiXX0=
//# sourceURL=C:\Lab\2017\112-Stacks\coffee\sketch.coffee