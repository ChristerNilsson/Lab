// Generated by CoffeeScript 1.11.1
var Bodies, Engine, Events, World, cols, draw, engine, newParticle, rows, setup, things, world;

Engine = Matter.Engine;

World = Matter.World;

Events = Matter.Events;

Bodies = Matter.Bodies;

engine = null;

world = null;

things = [];

cols = 22;

rows = 10;

setup = function() {
  var i, j, k, l, len, len1, len2, m, ref, ref1, ref2, results, spacing, x, y;
  createCanvas(1200, 800);
  fill(255);
  noStroke();
  rectMode(CENTER);
  engine = Engine.create();
  world = engine.world;
  world.gravity.y = 0.1;
  newParticle();
  spacing = width / cols;
  ref = range(rows);
  for (k = 0, len = ref.length; k < len; k++) {
    j = ref[k];
    ref1 = range(cols + 1);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      x = i * spacing;
      if (j % 2 === 1) {
        x += spacing / 2;
      }
      y = spacing + j * spacing;
      things.push(new Plinko(x, y, 2));
    }
  }
  things.push(new Boundary(width / 2, height + 50, width, 100));
  things.push(new Boundary(0, height / 2, 5, height));
  things.push(new Boundary(width, height / 2, 5, height));
  ref2 = range(2 * cols + 1);
  results = [];
  for (m = 0, len2 = ref2.length; m < len2; m++) {
    i = ref2[m];
    results.push(things.push(new Boundary(i * spacing / 2, height - 100 / 2, 2, 100)));
  }
  return results;
};

newParticle = function() {
  return things.push(new Particle(width / 2, 0, 5));
};

draw = function() {
  var k, len, results, thing;
  background(0);
  if (frameCount % 20 === 0) {
    newParticle();
  }
  Engine.update(engine, 1000 / 30);
  results = [];
  for (k = 0, len = things.length; k < len; k++) {
    thing = things[k];
    results.push(thing.show());
  }
  return results;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxNQUFBLEdBQVMsTUFBTSxDQUFDOztBQUNoQixLQUFBLEdBQVEsTUFBTSxDQUFDOztBQUNmLE1BQUEsR0FBUyxNQUFNLENBQUM7O0FBQ2hCLE1BQUEsR0FBUyxNQUFNLENBQUM7O0FBRWhCLE1BQUEsR0FBUzs7QUFDVCxLQUFBLEdBQVE7O0FBQ1IsTUFBQSxHQUFTOztBQUNULElBQUEsR0FBTzs7QUFDUCxJQUFBLEdBQU87O0FBRVAsS0FBQSxHQUFRLFNBQUE7QUFDTixNQUFBO0VBQUEsWUFBQSxDQUFhLElBQWIsRUFBbUIsR0FBbkI7RUFDQSxJQUFBLENBQUssR0FBTDtFQUNBLFFBQUEsQ0FBQTtFQUNBLFFBQUEsQ0FBUyxNQUFUO0VBQ0EsTUFBQSxHQUFTLE1BQU0sQ0FBQyxNQUFQLENBQUE7RUFDVCxLQUFBLEdBQVEsTUFBTSxDQUFDO0VBQ2YsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFkLEdBQWtCO0VBQ2xCLFdBQUEsQ0FBQTtFQUNBLE9BQUEsR0FBVSxLQUFBLEdBQVE7QUFDbEI7QUFBQSxPQUFBLHFDQUFBOztBQUNFO0FBQUEsU0FBQSx3Q0FBQTs7TUFDRSxDQUFBLEdBQUksQ0FBQSxHQUFJO01BQ1IsSUFBRyxDQUFBLEdBQUksQ0FBSixLQUFTLENBQVo7UUFBbUIsQ0FBQSxJQUFLLE9BQUEsR0FBVSxFQUFsQzs7TUFDQSxDQUFBLEdBQUksT0FBQSxHQUFVLENBQUEsR0FBSTtNQUNsQixNQUFNLENBQUMsSUFBUCxDQUFnQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsQ0FBaEI7QUFKRjtBQURGO0VBT0EsTUFBTSxDQUFDLElBQVAsQ0FBZ0IsSUFBQSxRQUFBLENBQVMsS0FBQSxHQUFRLENBQWpCLEVBQW9CLE1BQUEsR0FBUyxFQUE3QixFQUFpQyxLQUFqQyxFQUF3QyxHQUF4QyxDQUFoQjtFQUNBLE1BQU0sQ0FBQyxJQUFQLENBQWdCLElBQUEsUUFBQSxDQUFTLENBQVQsRUFBWSxNQUFBLEdBQU8sQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsTUFBekIsQ0FBaEI7RUFDQSxNQUFNLENBQUMsSUFBUCxDQUFnQixJQUFBLFFBQUEsQ0FBUyxLQUFULEVBQWdCLE1BQUEsR0FBTyxDQUF2QixFQUEwQixDQUExQixFQUE2QixNQUE3QixDQUFoQjtBQUVBO0FBQUE7T0FBQSx3Q0FBQTs7aUJBQ0UsTUFBTSxDQUFDLElBQVAsQ0FBZ0IsSUFBQSxRQUFBLENBQVMsQ0FBQSxHQUFJLE9BQUosR0FBWSxDQUFyQixFQUF3QixNQUFBLEdBQVMsR0FBQSxHQUFNLENBQXZDLEVBQTBDLENBQTFDLEVBQTZDLEdBQTdDLENBQWhCO0FBREY7O0FBckJNOztBQXdCUixXQUFBLEdBQWMsU0FBQTtTQUFHLE1BQU0sQ0FBQyxJQUFQLENBQWdCLElBQUEsUUFBQSxDQUFTLEtBQUEsR0FBTSxDQUFmLEVBQWtCLENBQWxCLEVBQXFCLENBQXJCLENBQWhCO0FBQUg7O0FBRWQsSUFBQSxHQUFPLFNBQUE7QUFDTCxNQUFBO0VBQUEsVUFBQSxDQUFXLENBQVg7RUFDQSxJQUFHLFVBQUEsR0FBYSxFQUFiLEtBQW1CLENBQXRCO0lBQTZCLFdBQUEsQ0FBQSxFQUE3Qjs7RUFDQSxNQUFNLENBQUMsTUFBUCxDQUFjLE1BQWQsRUFBc0IsSUFBQSxHQUFPLEVBQTdCO0FBQ0E7T0FBQSx3Q0FBQTs7aUJBQUEsS0FBSyxDQUFDLElBQU4sQ0FBQTtBQUFBOztBQUpLIiwic291cmNlc0NvbnRlbnQiOlsiRW5naW5lID0gTWF0dGVyLkVuZ2luZVxyXG5Xb3JsZCA9IE1hdHRlci5Xb3JsZFxyXG5FdmVudHMgPSBNYXR0ZXIuRXZlbnRzXHJcbkJvZGllcyA9IE1hdHRlci5Cb2RpZXNcclxuXHJcbmVuZ2luZSA9IG51bGxcclxud29ybGQgPSBudWxsXHJcbnRoaW5ncyA9IFtdXHJcbmNvbHMgPSAyMlxyXG5yb3dzID0gMTBcclxuXHJcbnNldHVwID0gLT5cclxuICBjcmVhdGVDYW52YXMgMTIwMCwgODAwXHJcbiAgZmlsbCAyNTVcclxuICBub1N0cm9rZSgpXHJcbiAgcmVjdE1vZGUgQ0VOVEVSXHJcbiAgZW5naW5lID0gRW5naW5lLmNyZWF0ZSgpXHJcbiAgd29ybGQgPSBlbmdpbmUud29ybGRcclxuICB3b3JsZC5ncmF2aXR5LnkgPSAwLjE7XHJcbiAgbmV3UGFydGljbGUoKTtcclxuICBzcGFjaW5nID0gd2lkdGggLyBjb2xzXHJcbiAgZm9yIGogaW4gcmFuZ2Ugcm93c1xyXG4gICAgZm9yIGkgaW4gcmFuZ2UgY29scysxXHJcbiAgICAgIHggPSBpICogc3BhY2luZ1xyXG4gICAgICBpZiBqICUgMiA9PSAxIHRoZW4geCArPSBzcGFjaW5nIC8gMlxyXG4gICAgICB5ID0gc3BhY2luZyArIGogKiBzcGFjaW5nXHJcbiAgICAgIHRoaW5ncy5wdXNoIG5ldyBQbGlua28geCwgeSwgMlxyXG5cclxuICB0aGluZ3MucHVzaCBuZXcgQm91bmRhcnkgd2lkdGggLyAyLCBoZWlnaHQgKyA1MCwgd2lkdGgsIDEwMFxyXG4gIHRoaW5ncy5wdXNoIG5ldyBCb3VuZGFyeSAwLCBoZWlnaHQvMiwgNSwgaGVpZ2h0XHJcbiAgdGhpbmdzLnB1c2ggbmV3IEJvdW5kYXJ5IHdpZHRoLCBoZWlnaHQvMiwgNSwgaGVpZ2h0XHJcblxyXG4gIGZvciBpIGluIHJhbmdlIDIqY29scysxXHJcbiAgICB0aGluZ3MucHVzaCBuZXcgQm91bmRhcnkgaSAqIHNwYWNpbmcvMiwgaGVpZ2h0IC0gMTAwIC8gMiwgMiwgMTAwXHJcblxyXG5uZXdQYXJ0aWNsZSA9IC0+IHRoaW5ncy5wdXNoIG5ldyBQYXJ0aWNsZSB3aWR0aC8yLCAwLCA1XHJcblxyXG5kcmF3ID0gLT5cclxuICBiYWNrZ3JvdW5kIDBcclxuICBpZiBmcmFtZUNvdW50ICUgMjAgPT0gMCB0aGVuIG5ld1BhcnRpY2xlKClcclxuICBFbmdpbmUudXBkYXRlIGVuZ2luZSwgMTAwMCAvIDMwXHJcbiAgdGhpbmcuc2hvdygpIGZvciB0aGluZyBpbiB0aGluZ3MiXX0=
//# sourceURL=C:\Lab\2017\028-Plinko\sketch.coffee