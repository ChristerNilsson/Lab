// Generated by CoffeeScript 1.11.1
var Bodies, Engine, Events, World, cols, draw, engine, newBall, rows, setup, things, world;

Engine = Matter.Engine;

World = Matter.World;

Events = Matter.Events;

Bodies = Matter.Bodies;

engine = null;

world = null;

things = [];

cols = 22;

rows = 12;

setup = function() {
  var i, j, k, l, len, len1, len2, m, ref, ref1, ref2, results, spacing, x, y;
  createCanvas(1200, 800);
  rectMode(CENTER);
  engine = Engine.create();
  world = engine.world;
  world.gravity.y = 0.1;
  newBall();
  spacing = width / cols;
  ref = range(rows);
  for (k = 0, len = ref.length; k < len; k++) {
    j = ref[k];
    y = (j + 1) * spacing;
    ref1 = range(cols + 1);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      x = j % 2 === 1 ? (i + 0.5) * spacing : i * spacing;
      things.push(new Nail(x, y, 2));
    }
  }
  things.push(new Boundary(0, height / 2, 10, height));
  things.push(new Boundary(width / 2, height + 50, width, 100));
  things.push(new Boundary(width, height / 2, 10, height));
  ref2 = range(4 * cols + 1);
  results = [];
  for (m = 0, len2 = ref2.length; m < len2; m++) {
    i = ref2[m];
    results.push(things.push(new Boundary(i * spacing / 4, height - 100 / 2, 2, 100)));
  }
  return results;
};

newBall = function() {
  return things.push(new Ball(width / 2, 0, 5));
};

draw = function() {
  var k, len, results, thing;
  background(0);
  if (frameCount % 20 === 0) {
    newBall();
  }
  Engine.update(engine, 1000 / 30);
  results = [];
  for (k = 0, len = things.length; k < len; k++) {
    thing = things[k];
    results.push(thing.show());
  }
  return results;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLElBQUE7O0FBQUEsTUFBQSxHQUFTLE1BQU0sQ0FBQzs7QUFDaEIsS0FBQSxHQUFRLE1BQU0sQ0FBQzs7QUFDZixNQUFBLEdBQVMsTUFBTSxDQUFDOztBQUNoQixNQUFBLEdBQVMsTUFBTSxDQUFDOztBQUVoQixNQUFBLEdBQVM7O0FBQ1QsS0FBQSxHQUFROztBQUNSLE1BQUEsR0FBUzs7QUFDVCxJQUFBLEdBQU87O0FBQ1AsSUFBQSxHQUFPOztBQUVQLEtBQUEsR0FBUSxTQUFBO0FBQ1AsTUFBQTtFQUFBLFlBQUEsQ0FBYSxJQUFiLEVBQW1CLEdBQW5CO0VBQ0EsUUFBQSxDQUFTLE1BQVQ7RUFDQSxNQUFBLEdBQVMsTUFBTSxDQUFDLE1BQVAsQ0FBQTtFQUNULEtBQUEsR0FBUSxNQUFNLENBQUM7RUFDZixLQUFLLENBQUMsT0FBTyxDQUFDLENBQWQsR0FBa0I7RUFDbEIsT0FBQSxDQUFBO0VBQ0EsT0FBQSxHQUFVLEtBQUEsR0FBUTtBQUNsQjtBQUFBLE9BQUEscUNBQUE7O0lBQ0MsQ0FBQSxHQUFJLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBQSxHQUFRO0FBQ1o7QUFBQSxTQUFBLHdDQUFBOztNQUNDLENBQUEsR0FBTyxDQUFBLEdBQUksQ0FBSixLQUFTLENBQVosR0FBbUIsQ0FBQyxDQUFBLEdBQUUsR0FBSCxDQUFBLEdBQVUsT0FBN0IsR0FBMEMsQ0FBQSxHQUFJO01BQ2xELE1BQU0sQ0FBQyxJQUFQLENBQWdCLElBQUEsSUFBQSxDQUFLLENBQUwsRUFBUSxDQUFSLEVBQVcsQ0FBWCxDQUFoQjtBQUZEO0FBRkQ7RUFNQSxNQUFNLENBQUMsSUFBUCxDQUFnQixJQUFBLFFBQUEsQ0FBUyxDQUFULEVBQW9CLE1BQUEsR0FBTyxDQUEzQixFQUFvQyxFQUFwQyxFQUF3QyxNQUF4QyxDQUFoQjtFQUNBLE1BQU0sQ0FBQyxJQUFQLENBQWdCLElBQUEsUUFBQSxDQUFTLEtBQUEsR0FBUSxDQUFqQixFQUFvQixNQUFBLEdBQU8sRUFBM0IsRUFBb0MsS0FBcEMsRUFBMkMsR0FBM0MsQ0FBaEI7RUFDQSxNQUFNLENBQUMsSUFBUCxDQUFnQixJQUFBLFFBQUEsQ0FBUyxLQUFULEVBQW9CLE1BQUEsR0FBTyxDQUEzQixFQUFvQyxFQUFwQyxFQUF3QyxNQUF4QyxDQUFoQjtBQUVBO0FBQUE7T0FBQSx3Q0FBQTs7aUJBQ0MsTUFBTSxDQUFDLElBQVAsQ0FBZ0IsSUFBQSxRQUFBLENBQVMsQ0FBQSxHQUFJLE9BQUosR0FBWSxDQUFyQixFQUF3QixNQUFBLEdBQVMsR0FBQSxHQUFNLENBQXZDLEVBQTBDLENBQTFDLEVBQTZDLEdBQTdDLENBQWhCO0FBREQ7O0FBbEJPOztBQXFCUixPQUFBLEdBQVUsU0FBQTtTQUFHLE1BQU0sQ0FBQyxJQUFQLENBQWdCLElBQUEsSUFBQSxDQUFLLEtBQUEsR0FBTSxDQUFYLEVBQWMsQ0FBZCxFQUFpQixDQUFqQixDQUFoQjtBQUFIOztBQUVWLElBQUEsR0FBTyxTQUFBO0FBQ04sTUFBQTtFQUFBLFVBQUEsQ0FBVyxDQUFYO0VBQ0EsSUFBRyxVQUFBLEdBQWEsRUFBYixLQUFtQixDQUF0QjtJQUE2QixPQUFBLENBQUEsRUFBN0I7O0VBQ0EsTUFBTSxDQUFDLE1BQVAsQ0FBYyxNQUFkLEVBQXNCLElBQUEsR0FBTyxFQUE3QjtBQUNBO09BQUEsd0NBQUE7O2lCQUFBLEtBQUssQ0FBQyxJQUFOLENBQUE7QUFBQTs7QUFKTSIsInNvdXJjZXNDb250ZW50IjpbIiMgUGxpbmtvXHJcblxyXG5FbmdpbmUgPSBNYXR0ZXIuRW5naW5lXHJcbldvcmxkID0gTWF0dGVyLldvcmxkXHJcbkV2ZW50cyA9IE1hdHRlci5FdmVudHNcclxuQm9kaWVzID0gTWF0dGVyLkJvZGllc1xyXG5cclxuZW5naW5lID0gbnVsbFxyXG53b3JsZCA9IG51bGxcclxudGhpbmdzID0gW11cclxuY29scyA9IDIyXHJcbnJvd3MgPSAxMlxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyAxMjAwLCA4MDBcclxuXHRyZWN0TW9kZSBDRU5URVJcclxuXHRlbmdpbmUgPSBFbmdpbmUuY3JlYXRlKClcclxuXHR3b3JsZCA9IGVuZ2luZS53b3JsZFxyXG5cdHdvcmxkLmdyYXZpdHkueSA9IDAuMVxyXG5cdG5ld0JhbGwoKVxyXG5cdHNwYWNpbmcgPSB3aWR0aCAvIGNvbHNcclxuXHRmb3IgaiBpbiByYW5nZSByb3dzXHJcblx0XHR5ID0gKGorMSkgKiBzcGFjaW5nXHJcblx0XHRmb3IgaSBpbiByYW5nZSBjb2xzKzFcclxuXHRcdFx0eCA9IGlmIGogJSAyID09IDEgdGhlbiAoaSswLjUpICogc3BhY2luZyBlbHNlIGkgKiBzcGFjaW5nXHJcblx0XHRcdHRoaW5ncy5wdXNoIG5ldyBOYWlsIHgsIHksIDJcclxuXHJcblx0dGhpbmdzLnB1c2ggbmV3IEJvdW5kYXJ5IDAsICAgICAgICAgaGVpZ2h0LzIsICAgICAgIDEwLCBoZWlnaHRcclxuXHR0aGluZ3MucHVzaCBuZXcgQm91bmRhcnkgd2lkdGggLyAyLCBoZWlnaHQrNTAsICAgICAgd2lkdGgsIDEwMFxyXG5cdHRoaW5ncy5wdXNoIG5ldyBCb3VuZGFyeSB3aWR0aCwgICAgIGhlaWdodC8yLCAgICAgICAxMCwgaGVpZ2h0XHJcblxyXG5cdGZvciBpIGluIHJhbmdlIDQqY29scysxXHJcblx0XHR0aGluZ3MucHVzaCBuZXcgQm91bmRhcnkgaSAqIHNwYWNpbmcvNCwgaGVpZ2h0IC0gMTAwIC8gMiwgMiwgMTAwXHJcblxyXG5uZXdCYWxsID0gLT4gdGhpbmdzLnB1c2ggbmV3IEJhbGwgd2lkdGgvMiwgMCwgNVxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmFja2dyb3VuZCAwXHJcblx0aWYgZnJhbWVDb3VudCAlIDIwID09IDAgdGhlbiBuZXdCYWxsKClcclxuXHRFbmdpbmUudXBkYXRlIGVuZ2luZSwgMTAwMCAvIDMwXHJcblx0dGhpbmcuc2hvdygpIGZvciB0aGluZyBpbiB0aGluZ3MiXX0=
//# sourceURL=C:\Lab\2017\028-Plinko\coffee\sketch.coffee