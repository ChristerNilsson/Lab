// Generated by CoffeeScript 2.0.3
var Snake,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

Snake = class Snake {
  constructor(head = createVector(10, 10), dir = 0, total = 1, tail = []) {
    this.head = head;
    this.dir = dir;
    this.total = total;
    this.tail = tail;
  }

  eat(pos) {
    var d;
    d = dist(this.head.x, this.head.y, pos.x, pos.y);
    if (d === 0) {
      this.total++;
    }
    return d === 0;
  }

  death() {
    var d, i, len, pos, ref, results;
    ref = this.tail;
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      pos = ref[i];
      d = dist(this.head.x, this.head.y, pos.x, pos.y);
      if (d === 0) {
        print('starting over');
        this.total = 1;
        results.push(this.tail = []);
      } else {
        results.push(void 0);
      }
    }
    return results;
  }

  update() {
    this.tail.unshift(this.head);
    if (this.total <= this.tail.length) {
      this.tail.pop();
    }
    return this.head = createVector(modulo(this.head.x + [1, 0, -1, 0][this.dir], n), modulo(this.head.y + [0, 1, 0, -1][this.dir], n));
  }

  show() {
    var i, len, pos, ref, results;
    ref = this.tail.concat(this.head);
    results = [];
    for (i = 0, len = ref.length; i < len; i++) {
      pos = ref[i];
      results.push(kvadrat(pos, color(255)));
    }
    return results;
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic25ha2UuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcc25ha2UuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLEtBQUE7RUFBQTs7QUFBTSxRQUFOLE1BQUEsTUFBQTtFQUNFLFdBQWMsUUFBTyxZQUFBLENBQWEsRUFBYixFQUFnQixFQUFoQixDQUFQLFFBQWlDLENBQWpDLFVBQTJDLENBQTNDLFNBQW9ELEVBQXBELENBQUE7SUFBQyxJQUFDLENBQUE7SUFBMEIsSUFBQyxDQUFBO0lBQU8sSUFBQyxDQUFBO0lBQVMsSUFBQyxDQUFBO0VBQS9DOztFQUVkLEdBQU0sQ0FBQyxHQUFELENBQUE7QUFDSixRQUFBO0lBQUEsQ0FBQSxHQUFJLElBQUEsQ0FBSyxJQUFDLENBQUEsSUFBSSxDQUFDLENBQVgsRUFBYyxJQUFDLENBQUEsSUFBSSxDQUFDLENBQXBCLEVBQXVCLEdBQUcsQ0FBQyxDQUEzQixFQUE4QixHQUFHLENBQUMsQ0FBbEM7SUFDSixJQUFHLENBQUEsS0FBSyxDQUFSO01BQWUsSUFBQyxDQUFBLEtBQUQsR0FBZjs7V0FDQSxDQUFBLEtBQUs7RUFIRDs7RUFLTixLQUFRLENBQUEsQ0FBQTtBQUNOLFFBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBO0FBQUE7SUFBQSxLQUFBLHFDQUFBOztNQUNFLENBQUEsR0FBSSxJQUFBLENBQUssSUFBQyxDQUFBLElBQUksQ0FBQyxDQUFYLEVBQWMsSUFBQyxDQUFBLElBQUksQ0FBQyxDQUFwQixFQUF1QixHQUFHLENBQUMsQ0FBM0IsRUFBOEIsR0FBRyxDQUFDLENBQWxDO01BQ0osSUFBRyxDQUFBLEtBQUssQ0FBUjtRQUNFLEtBQUEsQ0FBTSxlQUFOO1FBQ0EsSUFBQyxDQUFBLEtBQUQsR0FBUztxQkFDVCxJQUFDLENBQUEsSUFBRCxHQUFRLElBSFY7T0FBQSxNQUFBOzZCQUFBOztJQUZGLENBQUE7O0VBRE07O0VBUVIsTUFBUyxDQUFBLENBQUE7SUFDUCxJQUFDLENBQUEsSUFBSSxDQUFDLE9BQU4sQ0FBYyxJQUFDLENBQUEsSUFBZjtJQUNBLElBQUcsSUFBQyxDQUFBLEtBQUQsSUFBVSxJQUFDLENBQUEsSUFBSSxDQUFDLE1BQW5CO01BQStCLElBQUMsQ0FBQSxJQUFJLENBQUMsR0FBTixDQUFBLEVBQS9COztXQUNBLElBQUMsQ0FBQSxJQUFELEdBQVEsWUFBQSxRQUFjLElBQUMsQ0FBQSxJQUFJLENBQUMsQ0FBTixHQUFVLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFDLENBQU4sRUFBUSxDQUFSLENBQVcsQ0FBQSxJQUFDLENBQUEsR0FBRCxHQUFVLEVBQTdDLFNBQWlELElBQUMsQ0FBQSxJQUFJLENBQUMsQ0FBTixHQUFVLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBQyxDQUFSLENBQVcsQ0FBQSxJQUFDLENBQUEsR0FBRCxHQUFVLEVBQWhGO0VBSEQ7O0VBS1QsSUFBTyxDQUFBLENBQUE7QUFBRyxRQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBO0FBQUE7SUFBQSxLQUFBLHFDQUFBOzttQkFBQSxPQUFBLENBQVEsR0FBUixFQUFhLEtBQUEsQ0FBTSxHQUFOLENBQWI7SUFBQSxDQUFBOztFQUFIOztBQXJCVCIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFNuYWtlXHJcbiAgY29uc3RydWN0b3IgOiAoQGhlYWQ9Y3JlYXRlVmVjdG9yKDEwLDEwKSwgQGRpcj0wLCBAdG90YWw9MSwgQHRhaWw9W10pIC0+IFxyXG5cclxuICBlYXQgOiAocG9zKSAtPlxyXG4gICAgZCA9IGRpc3QgQGhlYWQueCwgQGhlYWQueSwgcG9zLngsIHBvcy55XHJcbiAgICBpZiBkID09IDAgdGhlbiBAdG90YWwrK1xyXG4gICAgZCA9PSAwXHJcblxyXG4gIGRlYXRoIDogLT5cclxuICAgIGZvciBwb3MgaW4gQHRhaWxcclxuICAgICAgZCA9IGRpc3QgQGhlYWQueCwgQGhlYWQueSwgcG9zLngsIHBvcy55XHJcbiAgICAgIGlmIGQgPT0gMCBcclxuICAgICAgICBwcmludCAnc3RhcnRpbmcgb3ZlcidcclxuICAgICAgICBAdG90YWwgPSAxXHJcbiAgICAgICAgQHRhaWwgPSBbXVxyXG5cclxuICB1cGRhdGUgOiAtPlxyXG4gICAgQHRhaWwudW5zaGlmdCBAaGVhZFxyXG4gICAgaWYgQHRvdGFsIDw9IEB0YWlsLmxlbmd0aCB0aGVuIEB0YWlsLnBvcCgpXHJcbiAgICBAaGVhZCA9IGNyZWF0ZVZlY3RvciAoQGhlYWQueCArIFsxLDAsLTEsMF1bQGRpcl0pICUlIG4sIChAaGVhZC55ICsgWzAsMSwwLC0xXVtAZGlyXSkgJSUgblxyXG5cclxuICBzaG93IDogLT4ga3ZhZHJhdCBwb3MsIGNvbG9yIDI1NSBmb3IgcG9zIGluIEB0YWlsLmNvbmNhdCBAaGVhZCJdfQ==
//# sourceURL=C:\Lab\2017\027-snake\coffee\snake.coffee