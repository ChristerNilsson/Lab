// Generated by CoffeeScript 1.11.1
var Stream, draw, fade, setup, streams, symbolSize;

streams = [];

fade = 0.95;

symbolSize = 14;

setup = function() {
  var j, len, ref, x;
  createCanvas(window.innerWidth, window.innerHeight);
  ref = range(0, width, symbolSize);
  for (j = 0, len = ref.length; j < len; j++) {
    x = ref[j];
    streams.push(new Stream(x, random(-2000, 0)));
  }
  textFont('Consolas');
  return textSize(symbolSize);
};

draw = function() {
  var j, len, results, stream;
  background(0);
  results = [];
  for (j = 0, len = streams.length; j < len; j++) {
    stream = streams[j];
    results.push(stream.render());
  }
  return results;
};

Stream = (function() {
  function Stream(x1, y1) {
    var i, j, len, ref;
    this.x = x1;
    this.y = y1;
    this.symbols = "";
    ref = range(random(5, 35));
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      this.symbols += String.fromCharCode(0x30A0 + round(random(96)));
    }
    this.speed = random(5, 22);
  }

  Stream.prototype.render = function() {
    var i, j, len, opacity, ref, symbol, y;
    opacity = 255;
    y = this.y;
    ref = this.symbols;
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      symbol = ref[i];
      opacity *= fade;
      if (i === 0) {
        fill(140, 255, 170, opacity);
      } else {
        fill(0, 255, 70, opacity);
      }
      text(symbol, this.x, y);
      y -= symbolSize;
    }
    return this.y = this.y >= height + 35 * symbolSize ? 0 : this.y + this.speed;
  };

  return Stream;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxPQUFBLEdBQVU7O0FBQ1YsSUFBQSxHQUFPOztBQUNQLFVBQUEsR0FBYTs7QUFFYixLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7RUFBQSxZQUFBLENBQWEsTUFBTSxDQUFDLFVBQXBCLEVBQWdDLE1BQU0sQ0FBQyxXQUF2QztBQUNBO0FBQUEsT0FBQSxxQ0FBQTs7SUFDQyxPQUFPLENBQUMsSUFBUixDQUFpQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVUsTUFBQSxDQUFPLENBQUMsSUFBUixFQUFjLENBQWQsQ0FBVixDQUFqQjtBQUREO0VBRUEsUUFBQSxDQUFTLFVBQVQ7U0FDQSxRQUFBLENBQVMsVUFBVDtBQUxPOztBQU9SLElBQUEsR0FBTyxTQUFBO0FBQ04sTUFBQTtFQUFBLFVBQUEsQ0FBVyxDQUFYO0FBQ0E7T0FBQSx5Q0FBQTs7aUJBQUEsTUFBTSxDQUFDLE1BQVAsQ0FBQTtBQUFBOztBQUZNOztBQUlEO0VBQ1MsZ0JBQUMsRUFBRCxFQUFJLEVBQUo7QUFDYixRQUFBO0lBRGMsSUFBQyxDQUFBLElBQUQ7SUFBRyxJQUFDLENBQUEsSUFBRDtJQUNqQixJQUFDLENBQUEsT0FBRCxHQUFXO0FBQ1g7QUFBQSxTQUFBLHFDQUFBOztNQUNDLElBQUMsQ0FBQSxPQUFELElBQVksTUFBTSxDQUFDLFlBQVAsQ0FBb0IsTUFBQSxHQUFTLEtBQUEsQ0FBTSxNQUFBLENBQU8sRUFBUCxDQUFOLENBQTdCO0FBRGI7SUFFQSxJQUFDLENBQUEsS0FBRCxHQUFTLE1BQUEsQ0FBTyxDQUFQLEVBQVUsRUFBVjtFQUpJOzttQkFLZCxNQUFBLEdBQVMsU0FBQTtBQUNSLFFBQUE7SUFBQSxPQUFBLEdBQVU7SUFDVixDQUFBLEdBQUksSUFBQyxDQUFBO0FBQ0w7QUFBQSxTQUFBLDZDQUFBOztNQUNDLE9BQUEsSUFBVztNQUNYLElBQUcsQ0FBQSxLQUFHLENBQU47UUFBYSxJQUFBLENBQUssR0FBTCxFQUFVLEdBQVYsRUFBZSxHQUFmLEVBQW9CLE9BQXBCLEVBQWI7T0FBQSxNQUFBO1FBQThDLElBQUEsQ0FBSyxDQUFMLEVBQVEsR0FBUixFQUFhLEVBQWIsRUFBaUIsT0FBakIsRUFBOUM7O01BQ0EsSUFBQSxDQUFLLE1BQUwsRUFBYSxJQUFDLENBQUEsQ0FBZCxFQUFpQixDQUFqQjtNQUNBLENBQUEsSUFBSztBQUpOO1dBS0EsSUFBQyxDQUFBLENBQUQsR0FBUSxJQUFDLENBQUEsQ0FBRCxJQUFNLE1BQUEsR0FBTyxFQUFBLEdBQUcsVUFBbkIsR0FBbUMsQ0FBbkMsR0FBMEMsSUFBQyxDQUFBLENBQUQsR0FBSyxJQUFDLENBQUE7RUFSN0MiLCJzb3VyY2VzQ29udGVudCI6WyJzdHJlYW1zID0gW11cclxuZmFkZSA9IDAuOTVcclxuc3ltYm9sU2l6ZSA9IDE0XHJcblxyXG5zZXR1cCA9IC0+IFxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XHJcblx0Zm9yIHggaW4gcmFuZ2UgMCx3aWR0aCxzeW1ib2xTaXplXHJcblx0XHRzdHJlYW1zLnB1c2ggbmV3IFN0cmVhbSB4LCByYW5kb20gLTIwMDAsIDBcclxuXHR0ZXh0Rm9udCAnQ29uc29sYXMnXHJcblx0dGV4dFNpemUgc3ltYm9sU2l6ZVxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmFja2dyb3VuZCAwXHJcblx0c3RyZWFtLnJlbmRlcigpIGZvciBzdHJlYW0gaW4gc3RyZWFtc1xyXG5cclxuY2xhc3MgU3RyZWFtXHJcblx0Y29uc3RydWN0b3IgOiAoQHgsQHkpIC0+XHJcblx0XHRAc3ltYm9scyA9IFwiXCJcclxuXHRcdGZvciBpIGluIHJhbmdlIHJhbmRvbSA1LCAzNVxyXG5cdFx0XHRAc3ltYm9scyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlIDB4MzBBMCArIHJvdW5kIHJhbmRvbSA5NlxyXG5cdFx0QHNwZWVkID0gcmFuZG9tIDUsIDIyXHJcblx0cmVuZGVyIDogKCkgLT5cclxuXHRcdG9wYWNpdHkgPSAyNTVcclxuXHRcdHkgPSBAeVxyXG5cdFx0Zm9yIHN5bWJvbCxpIGluIEBzeW1ib2xzXHJcblx0XHRcdG9wYWNpdHkgKj0gZmFkZVxyXG5cdFx0XHRpZiBpPT0wIHRoZW4gZmlsbCAxNDAsIDI1NSwgMTcwLCBvcGFjaXR5IGVsc2UgZmlsbCAwLCAyNTUsIDcwLCBvcGFjaXR5XHJcblx0XHRcdHRleHQgc3ltYm9sLCBAeCwgeVxyXG5cdFx0XHR5IC09IHN5bWJvbFNpemVcclxuXHRcdEB5ID0gaWYgQHkgPj0gaGVpZ2h0KzM1KnN5bWJvbFNpemUgdGhlbiAwIGVsc2UgQHkgKyBAc3BlZWQiXX0=
//# sourceURL=C:\Lab\2017\018-Green Rain\sketch.coffee