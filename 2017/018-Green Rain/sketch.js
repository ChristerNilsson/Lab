// Generated by CoffeeScript 1.11.1
var Stream, draw, fadeInterval, setup, streams, symbolSize;

streams = [];

fadeInterval = 1.6;

symbolSize = 14;

setup = function() {
  var j, len, ref, x;
  createCanvas(window.innerWidth, window.innerHeight);
  ref = range(0, width, symbolSize);
  for (j = 0, len = ref.length; j < len; j++) {
    x = ref[j];
    streams.push(new Stream(x, random(-2000, 0)));
  }
  textFont('Consolas');
  return textSize(symbolSize);
};

draw = function() {
  var j, len, results, stream;
  bg(0);
  results = [];
  for (j = 0, len = streams.length; j < len; j++) {
    stream = streams[j];
    results.push(stream.render());
  }
  return results;
};

Stream = (function() {
  function Stream(x1, y1) {
    var i, j, len, ref;
    this.x = x1;
    this.y = y1;
    this.symbols = "";
    ref = range(random(5, 35));
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      this.symbols += String.fromCharCode(0x30A0 + round(random(96)));
    }
    this.speed = random(5, 22);
  }

  Stream.prototype.render = function() {
    var i, j, len, opacity, ref, results, symbol, y;
    opacity = 1;
    y = this.y;
    ref = this.symbols;
    results = [];
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      symbol = ref[i];
      opacity -= 1 / this.symbols.length / fadeInterval;
      if (i === 0) {
        fc(0.55, 1, 0.67, opacity);
      } else {
        fc(0, 1, 0.27, opacity);
      }
      text(symbol, this.x, y);
      y -= symbolSize;
      results.push(this.y = this.y >= height + 35 * symbolSize ? 0 : this.y + this.speed / 10);
    }
    return results;
  };

  return Stream;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxPQUFBLEdBQVU7O0FBQ1YsWUFBQSxHQUFlOztBQUNmLFVBQUEsR0FBYTs7QUFFYixLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7RUFBQSxZQUFBLENBQWEsTUFBTSxDQUFDLFVBQXBCLEVBQWdDLE1BQU0sQ0FBQyxXQUF2QztBQUNBO0FBQUEsT0FBQSxxQ0FBQTs7SUFDQyxPQUFPLENBQUMsSUFBUixDQUFpQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVUsTUFBQSxDQUFPLENBQUMsSUFBUixFQUFjLENBQWQsQ0FBVixDQUFqQjtBQUREO0VBRUEsUUFBQSxDQUFTLFVBQVQ7U0FDQSxRQUFBLENBQVMsVUFBVDtBQUxPOztBQU9SLElBQUEsR0FBTyxTQUFBO0FBQ04sTUFBQTtFQUFBLEVBQUEsQ0FBRyxDQUFIO0FBQ0E7T0FBQSx5Q0FBQTs7aUJBQ0MsTUFBTSxDQUFDLE1BQVAsQ0FBQTtBQUREOztBQUZNOztBQUtEO0VBQ1MsZ0JBQUMsRUFBRCxFQUFJLEVBQUo7QUFDYixRQUFBO0lBRGMsSUFBQyxDQUFBLElBQUQ7SUFBRyxJQUFDLENBQUEsSUFBRDtJQUNqQixJQUFDLENBQUEsT0FBRCxHQUFXO0FBQ1g7QUFBQSxTQUFBLHFDQUFBOztNQUNDLElBQUMsQ0FBQSxPQUFELElBQVksTUFBTSxDQUFDLFlBQVAsQ0FBb0IsTUFBQSxHQUFTLEtBQUEsQ0FBTSxNQUFBLENBQU8sRUFBUCxDQUFOLENBQTdCO0FBRGI7SUFFQSxJQUFDLENBQUEsS0FBRCxHQUFTLE1BQUEsQ0FBTyxDQUFQLEVBQVUsRUFBVjtFQUpJOzttQkFLZCxNQUFBLEdBQVMsU0FBQTtBQUNSLFFBQUE7SUFBQSxPQUFBLEdBQVU7SUFDVixDQUFBLEdBQUksSUFBQyxDQUFBO0FBQ0w7QUFBQTtTQUFBLDZDQUFBOztNQUNDLE9BQUEsSUFBVyxDQUFBLEdBQUksSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFiLEdBQXNCO01BQ2pDLElBQUcsQ0FBQSxLQUFHLENBQU47UUFBYSxFQUFBLENBQUcsSUFBSCxFQUFTLENBQVQsRUFBWSxJQUFaLEVBQWtCLE9BQWxCLEVBQWI7T0FBQSxNQUFBO1FBQ0ssRUFBQSxDQUFHLENBQUgsRUFBTSxDQUFOLEVBQVMsSUFBVCxFQUFlLE9BQWYsRUFETDs7TUFFQSxJQUFBLENBQUssTUFBTCxFQUFhLElBQUMsQ0FBQSxDQUFkLEVBQWlCLENBQWpCO01BQ0EsQ0FBQSxJQUFLO21CQUNMLElBQUMsQ0FBQSxDQUFELEdBQVEsSUFBQyxDQUFBLENBQUQsSUFBTSxNQUFBLEdBQU8sRUFBQSxHQUFHLFVBQW5CLEdBQW1DLENBQW5DLEdBQTBDLElBQUMsQ0FBQSxDQUFELEdBQUssSUFBQyxDQUFBLEtBQUQsR0FBTztBQU41RDs7RUFIUSIsInNvdXJjZXNDb250ZW50IjpbInN0cmVhbXMgPSBbXVxyXG5mYWRlSW50ZXJ2YWwgPSAxLjZcclxuc3ltYm9sU2l6ZSA9IDE0XHJcblxyXG5zZXR1cCA9IC0+IFxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XHJcblx0Zm9yIHggaW4gcmFuZ2UgMCx3aWR0aCxzeW1ib2xTaXplXHJcblx0XHRzdHJlYW1zLnB1c2ggbmV3IFN0cmVhbSB4LCByYW5kb20gLTIwMDAsIDBcclxuXHR0ZXh0Rm9udCAnQ29uc29sYXMnXHJcblx0dGV4dFNpemUgc3ltYm9sU2l6ZVxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmcgMFxyXG5cdGZvciBzdHJlYW0gaW4gc3RyZWFtc1xyXG5cdFx0c3RyZWFtLnJlbmRlcigpXHJcblxyXG5jbGFzcyBTdHJlYW1cclxuXHRjb25zdHJ1Y3RvciA6IChAeCxAeSkgLT5cclxuXHRcdEBzeW1ib2xzID0gXCJcIlxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgcmFuZG9tIDUsIDM1XHJcblx0XHRcdEBzeW1ib2xzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUgMHgzMEEwICsgcm91bmQgcmFuZG9tIDk2XHJcblx0XHRAc3BlZWQgPSByYW5kb20gNSwgMjJcclxuXHRyZW5kZXIgOiAoKSAtPlxyXG5cdFx0b3BhY2l0eSA9IDFcclxuXHRcdHkgPSBAeVxyXG5cdFx0Zm9yIHN5bWJvbCxpIGluIEBzeW1ib2xzXHJcblx0XHRcdG9wYWNpdHkgLT0gMSAvIEBzeW1ib2xzLmxlbmd0aCAvIGZhZGVJbnRlcnZhbFxyXG5cdFx0XHRpZiBpPT0wIHRoZW4gZmMgMC41NSwgMSwgMC42Nywgb3BhY2l0eVxyXG5cdFx0XHRlbHNlIGZjIDAsIDEsIDAuMjcsIG9wYWNpdHlcclxuXHRcdFx0dGV4dCBzeW1ib2wsIEB4LCB5XHJcblx0XHRcdHkgLT0gc3ltYm9sU2l6ZVxyXG5cdFx0XHRAeSA9IGlmIEB5ID49IGhlaWdodCszNSpzeW1ib2xTaXplIHRoZW4gMCBlbHNlIEB5ICsgQHNwZWVkLzEwIl19
//# sourceURL=C:\Lab\2017\018-Green Rain\sketch.coffee