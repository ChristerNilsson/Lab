// Generated by CoffeeScript 1.11.1
var Stream, draw, fadeInterval, setup, streams, symbolSize;

streams = [];

fadeInterval = 1.6;

symbolSize = 14;

setup = function() {
  var i, j, len, ref, x;
  createCanvas(window.innerWidth, window.innerHeight);
  x = 0;
  ref = range(width / symbolSize);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    streams.push(new Stream(x, random(-2000, 0)));
    x += symbolSize;
  }
  textFont('Consolas');
  return textSize(symbolSize);
};

draw = function() {
  var j, len, results, stream;
  bg(0);
  results = [];
  for (j = 0, len = streams.length; j < len; j++) {
    stream = streams[j];
    results.push(stream.render());
  }
  return results;
};

Stream = (function() {
  function Stream(x1, y1) {
    var i, j, len, ref;
    this.x = x1;
    this.y = y1;
    this.symbols = "";
    ref = range(random(5, 35));
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      this.symbols += String.fromCharCode(0x30A0 + round(random(96)));
    }
    this.speed = random(5, 22);
  }

  Stream.prototype.render = function() {
    var i, j, len, opacity, ref, results, symbol, y;
    opacity = 1;
    y = this.y;
    ref = this.symbols;
    results = [];
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      symbol = ref[i];
      opacity -= 1 / this.symbols.length / fadeInterval;
      if (i === 0) {
        fc(0.55, 1, 0.67, opacity);
      } else {
        fc(0, 1, 0.27, opacity);
      }
      text(symbol, this.x, y);
      y -= symbolSize;
      results.push(this.y = this.y >= height + 35 * symbolSize ? 0 : this.y + this.speed / 10);
    }
    return results;
  };

  return Stream;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQTs7QUFBQSxPQUFBLEdBQVU7O0FBQ1YsWUFBQSxHQUFlOztBQUNmLFVBQUEsR0FBYTs7QUFFYixLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7RUFBQSxZQUFBLENBQWEsTUFBTSxDQUFDLFVBQXBCLEVBQWdDLE1BQU0sQ0FBQyxXQUF2QztFQUNBLENBQUEsR0FBSTtBQUNKO0FBQUEsT0FBQSxxQ0FBQTs7SUFDQyxPQUFPLENBQUMsSUFBUixDQUFpQixJQUFBLE1BQUEsQ0FBTyxDQUFQLEVBQVUsTUFBQSxDQUFPLENBQUMsSUFBUixFQUFjLENBQWQsQ0FBVixDQUFqQjtJQUNBLENBQUEsSUFBSztBQUZOO0VBR0EsUUFBQSxDQUFTLFVBQVQ7U0FDQSxRQUFBLENBQVMsVUFBVDtBQVBPOztBQVNSLElBQUEsR0FBTyxTQUFBO0FBQ04sTUFBQTtFQUFBLEVBQUEsQ0FBRyxDQUFIO0FBQ0E7T0FBQSx5Q0FBQTs7aUJBQ0MsTUFBTSxDQUFDLE1BQVAsQ0FBQTtBQUREOztBQUZNOztBQUtEO0VBQ1MsZ0JBQUMsRUFBRCxFQUFJLEVBQUo7QUFDYixRQUFBO0lBRGMsSUFBQyxDQUFBLElBQUQ7SUFBRyxJQUFDLENBQUEsSUFBRDtJQUNqQixJQUFDLENBQUEsT0FBRCxHQUFXO0FBQ1g7QUFBQSxTQUFBLHFDQUFBOztNQUNDLElBQUMsQ0FBQSxPQUFELElBQVksTUFBTSxDQUFDLFlBQVAsQ0FBb0IsTUFBQSxHQUFTLEtBQUEsQ0FBTSxNQUFBLENBQU8sRUFBUCxDQUFOLENBQTdCO0FBRGI7SUFFQSxJQUFDLENBQUEsS0FBRCxHQUFTLE1BQUEsQ0FBTyxDQUFQLEVBQVUsRUFBVjtFQUpJOzttQkFLZCxNQUFBLEdBQVMsU0FBQTtBQUNSLFFBQUE7SUFBQSxPQUFBLEdBQVU7SUFDVixDQUFBLEdBQUksSUFBQyxDQUFBO0FBQ0w7QUFBQTtTQUFBLDZDQUFBOztNQUNDLE9BQUEsSUFBVyxDQUFBLEdBQUksSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFiLEdBQXNCO01BQ2pDLElBQUcsQ0FBQSxLQUFHLENBQU47UUFBYSxFQUFBLENBQUcsSUFBSCxFQUFTLENBQVQsRUFBWSxJQUFaLEVBQWtCLE9BQWxCLEVBQWI7T0FBQSxNQUFBO1FBQ0ssRUFBQSxDQUFHLENBQUgsRUFBTSxDQUFOLEVBQVMsSUFBVCxFQUFlLE9BQWYsRUFETDs7TUFFQSxJQUFBLENBQUssTUFBTCxFQUFhLElBQUMsQ0FBQSxDQUFkLEVBQWlCLENBQWpCO01BQ0EsQ0FBQSxJQUFLO21CQUNMLElBQUMsQ0FBQSxDQUFELEdBQVEsSUFBQyxDQUFBLENBQUQsSUFBTSxNQUFBLEdBQU8sRUFBQSxHQUFHLFVBQW5CLEdBQW1DLENBQW5DLEdBQTBDLElBQUMsQ0FBQSxDQUFELEdBQUssSUFBQyxDQUFBLEtBQUQsR0FBTztBQU41RDs7RUFIUSIsInNvdXJjZXNDb250ZW50IjpbInN0cmVhbXMgPSBbXVxyXG5mYWRlSW50ZXJ2YWwgPSAxLjZcclxuc3ltYm9sU2l6ZSA9IDE0XHJcblxyXG5zZXR1cCA9IC0+IFxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XHJcblx0eCA9IDBcclxuXHRmb3IgaSBpbiByYW5nZSB3aWR0aCAvIHN5bWJvbFNpemVcclxuXHRcdHN0cmVhbXMucHVzaCBuZXcgU3RyZWFtIHgsIHJhbmRvbSAtMjAwMCwgMFxyXG5cdFx0eCArPSBzeW1ib2xTaXplXHJcblx0dGV4dEZvbnQgJ0NvbnNvbGFzJ1xyXG5cdHRleHRTaXplIHN5bWJvbFNpemVcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJnIDBcclxuXHRmb3Igc3RyZWFtIGluIHN0cmVhbXNcclxuXHRcdHN0cmVhbS5yZW5kZXIoKVxyXG5cclxuY2xhc3MgU3RyZWFtXHJcblx0Y29uc3RydWN0b3IgOiAoQHgsQHkpIC0+XHJcblx0XHRAc3ltYm9scyA9IFwiXCJcclxuXHRcdGZvciBpIGluIHJhbmdlIHJhbmRvbSA1LCAzNVxyXG5cdFx0XHRAc3ltYm9scyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlIDB4MzBBMCArIHJvdW5kIHJhbmRvbSA5NlxyXG5cdFx0QHNwZWVkID0gcmFuZG9tIDUsIDIyXHJcblx0cmVuZGVyIDogKCkgLT5cclxuXHRcdG9wYWNpdHkgPSAxXHJcblx0XHR5ID0gQHlcclxuXHRcdGZvciBzeW1ib2wsaSBpbiBAc3ltYm9sc1xyXG5cdFx0XHRvcGFjaXR5IC09IDEgLyBAc3ltYm9scy5sZW5ndGggLyBmYWRlSW50ZXJ2YWxcclxuXHRcdFx0aWYgaT09MCB0aGVuIGZjIDAuNTUsIDEsIDAuNjcsIG9wYWNpdHlcclxuXHRcdFx0ZWxzZSBmYyAwLCAxLCAwLjI3LCBvcGFjaXR5XHJcblx0XHRcdHRleHQgc3ltYm9sLCBAeCwgeVxyXG5cdFx0XHR5IC09IHN5bWJvbFNpemVcclxuXHRcdFx0QHkgPSBpZiBAeSA+PSBoZWlnaHQrMzUqc3ltYm9sU2l6ZSB0aGVuIDAgZWxzZSBAeSArIEBzcGVlZC8xMCJdfQ==
//# sourceURL=C:\Lab\2017\018-Green Rain\sketch.coffee