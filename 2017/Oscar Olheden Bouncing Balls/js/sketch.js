// Generated by CoffeeScript 1.12.7
var Ball, Bullet, balls, bullets, collision, draw, keyPressed, level, newLevel, setup, shots;

balls = [];

level = 0;

bullets = [];

shots = [0, 0];

Ball = (function() {
  function Ball(r, g, b) {
    this.r = r;
    this.g = g;
    this.b = b;
    this.radie = 50;
    this.x = random(0 + this.radie, width - this.radie);
    this.y = this.radie;
    this.vx = random(1, 2);
    this.vy = random(1, 2);
    this.active = true;
  }

  Ball.prototype.rita = function() {
    if (!this.active) {
      return;
    }
    fc(this.r, this.g, this.b);
    sc(0);
    return circle(this.x, this.y, this.radie);
  };

  Ball.prototype.flytta = function() {
    this.x = this.x + this.vx;
    if (this.x > width - this.radie) {
      this.vx = -this.vx;
    }
    if (this.x < 0 + this.radie) {
      this.vx = -this.vx;
    }
    this.y = this.y + this.vy;
    if (this.y > height - this.radie || this.y < 0 + this.radie) {
      return this.vy = -this.vy;
    } else {
      return this.vy = this.vy + 0.125;
    }
  };

  return Ball;

})();

Bullet = (function() {
  function Bullet(x, y, vx, vy) {
    this.x = x;
    this.y = y;
    this.vx = vx;
    this.vy = vy;
    this.radie = 2;
    this.active = true;
  }

  Bullet.prototype.rita = function() {
    if (!this.active) {
      return;
    }
    fc(0);
    sc(0);
    return circle(this.x, this.y, this.radie);
  };

  Bullet.prototype.flytta = function() {
    this.x = this.x + this.vx;
    this.y = this.y + this.vy;
    if (this.y > height - this.radie) {
      return this.vy = -this.vy;
    } else {
      return this.vy = this.vy + 0.31;
    }
  };

  return Bullet;

})();

newLevel = function(lvl) {
  var i, j, len, ref, results;
  balls = [];
  level += lvl;
  bullets = [];
  shots = [0, 0];
  ref = range(level);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    balls.push(new Ball(1, 1, 0));
    results.push(balls.push(new Ball(1, 0, 0)));
  }
  return results;
};

setup = function() {
  createCanvas(500, 400);
  return newLevel(1);
};

collision = function() {
  var ball, bullet, j, k, len, len1;
  for (j = 0, len = balls.length; j < len; j++) {
    ball = balls[j];
    for (k = 0, len1 = bullets.length; k < len1; k++) {
      bullet = bullets[k];
      if (ball.active && bullet.active && dist(bullet.x, bullet.y, ball.x, ball.y) < ball.radie + bullet.radie) {
        ball.active = false;
        bullet.active = false;
        shots[ball.g] += 1;
        return;
      }
    }
  }
};

draw = function() {
  var ball, bullet, j, k, len, len1;
  bg(0.5);
  textAlign(CENTER, CENTER);
  textSize(200);
  fc(0.7);
  text(level, width / 2, height / 2);
  textSize(25);
  fc(0, 1, 1);
  text("Made By Oscar Olheden 7B", width / 2, height - 25);
  for (j = 0, len = balls.length; j < len; j++) {
    ball = balls[j];
    ball.rita();
    ball.flytta();
  }
  for (k = 0, len1 = bullets.length; k < len1; k++) {
    bullet = bullets[k];
    bullet.rita();
    bullet.flytta();
  }
  collision();
  fc(0);
  rect(5, height - 5, 5, 5);
  rect(width - 15, height - 5, 5, 5);
  if (shots[0] === level) {
    newLevel(-1);
  }
  if (shots[1] === level) {
    return newLevel(+1);
  }
};

keyPressed = function() {
  if (keyCode === LEFT_ARROW) {
    bullets.push(new Bullet(5, height - 5, 5, 15));
  }
  print(keyCode);
  if (keyCode === RIGHT_ARROW) {
    return bullets.push(new Bullet(width - 5, height - 5, -5, 15));
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsS0FBQSxHQUFROztBQUNSLEtBQUEsR0FBUTs7QUFDUixPQUFBLEdBQVE7O0FBQ1IsS0FBQSxHQUFNLENBQUMsQ0FBRCxFQUFHLENBQUg7O0FBQ0E7RUFDUyxjQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUDtJQUFDLElBQUMsQ0FBQSxJQUFEO0lBQUcsSUFBQyxDQUFBLElBQUQ7SUFBRyxJQUFDLENBQUEsSUFBRDtJQUNwQixJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLENBQUQsR0FBSyxNQUFBLENBQU8sQ0FBQSxHQUFFLElBQUMsQ0FBQSxLQUFWLEVBQWdCLEtBQUEsR0FBTSxJQUFDLENBQUEsS0FBdkI7SUFDTCxJQUFDLENBQUEsQ0FBRCxHQUFLLElBQUMsQ0FBQTtJQUNOLElBQUMsQ0FBQSxFQUFELEdBQUssTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFUO0lBQ0wsSUFBQyxDQUFBLEVBQUQsR0FBSyxNQUFBLENBQU8sQ0FBUCxFQUFTLENBQVQ7SUFDTCxJQUFDLENBQUEsTUFBRCxHQUFRO0VBTks7O2lCQU9kLElBQUEsR0FBTyxTQUFBO0lBQ04sSUFBRyxDQUFJLElBQUMsQ0FBQSxNQUFSO0FBQW9CLGFBQXBCOztJQUNBLEVBQUEsQ0FBRyxJQUFDLENBQUEsQ0FBSixFQUFNLElBQUMsQ0FBQSxDQUFQLEVBQVMsSUFBQyxDQUFBLENBQVY7SUFDQSxFQUFBLENBQUcsQ0FBSDtXQUNBLE1BQUEsQ0FBTyxJQUFDLENBQUEsQ0FBUixFQUFVLElBQUMsQ0FBQSxDQUFYLEVBQWEsSUFBQyxDQUFBLEtBQWQ7RUFKTTs7aUJBTVAsTUFBQSxHQUFTLFNBQUE7SUFDUixJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUMsQ0FBQSxDQUFELEdBQUcsSUFBQyxDQUFBO0lBQ1As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LE9BQUEsS0FBVyxVQUFkO0lBRUMsT0FBTyxDQUFDLElBQVIsQ0FBYSxJQUFJLE1BQUosQ0FBVyxDQUFYLEVBQWEsTUFBQSxHQUFPLENBQXBCLEVBQXNCLENBQXRCLEVBQXdCLEVBQXhCLENBQWIsRUFGRDs7RUFJQSxLQUFBLENBQU0sT0FBTjtFQUNBLElBQUcsT0FBQSxLQUFXLFdBQWQ7V0FFQyxPQUFPLENBQUMsSUFBUixDQUFhLElBQUksTUFBSixDQUFXLEtBQUEsR0FBTSxDQUFqQixFQUFtQixNQUFBLEdBQU8sQ0FBMUIsRUFBNEIsQ0FBQyxDQUE3QixFQUErQixFQUEvQixDQUFiLEVBRkQ7O0FBTlkiLCJzb3VyY2VzQ29udGVudCI6WyJiYWxscyA9IFtdXHJcbmxldmVsID0gMFxyXG5idWxsZXRzPVtdXHJcbnNob3RzPVswLDBdXHJcbmNsYXNzIEJhbGxcclxuXHRjb25zdHJ1Y3RvciA6IChAcixAZyxAYikgLT5cclxuXHRcdEByYWRpZSA9IDUwXHJcblx0XHRAeCA9IHJhbmRvbSAwK0ByYWRpZSx3aWR0aC1AcmFkaWVcclxuXHRcdEB5ID0gQHJhZGllXHJcblx0XHRAdng9IHJhbmRvbSAxLDJcclxuXHRcdEB2eT0gcmFuZG9tIDEsMlxyXG5cdFx0QGFjdGl2ZT10cnVlXHJcblx0cml0YSA6IC0+XHJcblx0XHRpZiBub3QgQGFjdGl2ZSB0aGVuIHJldHVyblxyXG5cdFx0ZmMgQHIsQGcsQGJcclxuXHRcdHNjIDBcclxuXHRcdGNpcmNsZSBAeCxAeSxAcmFkaWVcclxuXHJcblx0Zmx5dHRhIDogLT5cclxuXHRcdEB4PUB4K0B2eFxyXG5cdFx0aWYgQHggPiB3aWR0aC1AcmFkaWUgdGhlbiBAdng9LUB2eFxyXG5cdFx0aWYgQHggPCAwK0ByYWRpZSB0aGVuIEB2eD0tQHZ4XHJcblxyXG5cdFx0QHk9QHkrQHZ5XHJcblx0XHRpZiBAeSA+IGhlaWdodC1AcmFkaWUgb3IgQHkgPCAwK0ByYWRpZVxyXG5cdFx0XHRAdnk9LUB2eVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRAdnkgPSBAdnkgKyAwLjEyNVxyXG5cclxuY2xhc3MgQnVsbGV0XHJcblx0Y29uc3RydWN0b3IgOiAoQHgsQHksQHZ4LEB2eSkgLT5cclxuXHRcdEByYWRpZSA9IDJcclxuXHRcdEBhY3RpdmU9dHJ1ZVxyXG5cdHJpdGEgOiAtPlxyXG5cdFx0aWYgbm90IEBhY3RpdmUgdGhlbiByZXR1cm5cclxuXHRcdGZjIDBcclxuXHRcdHNjIDBcclxuXHRcdGNpcmNsZSBAeCxAeSxAcmFkaWVcclxuXHJcblx0Zmx5dHRhIDogLT5cclxuXHRcdEB4PUB4K0B2eFxyXG5cdFx0I2lmIEB4ID4gd2lkdGgtQHJhZGllIHRoZW4gQHZ4PS1AdnhcclxuXHRcdCNpZiBAeCA8IDArQHJhZGllIHRoZW4gQHZ4PS1AdnhcclxuXHJcblx0XHRAeT1AeStAdnlcclxuXHRcdGlmIEB5ID4gaGVpZ2h0LUByYWRpZSAjb3IgQHkgPCAwK0ByYWRpZVxyXG5cdFx0XHRAdnk9LUB2eVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRAdnkgPSBAdnkgKyAwLjMxXHJcblxyXG5uZXdMZXZlbD0obHZsKSAtPlxyXG5cdGJhbGxzID0gW11cclxuXHRsZXZlbCs9bHZsXHJcblx0YnVsbGV0cz1bXVxyXG5cdHNob3RzPVswLDBdXHJcblx0Zm9yIGkgaW4gcmFuZ2UgbGV2ZWxcclxuXHRcdGJhbGxzLnB1c2ggbmV3IEJhbGwgMSwxLDBcclxuXHRcdGJhbGxzLnB1c2ggbmV3IEJhbGwgMSwwLDBcclxuXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIDUwMCw0MDBcclxuXHRuZXdMZXZlbCAxXHJcblxyXG5jb2xsaXNpb24gPSAtPlxyXG5cdGZvciBiYWxsIGluIGJhbGxzXHJcblx0XHRmb3IgYnVsbGV0IGluIGJ1bGxldHNcclxuXHRcdFx0aWYgYmFsbC5hY3RpdmUgYW5kIGJ1bGxldC5hY3RpdmUgYW5kIGRpc3QoYnVsbGV0LngsYnVsbGV0LnksYmFsbC54LGJhbGwueSkgPCBiYWxsLnJhZGllK2J1bGxldC5yYWRpZVxyXG5cdFx0XHRcdGJhbGwuYWN0aXZlPWZhbHNlXHJcblx0XHRcdFx0YnVsbGV0LmFjdGl2ZT1mYWxzZVxyXG5cdFx0XHRcdHNob3RzW2JhbGwuZ10rPTFcclxuXHRcdFx0XHRyZXR1cm5cclxuZHJhdyA9IC0+XHJcblx0YmcgMC41XHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHR0ZXh0U2l6ZSAyMDBcclxuXHRmYyAwLjdcclxuXHR0ZXh0IGxldmVsLCB3aWR0aC8yLGhlaWdodC8yXHJcblx0dGV4dFNpemUgMjVcclxuXHRmYyAwLDEsMVxyXG5cdHRleHQgXCJNYWRlIEJ5IE9zY2FyIE9saGVkZW4gN0JcIiwgd2lkdGgvMiwgaGVpZ2h0LTI1XHJcblx0Zm9yIGJhbGwgaW4gYmFsbHNcclxuXHRcdGJhbGwucml0YSgpXHJcblx0XHRiYWxsLmZseXR0YSgpXHJcblx0XHQjcHJpbnQgXCJiXCJcclxuXHJcblx0Zm9yIGJ1bGxldCBpbiBidWxsZXRzXHJcblx0XHRidWxsZXQucml0YSgpXHJcblx0XHRidWxsZXQuZmx5dHRhKClcclxuXHRcdCNwcmludCBcImFcIlxyXG5cdGNvbGxpc2lvbigpXHJcblx0ZmMgMFxyXG5cdHJlY3QgNSxoZWlnaHQtNSw1LDVcclxuXHRyZWN0IHdpZHRoLTE1LGhlaWdodC01LDUsNVxyXG5cdGlmIHNob3RzWzBdPT1sZXZlbCB0aGVuIG5ld0xldmVsIC0xXHJcblx0aWYgc2hvdHNbMV09PWxldmVsIHRoZW4gbmV3TGV2ZWwgKzFcclxuXHJcbmtleVByZXNzZWQgPSAtPlxyXG5cdGlmIGtleUNvZGUgPT0gTEVGVF9BUlJPV1xyXG5cdFx0I3ByaW50IFwiY1wiXHJcblx0XHRidWxsZXRzLnB1c2ggbmV3IEJ1bGxldCA1LGhlaWdodC01LDUsMTVcclxuXHJcblx0cHJpbnQga2V5Q29kZVxyXG5cdGlmIGtleUNvZGUgPT0gUklHSFRfQVJST1dcclxuXHRcdCNwcmludCBcImNcIlxyXG5cdFx0YnVsbGV0cy5wdXNoIG5ldyBCdWxsZXQgd2lkdGgtNSxoZWlnaHQtNSwtNSwxNVxyXG4iXX0=
//# sourceURL=C:\Lab\2017\Oscar Olheden Bouncing Balls\coffee\sketch.coffee