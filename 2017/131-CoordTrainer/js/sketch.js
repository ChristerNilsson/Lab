// Generated by CoffeeScript 1.12.7
var SCALE, diameter, grid, level, mousePressed, newGame, newPoint, setup, x, y;

x = y = -99;

level = 0;

diameter = 20;

SCALE = 4;

setup = function() {
  createCanvas(201 * SCALE - 2, 201 * SCALE - 2);
  return newGame(0);
};

grid = function() {
  var i, j, len, ref, results;
  sc(1);
  sw(0.5);
  ref = range(0, 201, 20);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    line(i, 0, i, 200);
    results.push(line(0, i, 200, i));
  }
  return results;
};

newPoint = function(d) {
  diameter = d;
  x = random(201);
  y = random(201);
  x = d * round(x / d);
  return y = d * round(y / d);
};

newGame = function(dlevel) {
  var seconds;
  bg(0);
  scale(SCALE);
  textAlign(CENTER, CENTER);
  textSize(150);
  if (dlevel >= 0) {
    fc(0, 0.5, 0);
  }
  if (dlevel === -1) {
    fc(1, 0.5, 0);
  }
  level += dlevel;
  if (level < 0) {
    level = 0;
  }
  sc();
  text(level, 100.5, 100.5);
  grid();
  sw(1);
  sc(1, 1, 0);
  fc();
  circle(x, y, diameter / 2);
  sw(2);
  point(x, y);
  sc(1, 0, 0);
  sw(2);
  point(mouseX / SCALE, mouseY / SCALE);
  newPoint(20);
  if (level >= 10) {
    newPoint(10);
  }
  if (level >= 20) {
    newPoint(8);
  }
  if (level >= 30) {
    newPoint(6);
  }
  if (level >= 40) {
    newPoint(4);
  }
  textSize(12);
  textAlign(CENTER, CENTER);
  fc(1, 1, 0);
  sc();
  text('x', 170, 10);
  text(x, 190, 10);
  text('y', 10, 170);
  text(y, 10, 190);
  text('t', 170, 170);
  seconds = int(millis() / 1000);
  return text(seconds, 190, 190);
};

mousePressed = function() {
  if (diameter / 2 > dist(x, y, mouseX / SCALE, mouseY / SCALE)) {
    return newGame(1);
  } else {
    return newGame(-1);
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsQ0FBQSxHQUFFLENBQUEsR0FBRSxDQUFDOztBQUNMLEtBQUEsR0FBUTs7QUFDUixRQUFBLEdBQVc7O0FBQ1gsS0FBQSxHQUFROztBQUVSLEtBQUEsR0FBUSxTQUFBO0VBQ1AsWUFBQSxDQUFhLEdBQUEsR0FBSSxLQUFKLEdBQVUsQ0FBdkIsRUFBeUIsR0FBQSxHQUFJLEtBQUosR0FBVSxDQUFuQztTQUNBLE9BQUEsQ0FBUSxDQUFSO0FBRk87O0FBSVIsSUFBQSxHQUFPLFNBQUE7QUFDTixNQUFBO0VBQUEsRUFBQSxDQUFHLENBQUg7RUFDQSxFQUFBLENBQUcsR0FBSDtBQUNBO0FBQUE7T0FBQSxxQ0FBQTs7SUFDQyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsR0FBWDtpQkFDQSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxHQUFULEVBQWEsQ0FBYjtBQUZEOztBQUhNOztBQU9QLFFBQUEsR0FBVyxTQUFDLENBQUQ7RUFDVixRQUFBLEdBQVc7RUFDWCxDQUFBLEdBQUksTUFBQSxDQUFPLEdBQVA7RUFDSixDQUFBLEdBQUksTUFBQSxDQUFPLEdBQVA7RUFDSixDQUFBLEdBQUksQ0FBQSxHQUFJLEtBQUEsQ0FBTSxDQUFBLEdBQUUsQ0FBUjtTQUNSLENBQUEsR0FBSSxDQUFBLEdBQUksS0FBQSxDQUFNLENBQUEsR0FBRSxDQUFSO0FBTEU7O0FBT1gsT0FBQSxHQUFVLFNBQUMsTUFBRDtBQUNULE1BQUE7RUFBQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEtBQUEsQ0FBTSxLQUFOO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7RUFDQSxRQUFBLENBQVMsR0FBVDtFQUNBLElBQUcsTUFBQSxJQUFTLENBQVo7SUFBbUIsRUFBQSxDQUFHLENBQUgsRUFBSyxHQUFMLEVBQVMsQ0FBVCxFQUFuQjs7RUFDQSxJQUFHLE1BQUEsS0FBUSxDQUFDLENBQVo7SUFBbUIsRUFBQSxDQUFHLENBQUgsRUFBSyxHQUFMLEVBQVMsQ0FBVCxFQUFuQjs7RUFDQSxLQUFBLElBQVM7RUFDVCxJQUFHLEtBQUEsR0FBTSxDQUFUO0lBQWdCLEtBQUEsR0FBUSxFQUF4Qjs7RUFDQSxFQUFBLENBQUE7RUFDQSxJQUFBLENBQUssS0FBTCxFQUFXLEtBQVgsRUFBaUIsS0FBakI7RUFDQSxJQUFBLENBQUE7RUFFQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVA7RUFDQSxFQUFBLENBQUE7RUFDQSxNQUFBLENBQU8sQ0FBUCxFQUFTLENBQVQsRUFBVyxRQUFBLEdBQVMsQ0FBcEI7RUFDQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEtBQUEsQ0FBTSxDQUFOLEVBQVEsQ0FBUjtFQUVBLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVA7RUFDQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEtBQUEsQ0FBTSxNQUFBLEdBQU8sS0FBYixFQUFvQixNQUFBLEdBQU8sS0FBM0I7RUFFQSxRQUFBLENBQVMsRUFBVDtFQUNBLElBQUcsS0FBQSxJQUFTLEVBQVo7SUFBb0IsUUFBQSxDQUFTLEVBQVQsRUFBcEI7O0VBQ0EsSUFBRyxLQUFBLElBQVMsRUFBWjtJQUFvQixRQUFBLENBQVMsQ0FBVCxFQUFwQjs7RUFDQSxJQUFHLEtBQUEsSUFBUyxFQUFaO0lBQW9CLFFBQUEsQ0FBUyxDQUFULEVBQXBCOztFQUNBLElBQUcsS0FBQSxJQUFTLEVBQVo7SUFBb0IsUUFBQSxDQUFTLENBQVQsRUFBcEI7O0VBRUEsUUFBQSxDQUFTLEVBQVQ7RUFDQSxTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtFQUNBLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVA7RUFDQSxFQUFBLENBQUE7RUFDQSxJQUFBLENBQUssR0FBTCxFQUFTLEdBQVQsRUFBYSxFQUFiO0VBQ0EsSUFBQSxDQUFLLENBQUwsRUFBTyxHQUFQLEVBQVcsRUFBWDtFQUNBLElBQUEsQ0FBSyxHQUFMLEVBQVMsRUFBVCxFQUFZLEdBQVo7RUFDQSxJQUFBLENBQUssQ0FBTCxFQUFPLEVBQVAsRUFBVSxHQUFWO0VBRUEsSUFBQSxDQUFLLEdBQUwsRUFBUyxHQUFULEVBQWEsR0FBYjtFQUNBLE9BQUEsR0FBVSxHQUFBLENBQUksTUFBQSxDQUFBLENBQUEsR0FBUyxJQUFiO1NBQ1YsSUFBQSxDQUFLLE9BQUwsRUFBYSxHQUFiLEVBQWlCLEdBQWpCO0FBekNTOztBQTJDVixZQUFBLEdBQWUsU0FBQTtFQUFHLElBQUcsUUFBQSxHQUFTLENBQVQsR0FBYSxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxNQUFBLEdBQU8sS0FBaEIsRUFBc0IsTUFBQSxHQUFPLEtBQTdCLENBQWhCO1dBQXdELE9BQUEsQ0FBUSxDQUFSLEVBQXhEO0dBQUEsTUFBQTtXQUF1RSxPQUFBLENBQVEsQ0FBQyxDQUFULEVBQXZFOztBQUFIIiwic291cmNlc0NvbnRlbnQiOlsieD15PS05OVxyXG5sZXZlbCA9IDBcclxuZGlhbWV0ZXIgPSAyMFxyXG5TQ0FMRSA9IDRcclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgMjAxKlNDQUxFLTIsMjAxKlNDQUxFLTJcclxuXHRuZXdHYW1lIDBcclxuXHJcbmdyaWQgPSAtPlxyXG5cdHNjIDFcclxuXHRzdyAwLjVcclxuXHRmb3IgaSBpbiByYW5nZSAwLDIwMSwyMFxyXG5cdFx0bGluZSBpLDAsaSwyMDBcclxuXHRcdGxpbmUgMCxpLDIwMCxpXHJcblxyXG5uZXdQb2ludCA9IChkKSAtPlxyXG5cdGRpYW1ldGVyID0gZFxyXG5cdHggPSByYW5kb20gMjAxXHJcblx0eSA9IHJhbmRvbSAyMDFcclxuXHR4ID0gZCAqIHJvdW5kIHgvZFxyXG5cdHkgPSBkICogcm91bmQgeS9kXHJcblxyXG5uZXdHYW1lID0gKGRsZXZlbCkgLT5cclxuXHRiZyAwXHJcblx0c2NhbGUgU0NBTEVcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHRleHRTaXplIDE1MFxyXG5cdGlmIGRsZXZlbD49IDAgdGhlbiBmYyAwLDAuNSwwXHJcblx0aWYgZGxldmVsPT0tMSB0aGVuIGZjIDEsMC41LDBcclxuXHRsZXZlbCArPSBkbGV2ZWxcclxuXHRpZiBsZXZlbDwwIHRoZW4gbGV2ZWwgPSAwXHJcblx0c2MoKVxyXG5cdHRleHQgbGV2ZWwsMTAwLjUsMTAwLjVcclxuXHRncmlkKClcclxuXHRcclxuXHRzdyAxXHJcblx0c2MgMSwxLDBcclxuXHRmYygpXHJcblx0Y2lyY2xlIHgseSxkaWFtZXRlci8yXHJcblx0c3cgMlxyXG5cdHBvaW50IHgseVxyXG5cclxuXHRzYyAxLDAsMFxyXG5cdHN3IDJcclxuXHRwb2ludCBtb3VzZVgvU0NBTEUsIG1vdXNlWS9TQ0FMRVxyXG5cclxuXHRuZXdQb2ludCAyMFxyXG5cdGlmIGxldmVsID49IDEwIHRoZW4gbmV3UG9pbnQgMTBcclxuXHRpZiBsZXZlbCA+PSAyMCB0aGVuIG5ld1BvaW50IDhcclxuXHRpZiBsZXZlbCA+PSAzMCB0aGVuIG5ld1BvaW50IDZcclxuXHRpZiBsZXZlbCA+PSA0MCB0aGVuIG5ld1BvaW50IDRcclxuXHJcblx0dGV4dFNpemUgMTJcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdGZjIDEsMSwwXHJcblx0c2MoKVxyXG5cdHRleHQgJ3gnLDE3MCwxMFxyXG5cdHRleHQgeCwxOTAsMTBcclxuXHR0ZXh0ICd5JywxMCwxNzBcclxuXHR0ZXh0IHksMTAsMTkwXHJcblxyXG5cdHRleHQgJ3QnLDE3MCwxNzBcclxuXHRzZWNvbmRzID0gaW50IG1pbGxpcygpLzEwMDBcclxuXHR0ZXh0IHNlY29uZHMsMTkwLDE5MFxyXG5cclxubW91c2VQcmVzc2VkID0gLT4gaWYgZGlhbWV0ZXIvMiA+IGRpc3QgeCx5LG1vdXNlWC9TQ0FMRSxtb3VzZVkvU0NBTEUgdGhlbiBuZXdHYW1lIDEgZWxzZSBuZXdHYW1lIC0xXHJcbiJdfQ==
//# sourceURL=C:\Lab\2017\131-CoordTrainer\coffee\sketch.coffee