// Generated by CoffeeScript 1.11.1
var Button, RS18, START, buttons, draw, mousePressed, rs, setup,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

rs = null;

buttons = [];

START = [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1];

Button = (function() {
  function Button(x, y, action) {
    this.x = x;
    this.y = y;
    this.action = action != null ? action : function() {};
  }

  Button.prototype.draw = function(r, g, b) {
    fc(r, g, b);
    return rect(this.x, this.y, 100, 100);
  };

  Button.prototype.inside = function(mx, my) {
    return (this.x < mx && mx < this.x + 100) && (this.y < my && my < this.y + 100);
  };

  return Button;

})();

RS18 = (function() {
  function RS18() {
    this.level = 0;
    this.generate();
    this.square = START;
    this.startNewGame(1);
  }

  RS18.prototype.startNewGame = function(dlevel) {
    this.state = 0;
    if (this.level < 6) {
      this.level += dlevel;
    }
    this.history = [];
    return this.square = _.sample(this.positions[this.level]);
  };

  RS18.prototype.draw = function() {
    var i, k, len, ref;
    textAlign(CENTER, CENTER);
    textSize(50);
    ref = range(9);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      if (this.square[i] === 0) {
        buttons[i].draw(1, 0, 0);
      } else {
        buttons[i].draw(1, 1, 0);
      }
    }
    fc(0);
    return text(this.level - this.history.length, 250, 250);
  };

  RS18.prototype.mousePressed = function(mx, my) {
    var button, k, len, results;
    if (this.state > 0) {
      return this.startNewGame(this.state - 1);
    } else {
      results = [];
      for (k = 0, len = buttons.length; k < len; k++) {
        button = buttons[k];
        if (button.inside(mx, my)) {
          results.push(button.action());
        } else {
          results.push(void 0);
        }
      }
      return results;
    }
  };

  RS18.prototype.undo = function() {
    if (this.history.length > 0) {
      return this.square = this.history.pop();
    }
  };

  RS18.prototype.move = function(index) {
    this.history.push(this.square);
    this.square = this.moveOne(index, this.square);
    if (_.isEqual(this.square, START)) {
      return this.state = this.level === this.history.length ? 2 : void 0;
    } else {
      return 1;
    }
  };

  RS18.prototype.moveOne = function(index, square) {
    if (index === 0) {
      return this.gen(square, [[0, 11], [1, 10], [2, 9]]);
    }
    if (index === 1) {
      return this.gen(square, [[0, 15], [3, 12], [6, 9]]);
    }
    if (index === 2) {
      return this.gen(square, [[2, 17], [5, 14], [8, 11]]);
    }
    if (index === 3) {
      return this.gen(square, [[6, 17], [7, 16], [8, 15]]);
    }
  };

  RS18.prototype.generate = function() {
    var generation, hash, i, k, key, len, queue, ref, res, results, sq, square;
    this.positions = [[], [], [], [], [], [], []];
    hash = {};
    queue = [];
    sq = START;
    this.positions[0].push(sq);
    queue.push(sq);
    hash[sq.join('')] = 0;
    results = [];
    while (queue.length > 0) {
      square = queue.shift();
      generation = hash[square.join('')];
      res = [];
      ref = range(4);
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        res.push(this.moveOne(i, square));
      }
      results.push((function() {
        var l, len1, results1;
        results1 = [];
        for (l = 0, len1 = res.length; l < len1; l++) {
          sq = res[l];
          key = sq.join('');
          if (indexOf.call(_.keys(hash), key) < 0) {
            hash[key] = generation + 1;
            this.positions[generation + 1].push(sq);
            results1.push(queue.push(sq));
          } else {
            results1.push(void 0);
          }
        }
        return results1;
      }).call(this));
    }
    return results;
  };

  RS18.prototype.gen = function(square, moves) {
    var i, j, k, len, ref, ref1, res;
    res = square.slice();
    for (k = 0, len = moves.length; k < len; k++) {
      ref = moves[k], i = ref[0], j = ref[1];
      ref1 = [res[j], res[i]], res[i] = ref1[0], res[j] = ref1[1];
    }
    return res;
  };

  return RS18;

})();

setup = function() {
  var i, j, k, l, len, len1, ref, ref1;
  createCanvas(500, 500);
  buttons = [];
  ref = range(3);
  for (k = 0, len = ref.length; k < len; k++) {
    j = ref[k];
    ref1 = range(3);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      buttons.push(new Button(100 * (j + 1), 100 * (i + 1)));
    }
  }
  buttons[1].action = function() {
    return rs.move(0);
  };
  buttons[3].action = function() {
    return rs.move(1);
  };
  buttons[5].action = function() {
    return rs.move(2);
  };
  buttons[7].action = function() {
    return rs.move(3);
  };
  buttons[4].action = function() {
    return rs.undo();
  };
  return rs = new RS18;
};

draw = function() {
  return rs.draw();
};

mousePressed = function() {
  return rs.mousePressed(mouseX, mouseY);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLElBQUEsMkRBQUE7RUFBQTs7QUFBQSxFQUFBLEdBQUs7O0FBQ0wsT0FBQSxHQUFVOztBQUNWLEtBQUEsR0FBUSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFhLENBQWIsRUFBZSxDQUFmLEVBQWlCLENBQWpCLEVBQW1CLENBQW5CLEVBQXFCLENBQXJCLEVBQXVCLENBQXZCLEVBQXlCLENBQXpCLEVBQTJCLENBQTNCLEVBQTZCLENBQTdCLEVBQStCLENBQS9CLEVBQWlDLENBQWpDLEVBQW1DLENBQW5DOztBQUVGO0VBQ1MsZ0JBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQO0lBQUMsSUFBQyxDQUFBLElBQUQ7SUFBRyxJQUFDLENBQUEsSUFBRDtJQUFHLElBQUMsQ0FBQSwwQkFBRCxTQUFVLFNBQUEsR0FBQTtFQUFqQjs7bUJBQ2QsSUFBQSxHQUFPLFNBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMO0lBQ04sRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUDtXQUNBLElBQUEsQ0FBSyxJQUFDLENBQUEsQ0FBTixFQUFRLElBQUMsQ0FBQSxDQUFULEVBQVcsR0FBWCxFQUFlLEdBQWY7RUFGTTs7bUJBR1AsTUFBQSxHQUFTLFNBQUMsRUFBRCxFQUFJLEVBQUo7V0FBVyxDQUFBLElBQUMsQ0FBQSxDQUFELEdBQUssRUFBTCxJQUFLLEVBQUwsR0FBVSxJQUFDLENBQUEsQ0FBRCxHQUFHLEdBQWIsQ0FBQSxJQUFxQixDQUFBLElBQUMsQ0FBQSxDQUFELEdBQUssRUFBTCxJQUFLLEVBQUwsR0FBVSxJQUFDLENBQUEsQ0FBRCxHQUFHLEdBQWI7RUFBaEM7Ozs7OztBQUVKO0VBQ1MsY0FBQTtJQUNiLElBQUMsQ0FBQSxL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QUFRLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBWCxHQUFvQixTQUFBO1dBQUcsRUFBRSxDQUFDLElBQUgsQ0FBUSxDQUFSO0VBQUg7RUFDcEIsT0FBUSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQVgsR0FBb0IsU0FBQTtXQUFHLEVBQUUsQ0FBQyxJQUFILENBQVEsQ0FBUjtFQUFIO0VBQ3BCLE9BQVEsQ0FBQSxDQUFBLENBQUUsQ0FBQyxNQUFYLEdBQW9CLFNBQUE7V0FBRyxFQUFFLENBQUMsSUFBSCxDQUFRLENBQVI7RUFBSDtFQUNwQixPQUFRLENBQUEsQ0FBQSxDQUFFLENBQUMsTUFBWCxHQUFvQixTQUFBO1dBQUcsRUFBRSxDQUFDLElBQUgsQ0FBUSxDQUFSO0VBQUg7RUFDcEIsT0FBUSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQVgsR0FBb0IsU0FBQTtXQUFHLEVBQUUsQ0FBQyxJQUFILENBQUE7RUFBSDtTQUNwQixFQUFBLEdBQUssSUFBSTtBQVhGOztBQWFSLElBQUEsR0FBTyxTQUFBO1NBQUcsRUFBRSxDQUFDLElBQUgsQ0FBQTtBQUFIOztBQUNQLFlBQUEsR0FBZSxTQUFBO1NBQUcsRUFBRSxDQUFDLFlBQUgsQ0FBZ0IsTUFBaEIsRUFBdUIsTUFBdkI7QUFBSCIsInNvdXJjZXNDb250ZW50IjpbIiMgM3gzLCB0dsOlIHNpZG9yLCA5NiBwb3NpdGlvbmVyLiBNYXggc2V4IGRyYWcuXHJcbiMgS2xpY2sgcMOlIGVuIGF2IGZ5cmEgbWl0dGJpdGFyIHbDpG5kZXIgcMOlIHRyZSB0aWxlc1xyXG4jIEtsaWNrIHDDpSBtaXR0ZW4gZ2VyIHVuZG9cclxuXHJcbnJzID0gbnVsbFxyXG5idXR0b25zID0gW11cclxuU1RBUlQgPSBbMCwwLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwxLDEsMSwxLDFdXHJcblxyXG5jbGFzcyBCdXR0b25cclxuXHRjb25zdHJ1Y3RvciA6IChAeCxAeSxAYWN0aW9uID0gLT4gKSAtPlxyXG5cdGRyYXcgOiAocixnLGIpIC0+XHJcblx0XHRmYyByLGcsYlxyXG5cdFx0cmVjdCBAeCxAeSwxMDAsMTAwXHJcblx0aW5zaWRlIDogKG14LG15KSAtPiBAeCA8IG14IDwgQHgrMTAwIGFuZCBAeSA8IG15IDwgQHkrMTAwXHJcblxyXG5jbGFzcyBSUzE4XHJcblx0Y29uc3RydWN0b3IgOiAtPlxyXG5cdFx0QGxldmVsID0gMFxyXG5cdFx0QGdlbmVyYXRlKClcclxuXHRcdEBzcXVhcmUgPSBTVEFSVFxyXG5cdFx0QHN0YXJ0TmV3R2FtZSAxXHJcblxyXG5cdHN0YXJ0TmV3R2FtZSA6IChkbGV2ZWwpIC0+XHJcblx0XHRAc3RhdGUgPSAwXHJcblx0XHRpZiBAbGV2ZWwgPCA2IHRoZW4gQGxldmVsICs9IGRsZXZlbFxyXG5cdFx0QGhpc3RvcnkgPSBbXVxyXG5cdFx0QHNxdWFyZSA9IF8uc2FtcGxlIEBwb3NpdGlvbnNbQGxldmVsXVxyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0XHR0ZXh0U2l6ZSA1MFxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgOVxyXG5cdFx0XHRpZiBAc3F1YXJlW2ldPT0wIHRoZW4gYnV0dG9uc1tpXS5kcmF3KDEsMCwwKSBlbHNlIGJ1dHRvbnNbaV0uZHJhdygxLDEsMClcclxuXHRcdGZjIDBcclxuXHRcdHRleHQgQGxldmVsIC0gQGhpc3RvcnkubGVuZ3RoLDI1MCwyNTBcclxuXHJcblx0bW91c2VQcmVzc2VkIDogKG14LG15KSAtPlxyXG5cdFx0aWYgQHN0YXRlID4gMCB0aGVuIEBzdGFydE5ld0dhbWUgQHN0YXRlLTFcclxuXHRcdGVsc2VcclxuXHRcdFx0Zm9yIGJ1dHRvbiBpbiBidXR0b25zXHJcblx0XHRcdFx0aWYgYnV0dG9uLmluc2lkZSBteCxteSB0aGVuXHRidXR0b24uYWN0aW9uKClcclxuXHJcblx0dW5kbyA6IC0+IGlmIEBoaXN0b3J5Lmxlbmd0aCA+IDAgdGhlbiBAc3F1YXJlID0gQGhpc3RvcnkucG9wKClcclxuXHJcblx0bW92ZSA6IChpbmRleCkgLT5cclxuXHRcdEBoaXN0b3J5LnB1c2ggQHNxdWFyZVxyXG5cdFx0QHNxdWFyZSA9IEBtb3ZlT25lIGluZGV4LCBAc3F1YXJlXHJcblx0XHRpZiBfLmlzRXF1YWwgQHNxdWFyZSxTVEFSVCB0aGVuIEBzdGF0ZSA9IGlmIEBsZXZlbD09QGhpc3RvcnkubGVuZ3RoIHRoZW4gMiBlbHNlIDFcclxuXHJcblx0bW92ZU9uZSA6IChpbmRleCxzcXVhcmUpIC0+XHJcblx0XHRpZiBpbmRleCA9PSAwIHRoZW4gcmV0dXJuIEBnZW4gc3F1YXJlLFtbMCwxMV0sWzEsMTBdLFsyLDldXVxyXG5cdFx0aWYgaW5kZXggPT0gMSB0aGVuIHJldHVybiBAZ2VuIHNxdWFyZSxbWzAsMTVdLFszLDEyXSxbNiw5XV1cclxuXHRcdGlmIGluZGV4ID09IDIgdGhlbiByZXR1cm4gQGdlbiBzcXVhcmUsW1syLDE3XSxbNSwxNF0sWzgsMTFdXVxyXG5cdFx0aWYgaW5kZXggPT0gMyB0aGVuIHJldHVybiBAZ2VuIHNxdWFyZSxbWzYsMTddLFs3LDE2XSxbOCwxNV1dXHJcblxyXG5cdGdlbmVyYXRlIDogKCkgLT5cclxuXHRcdEBwb3NpdGlvbnMgPSBbW10sW10sW10sW10sW10sW10sW11dXHJcblx0XHRoYXNoID0ge31cclxuXHRcdHF1ZXVlID0gW11cclxuXHRcdHNxID0gU1RBUlRcclxuXHRcdEBwb3NpdGlvbnNbMF0ucHVzaCBzcVxyXG5cdFx0cXVldWUucHVzaCBzcVxyXG5cdFx0aGFzaFtzcS5qb2luICcnXSA9IDBcclxuXHRcdHdoaWxlIHF1ZXVlLmxlbmd0aCA+IDBcclxuXHRcdFx0c3F1YXJlID0gcXVldWUuc2hpZnQoKVxyXG5cdFx0XHRnZW5lcmF0aW9uID0gaGFzaFtzcXVhcmUuam9pbiAnJ11cclxuXHRcdFx0cmVzID0gW11cclxuXHRcdFx0Zm9yIGkgaW4gcmFuZ2UgNFxyXG5cdFx0XHRcdHJlcy5wdXNoIEBtb3ZlT25lIGksIHNxdWFyZVxyXG5cdFx0XHRmb3Igc3EgaW4gcmVzXHJcblx0XHRcdFx0a2V5ID0gc3Euam9pbiAnJ1xyXG5cdFx0XHRcdGlmIGtleSBub3QgaW4gXy5rZXlzIGhhc2hcclxuXHRcdFx0XHRcdGhhc2hba2V5XSA9IGdlbmVyYXRpb24gKyAxXHJcblx0XHRcdFx0XHRAcG9zaXRpb25zW2dlbmVyYXRpb24gKyAxXS5wdXNoIHNxXHJcblx0XHRcdFx0XHRxdWV1ZS5wdXNoIHNxXHJcblxyXG5cdGdlbiA6IChzcXVhcmUsbW92ZXMpIC0+XHJcblx0XHRyZXMgPSBzcXVhcmUuc2xpY2UoKVxyXG5cdFx0Zm9yIFtpLGpdIGluIG1vdmVzXHJcblx0XHRcdFtyZXNbaV0scmVzW2pdXSA9IFtyZXNbal0scmVzW2ldXVxyXG5cdFx0cmVzXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIDUwMCw1MDBcclxuXHRidXR0b25zID0gW11cclxuXHRmb3IgaiBpbiByYW5nZSAzXHJcblx0XHRmb3IgaSBpbiByYW5nZSAzXHJcblx0XHRcdGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uIDEwMCooaisxKSwxMDAqKGkrMSlcclxuXHRidXR0b25zWzFdLmFjdGlvbiA9IC0+IHJzLm1vdmUgMFxyXG5cdGJ1dHRvbnNbM10uYWN0aW9uID0gLT4gcnMubW92ZSAxXHJcblx0YnV0dG9uc1s1XS5hY3Rpb24gPSAtPiBycy5tb3ZlIDJcclxuXHRidXR0b25zWzddLmFjdGlvbiA9IC0+IHJzLm1vdmUgM1xyXG5cdGJ1dHRvbnNbNF0uYWN0aW9uID0gLT4gcnMudW5kbygpXHJcblx0cnMgPSBuZXcgUlMxOFxyXG5cclxuZHJhdyA9IC0+IHJzLmRyYXcoKVxyXG5tb3VzZVByZXNzZWQgPSAtPiBycy5tb3VzZVByZXNzZWQgbW91c2VYLG1vdXNlWSJdfQ==
//# sourceURL=C:\Lab\2017\058-RubikSquare18\coffee\sketch.coffee