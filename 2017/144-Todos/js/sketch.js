// Generated by CoffeeScript 1.12.7
var State, button, checkbox, div, h3, input, li, many, render, setup, state, strong, todo, todos;

render = function(tag, attrs, children) {
  var attr, child, key, res;
  res = ((function() {
    var results;
    results = [];
    for (key in attrs) {
      attr = attrs[key];
      results.push(' ' + key + '="' + attr + '"');
    }
    return results;
  })()).join('');
  return "<" + tag + res + ">" + (((function() {
    var i, len, results;
    results = [];
    for (i = 0, len = children.length; i < len; i++) {
      child = children[i];
      results.push(child);
    }
    return results;
  })()).join('')) + "</" + tag + ">\n";
};

button = function(a, c) {
  return render('button', a, c);
};

div = function(a, c) {
  return render('div', a, c);
};

strong = function(a, c) {
  return render('strong', a, c);
};

li = function(a, c) {
  return render('li', a, c);
};

h3 = function(a, c) {
  return render('h3', a, c);
};

input = function(a, c) {
  if (c == null) {
    c = [];
  }
  return render('input', a, c);
};

checkbox = function(a, c) {
  if (c == null) {
    c = [];
  }
  return input(_.extend(a, {
    type: 'checkbox'
  }, a.value ? {
    checked: true
  } : void 0), c);
};

many = function(children, f) {
  return children.map(f).join('');
};

todos = function(attrs, children) {
  if (children == null) {
    children = [];
  }
  return div({}, [
    h3({}, ["Todo List (" + children.length + ")"]), many(children, function(item) {
      return todo(item);
    })
  ]);
};

todo = function(props, children) {
  var villkor1, villkor2;
  if (children == null) {
    children = [];
  }
  villkor1 = state.a && props.completed || state.b && !props.completed;
  villkor2 = state.c === 0 || state.c === props.userId;
  if (villkor1 && villkor2) {
    return div({}, [
      checkbox({
        onchange: "state.toggle(" + props.id + ")",
        value: props.completed
      }), strong({}, [props.title, " (" + props.userId + ")"])
    ]);
  } else {
    return '';
  }
};

State = (function() {
  function State(todos1) {
    this.todos = todos1;
    this.a = false;
    this.b = true;
    this.c = 0;
  }

  State.prototype.init = function() {
    return this.update('body', div({}, [
      checkbox({
        onchange: "state.filter(!state.a,state.b,state.c)",
        value: this.a
      }, ['completed']), checkbox({
        onchange: "state.filter(state.a,!state.b,state.c)",
        value: this.b
      }, ['not completed']), button({
        onclick: "state.filter(state.a,state.b,state.c+1)"
      }, [this.c]), todos({}, this.todos)
    ]));
  };

  State.prototype.filter = function(a, b, c) {
    this.a = a;
    this.b = b;
    this.c = c % 11;
    return this.init();
  };

  State.prototype.toggle = function(id) {
    var i, item, len, ref;
    ref = this.todos;
    for (i = 0, len = ref.length; i < len; i++) {
      item = ref[i];
      if (item.id === id) {
        item.completed = !item.completed;
      }
    }
    return this.init();
  };

  State.prototype.fix = function(hash) {
    var key, results, value;
    results = [];
    for (key in hash) {
      value = hash[key];
      results.push(this.update(key, value));
    }
    return results;
  };

  State.prototype.update = function(name, value) {
    var obj;
    print(name, value);
    this[name] = value;
    obj = document.getElementById(name);
    if (obj) {
      return obj.innerHTML = value;
    }
  };

  return State;

})();

state = null;

setup = function() {
  state = new State(data);
  return state.init();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsTUFBQSxHQUFTLFNBQUMsR0FBRCxFQUFLLEtBQUwsRUFBVyxRQUFYO0FBQ1IsTUFBQTtFQUFBLEdBQUEsR0FBTTs7QUFBQztTQUFBLFlBQUE7O21CQUFBLEdBQUEsR0FBTSxHQUFOLEdBQVksSUFBWixHQUFtQixJQUFuQixHQUEwQjtBQUExQjs7TUFBRCxDQUFxRCxDQUFDLElBQXRELENBQTJELEVBQTNEO1NBQ04sR0FBQSxHQUFJLEdBQUosR0FBVSxHQUFWLEdBQWMsR0FBZCxHQUFnQixDQUFDOztBQUFDO1NBQUEsMENBQUE7O21CQUFBO0FBQUE7O01BQUQsQ0FBNkIsQ0FBQyxJQUE5QixDQUFtQyxFQUFuQyxDQUFELENBQWhCLEdBQXdELElBQXhELEdBQTRELEdBQTVELEdBQWdFO0FBRnhEOztBQUlULE1BQUEsR0FBUyxTQUFDLENBQUQsRUFBRyxDQUFIO1NBQVMsTUFBQSxDQUFPLFFBQVAsRUFBZ0IsQ0FBaEIsRUFBa0IsQ0FBbEI7QUFBVDs7QUFDVCxHQUFBLEdBQU0sU0FBQyxDQUFELEVBQUcsQ0FBSDtTQUFTLE1BQUEsQ0FBTyxLQUFQLEVBQWEsQ0FBYixFQUFlLENBQWY7QUFBVDs7QUFDTixNQUFBLEdBQVMsU0FBQyxDQUFELEVBQUcsQ0FBSDtTQUFTLE1BQUEsQ0FBTyxRQUFQLEVBQWdCLENBQWhCLEVBQWtCLENBQWxCO0FBQVQ7O0FBQ1QsRUFBQSxHQUFLLFNBQUMsQ0FBRCxFQUFHLENBQUg7U0FBUyxNQUFBLENBQU8sSUFBUCxFQUFZLENBQVosRUFBYyxDQUFkO0FBQVQ7O0FBQ0wsRUFBQSxHQUFLLFNBQUMsQ0FBRCxFQUFHLENBQUg7U0FBUyxNQUFBLENBQU8sSUFBUCxFQUFZLENBQVosRUFBYyxDQUFkO0FBQVQ7O0FBQ0wsS0FBQSxHQUFRLFNBQUMsQ0FBRCxF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SUFBQyxDQUFBLElBQUQsQ0FBQTtFQUpROztrQkFNVCxNQUFBLEdBQVMsU0FBQyxFQUFEO0FBQ1IsUUFBQTtBQUFBO0FBQUEsU0FBQSxxQ0FBQTs7TUFDQyxJQUFHLElBQUksQ0FBQyxFQUFMLEtBQVMsRUFBWjtRQUFvQixJQUFJLENBQUMsU0FBTCxHQUFpQixDQUFJLElBQUksQ0FBQyxVQUE5Qzs7QUFERDtXQUVBLElBQUMsQ0FBQSxJQUFELENBQUE7RUFIUTs7a0JBS1QsR0FBQSxHQUFNLFNBQUMsSUFBRDtBQUFVLFFBQUE7QUFBQTtTQUFBLFdBQUE7O21CQUFBLElBQUMsQ0FBQSxNQUFELENBQVEsR0FBUixFQUFZLEtBQVo7QUFBQTs7RUFBVjs7a0JBQ04sTUFBQSxHQUFTLFNBQUMsSUFBRCxFQUFNLEtBQU47QUFDUixRQUFBO0lBQUEsS0FBQSxDQUFNLElBQU4sRUFBVyxLQUFYO0lBQ0EsSUFBRSxDQUFBLElBQUEsQ0FBRixHQUFVO0lBQ1YsR0FBQSxHQUFNLFFBQVEsQ0FBQyxjQUFULENBQXdCLElBQXhCO0lBQ04sSUFBRyxHQUFIO2FBQVksR0FBRyxDQUFDLFNBQUosR0FBZ0IsTUFBNUI7O0VBSlE7Ozs7OztBQU1WLEtBQUEsR0FBUTs7QUFDUixLQUFBLEdBQVEsU0FBQTtFQUNQLEtBQUEsR0FBUSxJQUFJLEtBQUosQ0FBVSxJQUFWO1NBQ1IsS0FBSyxDQUFDLElBQU4sQ0FBQTtBQUZPIiwic291cmNlc0NvbnRlbnQiOlsicmVuZGVyID0gKHRhZyxhdHRycyxjaGlsZHJlbikgLT5cclxuXHRyZXMgPSAoJyAnICsga2V5ICsgJz1cIicgKyBhdHRyICsgJ1wiJyBmb3Iga2V5LGF0dHIgb2YgYXR0cnMpLmpvaW4gJydcclxuXHRcIjwje3RhZ30je3Jlc30+I3soY2hpbGQgZm9yIGNoaWxkIGluIGNoaWxkcmVuKS5qb2luKCcnKX08LyN7dGFnfT5cXG5cIlxyXG5cclxuYnV0dG9uID0gKGEsYykgLT4gcmVuZGVyICdidXR0b24nLGEsY1xyXG5kaXYgPSAoYSxjKSAtPiByZW5kZXIgJ2RpdicsYSxjXHJcbnN0cm9uZyA9IChhLGMpIC0+IHJlbmRlciAnc3Ryb25nJyxhLGNcclxubGkgPSAoYSxjKSAtPiByZW5kZXIgJ2xpJyxhLGNcclxuaDMgPSAoYSxjKSAtPiByZW5kZXIgJ2gzJyxhLGNcclxuaW5wdXQgPSAoYSxjPVtdKSAtPiByZW5kZXIgJ2lucHV0JyxhLGNcclxuY2hlY2tib3ggPSAoYSxjPVtdKSAtPiBpbnB1dCAoXy5leHRlbmQgYSwge3R5cGU6J2NoZWNrYm94J30sIGlmIGEudmFsdWUgdGhlbiB7Y2hlY2tlZDp0cnVlfSksY1xyXG5cclxubWFueSA9IChjaGlsZHJlbixmKSAtPiBjaGlsZHJlbi5tYXAoZikuam9pbiAnJ1xyXG5cclxuIyBjaGVja2JveCDDpHIgc3bDpXIgYXR0IGF2bMOkc2EuIHRvZ2dsYSBvY2ggaMOlbGwgcmVkYSBww6UgdGlsbHN0w6VuZGV0IHNqw6Rsdi5cclxuXHJcbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuXHJcbnRvZG9zID0gKGF0dHJzLGNoaWxkcmVuPVtdKSAtPlxyXG5cdGRpdiB7fSxbXHJcblx0XHRoMyB7fSxbXCJUb2RvIExpc3QgKCN7Y2hpbGRyZW4ubGVuZ3RofSlcIl1cclxuXHRcdG1hbnkgY2hpbGRyZW4sIChpdGVtKSAtPiB0b2RvIGl0ZW1cclxuXHRdXHJcblxyXG50b2RvID0gKHByb3BzLGNoaWxkcmVuPVtdKSAtPlxyXG5cdHZpbGxrb3IxID0gc3RhdGUuYSBhbmQgcHJvcHMuY29tcGxldGVkIG9yIHN0YXRlLmIgYW5kIG5vdCBwcm9wcy5jb21wbGV0ZWRcclxuXHR2aWxsa29yMiA9IHN0YXRlLmM9PTAgb3Igc3RhdGUuYz09cHJvcHMudXNlcklkXHJcblx0aWYgdmlsbGtvcjEgYW5kIHZpbGxrb3IyIFxyXG5cdFx0ZGl2IHt9LFtcclxuXHRcdFx0Y2hlY2tib3gge29uY2hhbmdlOlwic3RhdGUudG9nZ2xlKCN7cHJvcHMuaWR9KVwiLCB2YWx1ZTogcHJvcHMuY29tcGxldGVkfVxyXG5cdFx0XHRzdHJvbmcge30sW1xyXG5cdFx0XHRcdHByb3BzLnRpdGxlXHJcblx0XHRcdFx0XCIgKCN7cHJvcHMudXNlcklkfSlcIlxyXG5cdFx0XHRdXHJcblx0XHRdXHJcblx0ZWxzZVxyXG5cdFx0JydcclxuXHJcbmNsYXNzIFN0YXRlIFxyXG5cdGNvbnN0cnVjdG9yIDogKEB0b2RvcykgLT5cclxuXHRcdEBhPWZhbHNlICMgY29tcGxldGVkXHJcblx0XHRAYj10cnVlICMgbm90IGNvbXBsZXRlZFxyXG5cdFx0QGM9MCAjIHVzZXJJZFxyXG5cclxuXHRpbml0IDogLT5cclxuXHRcdEB1cGRhdGUgJ2JvZHknLCBcclxuXHRcdFx0ZGl2IHt9LFtcclxuXHRcdFx0XHRjaGVja2JveCB7b25jaGFuZ2U6XCJzdGF0ZS5maWx0ZXIoIXN0YXRlLmEsc3RhdGUuYixzdGF0ZS5jKVwiLCB2YWx1ZTpAYX0sWydjb21wbGV0ZWQnXVxyXG5cdFx0XHRcdGNoZWNrYm94IHtvbmNoYW5nZTpcInN0YXRlLmZpbHRlcihzdGF0ZS5hLCFzdGF0ZS5iLHN0YXRlLmMpXCIsIHZhbHVlOkBifSxbJ25vdCBjb21wbGV0ZWQnXVxyXG5cdFx0XHRcdGJ1dHRvbiB7b25jbGljazpcInN0YXRlLmZpbHRlcihzdGF0ZS5hLHN0YXRlLmIsc3RhdGUuYysxKVwifSwgW0BjXVxyXG5cdFx0XHRcdHRvZG9zIHt9LEB0b2Rvc1xyXG5cdFx0XHRdXHJcblxyXG5cdGZpbHRlciA6IChhLGIsYykgLT5cclxuXHRcdEBhID0gYVxyXG5cdFx0QGIgPSBiXHJcblx0XHRAYyA9IGMlMTFcclxuXHRcdEBpbml0KClcclxuXHJcblx0dG9nZ2xlIDogKGlkKSAtPlxyXG5cdFx0Zm9yIGl0ZW0gaW4gQHRvZG9zXHJcblx0XHRcdGlmIGl0ZW0uaWQ9PWlkIHRoZW4gaXRlbS5jb21wbGV0ZWQgPSBub3QgaXRlbS5jb21wbGV0ZWRcclxuXHRcdEBpbml0KClcclxuXHJcblx0Zml4IDogKGhhc2gpIC0+IEB1cGRhdGUga2V5LHZhbHVlIGZvciBrZXksdmFsdWUgb2YgaGFzaFxyXG5cdHVwZGF0ZSA6IChuYW1lLHZhbHVlKSAtPlxyXG5cdFx0cHJpbnQgbmFtZSx2YWx1ZSBcclxuXHRcdEBbbmFtZV0gPSB2YWx1ZVxyXG5cdFx0b2JqID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgbmFtZVxyXG5cdFx0aWYgb2JqIHRoZW4gb2JqLmlubmVySFRNTCA9IHZhbHVlXHJcblxyXG5zdGF0ZSA9IG51bGxcclxuc2V0dXAgPSAtPiBcclxuXHRzdGF0ZSA9IG5ldyBTdGF0ZSBkYXRhXHJcblx0c3RhdGUuaW5pdCgpXHJcbiJdfQ==
//# sourceURL=C:\Lab\2017\144-Todos\coffee\sketch.coffee