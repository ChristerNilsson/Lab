{
  "version": 3,
  "file": "cell.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\cell.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class Cell\n\tconstructor : (@i, @j, @w) ->\n\t\t@x = @i * @w + @w/2\n\t\t@y = @j * @w + @w/2\n\t\t@neighborCount = 0\n\t\t@bee = false\n\t\t@revealed = false\n\t\t@flag = false \n\n\tshow : ->\n\t\tif @flag \n\t\t\timage images.flag, @x, @y, w,w\t\t\n\t\telse if @revealed\n\t\t\tif @bee\n\t\t\t\timage images.bomb, @x, @y, w,w\n\t\t\telse\n\t\t\t\tif @neighborCount > 0 then image images[@neighborCount], @x, @y, w,w\n\t\t\t\telse image images.tile_depressed, @x, @y, w,w\n\t\telse\n\t\t\timage images.tile, @x, @y, w,w\n\n\tcountBees : ->\n\t\tif @bee\n\t\t\t@neighborCount = -1\n\t\t\treturn\n\n\t\ttotal = 0\n\t\tfor xoff in [-1,0,1]\n\t\t\tfor yoff in [-1,0,1]\n\t\t\t\ti = @i + xoff\n\t\t\t\tj = @j + yoff\n\t\t\t\tif -1 < i < cols and -1 < j < rows\n\t\t\t\t\tneighbor = grid[i][j]\n\t\t\t\t\tif neighbor.bee then total++\n\t\t@neighborCount = total\n\n\tcontains : (x, y) -> @x < x < @x + @w and @y < y < @y + @w\n\ttoggle : -> \n\t\t@flag = not @flag\n\t\tif @flag then count++ else count--\n\n\treveal : ->\n\t\t@revealed = true\n\t\tcount++\n\t\tif @neighborCount == 0 then\t@floodFill()\n\n\tfloodFill : () ->\n\t\tfor xoff in [-1,0,1]\n\t\t\tfor yoff in [-1,0,1]\n\t\t\t\ti = @i + xoff\n\t\t\t\tj = @j + yoff\n\t\t\t\tif -1 < i < cols and -1 < j < rows\n\t\t\t\t\tneighbor = grid[i][j]\n\t\t\t\t\tif not (neighbor.bee or neighbor.revealed) then neighbor.reveal()"
  ]
}