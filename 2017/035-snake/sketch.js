// Generated by CoffeeScript 1.11.1
var body, ci, cj, d, draw, i, j, keyPressed, mousePressed, pickCherry, s, setup, total,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

i = 10;

j = 10;

s = 20;

d = 2;

body = [];

total = 10;

ci = 15;

cj = 15;

setup = function() {
  createCanvas(400, 400);
  frameRate(5);
  return rectMode(CENTER);
};

pickCherry = function() {
  if (dist(i, j, ci, cj) === 0) {
    total++;
    ci = int(random(20));
    return cj = int(random(20));
  }
};

draw = function() {
  var head, k, l, len, len1, ref, ref1, x, y;
  head = [i, j];
  bg(0.5);
  for (k = 0, len = body.length; k < len; k++) {
    ref = body[k], x = ref[0], y = ref[1];
    if (dist(x, y, i, j) === 0) {
      bg(1, 0, 0);
      return;
    }
  }
  fc(1);
  pickCherry();
  rect(s * i, s * j, s, s);
  for (l = 0, len1 = body.length; l < len1; l++) {
    ref1 = body[l], x = ref1[0], y = ref1[1];
    fc(1, 1, 0);
    rect(s * x, s * y, s, s);
  }
  fc(1, 0, 0);
  circle(s * ci, s * cj, s / 2);
  if (total < body.length) {
    body.shift();
  }
  body.push([i, j]);
  if (d === 0) {
    i = modulo(i + 1, 20);
  }
  if (d === 1) {
    j = modulo(j - 1, 20);
  }
  if (d === 2) {
    i = modulo(i - 1, 20);
  }
  if (d === 3) {
    return j = modulo(j + 1, 20);
  }
};

keyPressed = function() {
  if (keyCode === LEFT_ARROW) {
    d = (d + 1) % 4;
  }
  if (keyCode === RIGHT_ARROW) {
    return d = [3, 0, 1, 2][d];
  }
};

mousePressed = function() {
  return total++;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxrRkFBQTtFQUFBOztBQUFBLENBQUEsR0FBRTs7QUFDRixDQUFBLEdBQUU7O0FBQ0YsQ0FBQSxHQUFJOztBQUNKLENBQUEsR0FBSTs7QUFDSixJQUFBLEdBQU87O0FBQ1AsS0FBQSxHQUFROztBQUNSLEVBQUEsR0FBRzs7QUFDSCxFQUFBLEdBQUc7O0FBRUgsS0FBQSxHQUFRLFNBQUE7RUFDUCxZQUFBLENBQWEsR0FBYixFQUFpQixHQUFqQjtFQUNBLFNBQUEsQ0FBVSxDQUFWO1NBQ0EsUUFBQSxDQUFTLE1BQVQ7QUFITzs7QUFLUixVQUFBLEdBQWEsU0FBQTtFQUNaLElBQUcsSUFBQSxDQUFLLENBQUwsRUFBTyxDQUFQLEVBQVMsRUFBVCxFQUFZLEVBQVosQ0FBQSxLQUFtQixDQUF0QjtJQUNDLEtBQUE7SUFDQSxFQUFBLEdBQUssR0FBQSxDQUFJLE1BQUEsQ0FBTyxFQUFQLENBQUo7V0FDTCxFQUFBLEdBQUssR0FBQSxDQUFJLE1BQUEsQ0FBTyxFQUFQLENBQUosRUFITjs7QUFEWTs7QUFNYixJQUFBLEdBQU8sU0FBQTtBQUNOLE1BQUE7RUFBQSxJQUFBLEdBQU8sQ0FBQyxDQUFELEVBQUcsQ0FBSDtFQUNQLEVBQUEsQ0FBRyxHQUFIO0FBQ0EsT0FBQSxzQ0FBQTttQkFBSyxZQUFFO0lBQ04sSUFBRyxJQUFBLENBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxDQUFBLEtBQWUsQ0FBbEI7TUFDQyxFQUFBLENBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQO0FBQ0EsYUFGRDs7QUFERDtFQUtBLEVBQUEsQ0FBRyxDQUFIO0VBRUEsVUFBQSxDQUFBO0VBRUEsSUFBQSxDQUFLLENBQUEsR0FBRSxDQUFQLEVBQVMsQ0FBQSxHQUFFLENBQVgsRUFBYSxDQUFiLEVBQWUsQ0FBZjtBQUVBLE9BQUEsd0NBQUE7b0JBQUssYUFBRTtJQUNOLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVA7SUFDQSxJQUFBLENBQUssQ0FBQSxHQUFFLENBQVAsRUFBUyxDQUFBLEdBQUUsQ0FBWCxFQUFhLENBQWIsRUFBZSxDQUFmO0FBRkQ7RUFJQSxFQUFBLENBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQO0VBQ0EsTUFBQSxDQUFPLENBQUEsR0FBRSxFQUFULEVBQVksQ0FBQSxHQUFFLEVBQWQsRUFBaUIsQ0FBQSxHQUFFLENBQW5CO0VBRUEsSUFBRyxLQUFBLEdBQVEsSUFBSSxDQUFDLE1BQWhCO0lBQ0MsSUFBSSxDQUFDLEtBQUwsQ0FBQSxFQUREOztFQUVBLElBQUksQ0FBQyxJQUFMLENBQVUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFWO0VBRUEsSUFBRyxDQUFBLEtBQUcsQ0FBTjtJQUFhLENBQUEsVUFBSyxDQUFBLEdBQUksR0FBTSxJQUE1Qjs7RUFDQSxJQUFHLENBQUEsS0FBRyxDQUFOO0lBQWEsQ0FBQSxVQUFLLENBQUEsR0FBSSxHQUFNLElBQTVCOztFQUNBLElBQUcsQ0FBQSxLQUFHLENBQU47SUFBYSxDQUFBLFVBQUssQ0FBQSxHQUFJLEdBQU0sSUFBNUI7O0VBQ0EsSUFBRyxDQUFBLEtBQUcsQ0FBTjtXQUFhLENBQUEsVUFBSyxDQUFBLEdBQUksR0FBTSxJQUE1Qjs7QUE1Qk07O0FBOEJQLFVBQUEsR0FBYSxTQUFBO0VBQ1osSUFBRyxPQUFBLEtBQVcsVUFBZDtJQUE4QixDQUFBLEdBQUksQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFBLEdBQU0sRUFBeEM7O0VBQ0EsSUFBRyxPQUFBLEtBQVcsV0FBZDtXQUErQixDQUFBLEdBQUUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQLENBQVUsQ0FBQSxDQUFBLEVBQTNDOztBQUZZOztBQUliLFlBQUEsR0FBZSxTQUFBO1NBQUcsS0FBQTtBQUFIIiwic291cmNlc0NvbnRlbnQiOlsiaT0xMFxyXG5qPTEwXHJcbnMgPSAyMFxyXG5kID0gMlxyXG5ib2R5ID0gW11cclxudG90YWwgPSAxMFxyXG5jaT0xNVxyXG5jaj0xNVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyA0MDAsNDAwXHJcblx0ZnJhbWVSYXRlIDVcclxuXHRyZWN0TW9kZSBDRU5URVJcclxuXHJcbnBpY2tDaGVycnkgPSAtPlxyXG5cdGlmIGRpc3QoaSxqLGNpLGNqKSA9PSAwXHJcblx0XHR0b3RhbCsrXHJcblx0XHRjaSA9IGludCByYW5kb20gMjBcclxuXHRcdGNqID0gaW50IHJhbmRvbSAyMFxyXG5cclxuZHJhdyA9IC0+XHJcblx0aGVhZCA9IFtpLGpdXHJcblx0YmcgMC41XHJcblx0Zm9yIFt4LHldIGluIGJvZHlcclxuXHRcdGlmIGRpc3QoeCx5LGksaik9PTBcclxuXHRcdFx0YmcgMSwwLDBcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdGZjIDFcclxuXHJcblx0cGlja0NoZXJyeSgpXHJcblxyXG5cdHJlY3QgcyppLHMqaixzLHNcdFxyXG5cclxuXHRmb3IgW3gseV0gaW4gYm9keVxyXG5cdFx0ZmMgMSwxLDBcclxuXHRcdHJlY3Qgcyp4LHMqeSxzLHNcdFxyXG5cclxuXHRmYyAxLDAsMFxyXG5cdGNpcmNsZSBzKmNpLHMqY2oscy8yXHJcblxyXG5cdGlmIHRvdGFsIDwgYm9keS5sZW5ndGhcclxuXHRcdGJvZHkuc2hpZnQoKVxyXG5cdGJvZHkucHVzaCBbaSxqXVxyXG5cclxuXHRpZiBkPT0wIHRoZW4gaSA9IChpICsgMSkgJSUgMjBcclxuXHRpZiBkPT0xIHRoZW4gaiA9IChqIC0gMSkgJSUgMjBcclxuXHRpZiBkPT0yIHRoZW4gaSA9IChpIC0gMSkgJSUgMjBcclxuXHRpZiBkPT0zIHRoZW4gaiA9IChqICsgMSkgJSUgMjBcclxuXHJcbmtleVByZXNzZWQgPSAtPlxyXG5cdGlmIGtleUNvZGUgPT0gTEVGVF9BUlJPVyB0aGVuIGQgPSAoZCsxKSU0XHJcblx0aWYga2V5Q29kZSA9PSBSSUdIVF9BUlJPVyB0aGVuIGQ9WzMsMCwxLDJdW2RdXHJcblxyXG5tb3VzZVByZXNzZWQgPSAtPiB0b3RhbCsrXHJcbiJdfQ==
//# sourceURL=C:\Lab\2017\035-snake\sketch.coffee