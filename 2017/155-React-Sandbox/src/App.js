// Generated by CoffeeScript 2.0.3
  /*
  eslint-disable 
  */
var App, button, code, div, h1, header, img, input, p,
  indexOf = [].indexOf;

import React, {
  Component
} from 'react';

import _ from 'lodash';

import ReactDom from 'react-dom-factories';

({div, header, img, h1, p, code, input, button} = ReactDom);

export default App = class App extends Component {
  constructor() {
    var board, i;
    super();
    board = (function() {
      var j, results;
      results = [];
      for (i = j = 0; j <= 2; i = ++j) {
        results.push(Math.ceil(10 * Math.random()));
      }
      return results;
    })();
    this.state = {
      board,
      player: 0,
      enabled: [0, 1, 2],
      msg: ''
    };
  }

  handleClick(i) {
    var board, msg;
    board = this.state.board;
    if (board[i] > 0) {
      board[i]--;
      msg = _.isEqual(this.state.board, [0, 0, 0]) ? `Player ${this.state.player} wins!` : '';
      return this.setState({
        board,
        enabled: [i],
        msg
      });
    }
  }

  handleSwap() {
    var enabled, i;
    enabled = (function() {
      var j, results;
      results = [];
      for (i = j = 0; j <= 2; i = ++j) {
        if (this.state.board[i] > 0) {
          results.push(i);
        }
      }
      return results;
    }).call(this);
    return this.setState({
      player: 1 - this.state.player,
      enabled
    });
  }

  render() {
    return div({}, button({
      disabled: indexOf.call(this.state.enabled, 0) < 0,
      onClick: (() => {
        return this.handleClick(0);
      })
    }, this.state.board[0]), button({
      disabled: indexOf.call(this.state.enabled, 1) < 0,
      onClick: (() => {
        return this.handleClick(1);
      })
    }, this.state.board[1]), button({
      disabled: indexOf.call(this.state.enabled, 2) < 0,
      onClick: (() => {
        return this.handleClick(2);
      })
    }, this.state.board[2]), button({
      disabled: this.state.enabled.length !== 1,
      onClick: (() => {
        return this.handleSwap();
      })
    }, "swap"), p({}, `Player: ${this.state.player}`), p({}, this.state.msg));
  }

};

// <div>
// 	<button disabled={0 not in @state.enabled}  onClick={() => @handleClick 0}>{@state.board[0]}</button>
// 	<button disabled={1 not in @state.enabled}  onClick={() => @handleClick 1}>{@state.board[1]}</button>
// 	<button disabled={2 not in @state.enabled}  onClick={() => @handleClick 2}>{@state.board[2]}</button>
// 	<button disabled={@state.enabled.length!=1} onClick={() => @handleSwap()}>swap</button>
// 	<p>Player: {@state.player}</p>
// 	<p>{@state.msg}</p>
// </div>

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWUyXFxBcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7O0FBQUEsSUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLENBQUE7RUFBQTs7QUFNQSxPQUFPLEtBQVAsRUFBQTtFQUFnQixTQUFoQjtDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFQLE1BQUE7O0FBQ0EsT0FBTyxRQUFQLE1BQUE7O0FBQ0EsQ0FBQSxDQUFDLEdBQUQsRUFBTSxNQUFOLEVBQWMsR0FBZCxFQUFtQixFQUFuQixFQUF1QixDQUF2QixFQUEwQixJQUExQixFQUFnQyxLQUFoQyxFQUF1QyxNQUF2QyxDQUFBLEdBQWlELFFBQWpEOztBQUVBLE9BQUEsUUFBcUIsTUFBTixNQUFBLElBQUEsUUFBa0IsVUFBbEI7RUFDZCxXQUFjLENBQUEsQ0FBQTtBQUNiLFFBQUEsS0FBQSxFQUFBO1NBQUEsQ0FBQTtJQUNBLEtBQUE7O0FBQVM7TUFBQSxLQUFvQywwQkFBcEM7cUJBQUEsSUFBSSxDQUFDLElBQUwsQ0FBVSxFQUFBLEdBQUcsSUFBSSxDQUFDLE1BQUwsQ0FBQSxDQUFiO01BQUEsQ0FBQTs7O0lBQ1QsSUFBQyxDQUFBLEtBQUQsR0FBUztNQUFDLEtBQUQ7TUFBUSxNQUFBLEVBQU8sQ0FBZjtNQUFrQixPQUFBLEVBQVUsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FBNUI7TUFBcUMsR0FBQSxFQUFJO0lBQXpDO0VBSEk7O0VBS2QsV0FBYyxDQUFDLENBQUQsQ0FBQTtBQUNiLFFBQUEsS0FBQSxFQUFBO0lBQUEsS0FBQSxHQUFRLElBQUMsQ0FBQSxLQUFLLENBQUM7SUFDZixJQUFHLEtBQU0sQ0FBQSxDQUFBLENBQU4sR0FBUyxDQUFaO01BQ0MsS0FBTSxDQUFBLENBQUEsQ0FBTjtNQUNBLEdBQUEsR0FBUyxDQUFDLENBQUMsT0FBRixDQUFVLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBakIsRUFBd0IsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsQ0FBeEIsQ0FBSCxHQUF3QyxDQUFBLE9BQUEsQ0FBQSxDQUFVLElBQUMsQ0FBQSxLQUFLLENBQUMsTUFBakIsQ0FBd0IsTUFBeEIsQ0FBeEMsR0FBNkU7YUFDbkYsSUFBQyxDQUFBLFFBQUQsQ0FBVTtRQUFDLEtBQUQ7UUFBUSxPQUFBLEVBQVEsQ0FBQyxDQUFELENBQWhCO1FBQXFCO01BQXJCLENBQVYsRUFIRDs7RUFGYTs7RUFPZCxVQUFhLENBQUEsQ0FBQTtBQUNaLFFBQUEsT0FBQSxFQUFBO0lBQUEsT0FBQTs7QUFBVztNQUFBLEtBQVcsMEJBQVg7WUFBdUIsSUFBQyxDQUFBLEtBQUssQ0FBQyxLQUFNLENBQUEsQ0FBQSxDQUFiLEdBQWdCO3VCQUF2Qzs7TUFBQSxDQUFBOzs7V0FDWCxJQUFDLENBQUEsUUFBRCxDQUFVO01BQUMsTUFBQSxFQUFTLENBQUEsR0FBSSxJQUFDLENBQUEsS0FBSyxDQUFDLE1BQXJCO01BQTZCO0lBQTdCLENBQVY7RUFGWTs7RUFJYixNQUFTLENBQUEsQ0FBQTtXQUNSLEdBQUEsQ0FBSSxDQUFBLENBQUosRUFDQyxNQUFBLENBQU87TUFBQSxRQUFBLEVBQVUsYUFBUyxJQUFDLENBQUEsS0FBSyxDQUFDLE9BQWhCLEVBQUEsQ0FBQSxLQUFWO01BQW9DLE9BQUEsRUFBUyxDQUFDLENBQUEsQ0FBQSxHQUFBO2VBQU0sSUFBQyxDQUFBLFdBQUQsQ0FBYSxDQUFiO01BQU4sQ0FBRDtJQUE3QyxDQUFQLEVBQTRFLElBQUMsQ0FBQSxLQUFLLENBQUMsS0FBTSxDQUFBLENBQUEsQ0FBekYsQ0FERCxFQUVDLE1BQUEsQ0FBTztNQUFBLFFBQUEsRUFBVSxhQUFTLElBQUMsQ0FBQSxLQUFLLENBQUMsT0FBaEIsRUFBQSxDQUFBLEtBQVY7TUFBb0MsT0FBQSxFQUFTLENBQUMsQ0FBQSxDQUFBLEdBQUE7ZUFBTSxJQUFDLENBQUEsV0FBRCxDQUFhLENBQWI7TUFBTixDQUFEO0lBQTdDLENBQVAsRUFBNEUsSUFBQyxDQUFBLEtBQUssQ0FBQyxLQUFNLENBQUEsQ0FBQSxDQUF6RixDQUZELEVBR0MsTUFBQSxDQUFPO01BQUEsUUFBQSxFQUFVLGFBQVMsSUFBQyxDQUFBLEtBQUssQ0FBQyxPQUFoQixFQUFBLENBQUEsS0FBVjtNQUFvQyxPQUFBLEVBQVMsQ0FBQyxDQUFBLENBQUEsR0FBQTtlQUFNLElBQUMsQ0FBQSxXQUFELENBQWEsQ0FBYjtNQUFOLENBQUQ7SUFBN0MsQ0FBUCxFQUE0RSxJQUFDLENBQUEsS0FBSyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQXpGLENBSEQsRUFJQyxNQUFBLENBQU87TUFBQSxRQUFBLEVBQVUsSUFBQyxDQUFBLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBZixLQUF1QixDQUFqQztNQUFvQyxPQUFBLEVBQVMsQ0FBQyxDQUFBLENBQUEsR0FBQTtlQUFNLElBQUMsQ0FBQSxVQUFELENBQUE7TUFBTixDQUFEO0lBQTdDLENBQVAsRUFBMkUsTUFBM0UsQ0FKRCxFQUtDLENBQUEsQ0FBRSxDQUFBLENBQUYsRUFBTSxDQUFBLFFBQUEsQ0FBQSxDQUFXLElBQUMsQ0FBQSxLQUFLLENBQUMsTUFBbEIsQ0FBQSxDQUFOLENBTEQsRUFNQyxDQUFBLENBQUUsQ0FBQSxDQUFGLEVBQU0sSUFBQyxDQUFBLEtBQUssQ0FBQyxHQUFiLENBTkQ7RUFEUTs7QUFqQks7O0FBWGYiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbmVzbGludC1kaXNhYmxlIFxuIyMjXG5cbiMgTklNXG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCBSZWFjdERvbSBmcm9tICdyZWFjdC1kb20tZmFjdG9yaWVzJyBcbntkaXYsIGhlYWRlciwgaW1nLCBoMSwgcCwgY29kZSwgaW5wdXQsIGJ1dHRvbn0gPSBSZWFjdERvbVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBDb21wb25lbnQgXG5cdGNvbnN0cnVjdG9yIDogLT5cblx0XHRzdXBlcigpXG5cdFx0Ym9hcmQgPSAoTWF0aC5jZWlsIDEwKk1hdGgucmFuZG9tKCkgZm9yIGkgaW4gWzAuLjJdKVxuXHRcdEBzdGF0ZSA9IHtib2FyZCwgcGxheWVyOjAsIGVuYWJsZWQgOiBbMCwxLDJdLCBtc2c6Jyd9XG5cblx0aGFuZGxlQ2xpY2sgOiAoaSkgLT5cblx0XHRib2FyZCA9IEBzdGF0ZS5ib2FyZFxuXHRcdGlmIGJvYXJkW2ldPjAgXG5cdFx0XHRib2FyZFtpXS0tXG5cdFx0XHRtc2cgPSBpZiBfLmlzRXF1YWwgQHN0YXRlLmJvYXJkLCBbMCwwLDBdIHRoZW4gXCJQbGF5ZXIgI3tAc3RhdGUucGxheWVyfSB3aW5zIVwiIGVsc2UgJydcblx0XHRcdEBzZXRTdGF0ZSB7Ym9hcmQsIGVuYWJsZWQ6W2ldLCBtc2d9XG5cblx0aGFuZGxlU3dhcCA6IC0+XG5cdFx0ZW5hYmxlZCA9IChpIGZvciBpIGluIFswLi4yXSB3aGVuIEBzdGF0ZS5ib2FyZFtpXT4wKVxuXHRcdEBzZXRTdGF0ZSB7cGxheWVyIDogMSAtIEBzdGF0ZS5wbGF5ZXIsIGVuYWJsZWR9XG5cdFxuXHRyZW5kZXIgOiAtPlxuXHRcdGRpdiB7fSxcblx0XHRcdGJ1dHRvbiBkaXNhYmxlZDogMCBub3QgaW4gQHN0YXRlLmVuYWJsZWQsICBvbkNsaWNrOiAoKCkgPT4gQGhhbmRsZUNsaWNrIDApLCBAc3RhdGUuYm9hcmRbMF1cblx0XHRcdGJ1dHRvbiBkaXNhYmxlZDogMSBub3QgaW4gQHN0YXRlLmVuYWJsZWQsICBvbkNsaWNrOiAoKCkgPT4gQGhhbmRsZUNsaWNrIDEpLCBAc3RhdGUuYm9hcmRbMV1cblx0XHRcdGJ1dHRvbiBkaXNhYmxlZDogMiBub3QgaW4gQHN0YXRlLmVuYWJsZWQsICBvbkNsaWNrOiAoKCkgPT4gQGhhbmRsZUNsaWNrIDIpLCBAc3RhdGUuYm9hcmRbMl1cblx0XHRcdGJ1dHRvbiBkaXNhYmxlZDogQHN0YXRlLmVuYWJsZWQubGVuZ3RoIT0xLCBvbkNsaWNrOiAoKCkgPT4gQGhhbmRsZVN3YXAoKSksIFwic3dhcFwiXG5cdFx0XHRwIHt9LCBcIlBsYXllcjogI3tAc3RhdGUucGxheWVyfVwiXG5cdFx0XHRwIHt9LCBAc3RhdGUubXNnXG5cblx0XHQjIDxkaXY+XG5cdFx0IyBcdDxidXR0b24gZGlzYWJsZWQ9ezAgbm90IGluIEBzdGF0ZS5lbmFibGVkfSAgb25DbGljaz17KCkgPT4gQGhhbmRsZUNsaWNrIDB9PntAc3RhdGUuYm9hcmRbMF19PC9idXR0b24+XG5cdFx0IyBcdDxidXR0b24gZGlzYWJsZWQ9ezEgbm90IGluIEBzdGF0ZS5lbmFibGVkfSAgb25DbGljaz17KCkgPT4gQGhhbmRsZUNsaWNrIDF9PntAc3RhdGUuYm9hcmRbMV19PC9idXR0b24+XG5cdFx0IyBcdDxidXR0b24gZGlzYWJsZWQ9ezIgbm90IGluIEBzdGF0ZS5lbmFibGVkfSAgb25DbGljaz17KCkgPT4gQGhhbmRsZUNsaWNrIDJ9PntAc3RhdGUuYm9hcmRbMl19PC9idXR0b24+XG5cdFx0IyBcdDxidXR0b24gZGlzYWJsZWQ9e0BzdGF0ZS5lbmFibGVkLmxlbmd0aCE9MX0gb25DbGljaz17KCkgPT4gQGhhbmRsZVN3YXAoKX0+c3dhcDwvYnV0dG9uPlxuXHRcdCMgXHQ8cD5QbGF5ZXI6IHtAc3RhdGUucGxheWVyfTwvcD5cblx0XHQjIFx0PHA+e0BzdGF0ZS5tc2d9PC9wPlxuXHRcdCMgPC9kaXY+Il19
//# sourceURL=C:\Lab\2017\155-React-Sandbox\coffee2\App.coffee