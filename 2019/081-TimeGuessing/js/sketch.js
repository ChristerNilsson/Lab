// Generated by CoffeeScript 2.4.1
var LIMIT, body, button, clear, div, duration, myRound, option, p, pluralize, render, select, startingTime, title, toggle;

({render, body, div, p, button, select, option, title} = teacup);

LIMIT = 10; // %

startingTime = null;

duration = 1000; // ms

clear = function() {
  var i, len, ref, results, t;
  ref = [text1, text2, text3];
  results = [];
  for (i = 0, len = ref.length; i < len; i++) {
    t = ref[i];
    results.push(t.innerText = '');
  }
  return results;
};

myRound = function(x, decs = 0) {
  return Math.round(10 ** decs * x) / 10 ** decs;
};

pluralize = function(n, word) {
  return n + ' ' + word + (n === 1 ? '' : 's');
};

toggle = function() {
  var diff, percent, stoppingTime;
  if (btn.innerText === 'Start') {
    btn.innerText = 'Stop';
    startingTime = new Date;
    return clear();
  } else {
    btn.innerText = 'Start';
    stoppingTime = new Date;
    diff = stoppingTime - startingTime - duration; // ms
    text1.innerText = myRound((stoppingTime - startingTime) / 1000, 2) + ' seconds';
    text2.innerText = myRound(diff / 1000, 2) + ' seconds';
    percent = myRound(100 * diff / duration);
    text3.innerText = percent + '%';
    text3.style.color = 'yellow';
    if (percent < -LIMIT) {
      text3.style.color = 'red';
    }
    if (percent > +LIMIT) {
      return text3.style.color = 'green';
    }
  }
};

document.body.innerHTML = render(function() {
  var style1;
  style1 = 'width:100%; font-size:100px; text-align:center; text-align-last:center; background-color:black; color:white;';
  title('Time Guessing');
  p({
    style: 'background-color:red'
  }, function() {
    return select({
      style: style1,
      onchange: 'duration = 1000 * parseInt(this.value); btn.focus()'
    }, function() {
      var i, item, len, ref, results;
      ref = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 20, 30, 40, 50, 60];
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        item = ref[i];
        results.push(option({
          value: item,
          style: style1
        }, pluralize(item, 'second')));
      }
      return results;
    });
  });
  p(function() {
    return button('#btn', 'Start', {
      style: style1,
      onclick: 'toggle()',
      autofocus: true
    });
  });
  div('#text1', {
    style: style1
  }, 'duration');
  div('#text2', {
    style: style1
  }, 'difference');
  return div('#text3', {
    style: style1
  }, '%');
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsS0FBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsS0FBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQTs7QUFBQSxDQUFBLENBQUMsTUFBRCxFQUFTLElBQVQsRUFBZSxHQUFmLEVBQW9CLENBQXBCLEVBQXVCLE1BQXZCLEVBQStCLE1BQS9CLEVBQXVDLE1BQXZDLEVBQStDLEtBQS9DLENBQUEsR0FBd0QsTUFBeEQ7O0FBRUEsS0FBQSxHQUFRLEdBRlI7O0FBSUEsWUFBQSxHQUFlOztBQUNmLFFBQUEsR0FBVyxLQUxYOztBQU9BLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtBQUFHLE1BQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBO0FBQWlCO0FBQUE7RUFBQSxLQUFBLHFDQUFBOztpQkFBakIsQ0FBQyxDQUFDLFNBQUYsR0FBYztFQUFHLENBQUE7O0FBQXBCOztBQUNSLE9BQUEsR0FBVSxRQUFBLENBQUMsQ0FBRCxFQUFHLE9BQUssQ0FBUixDQUFBO1NBQWMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxFQUFBLElBQUksSUFBSixHQUFXLENBQXRCLENBQUEsR0FBeUIsRUFBQSxJQUFJO0FBQTNDOztBQUNWLFNBQUEsR0FBWSxRQUFBLENBQUMsQ0FBRCxFQUFHLElBQUgsQ0FBQTtTQUFZLENBQUEsR0FBSSxHQUFKLEdBQVUsSUFBVixHQUFpQixDQUFHLENBQUEsS0FBRyxDQUFOLEdBQWEsRUFBYixHQUFxQixHQUFyQjtBQUE3Qjs7QUFFWixNQUFBLEdBQVMsUUFBQSxDQUFBLENBQUE7QUFDUixNQUFBLElBQUEsRUFBQSxPQUFBLEVBQUE7RUFBQSxJQUFHLEdBQUcsQ0FBQyxTQUFKLEtBQWlCLE9BQXBCO0lBQ0MsR0FBRyxDQUFDLFNBQUosR0FBZ0I7SUFDaEIsWUFBQSxHQUFlLElBQUk7V0FDbkIsS0FBQSxDQUFBLEVBSEQ7R0FBQSxNQUFBO0lBS0MsR0FBRyxDQUFDLFNBQUosR0FBZ0I7SUFDaEIsWUFBQSxHQUFlLElBQUk7SUFDbkIsSUFBQSxHQUFPLFlBQUEsR0FBZSxZQUFmLEdBQThCLFNBRnJDO0lBR0EsS0FBSyxDQUFDLFNBQU4sR0FBa0IsT0FBQSxDQUFRLENBQUMsWUFBQSxHQUFlLFlBQWhCLENBQUEsR0FBOEIsSUFBdEMsRUFBNEMsQ0FBNUMsQ0FBQSxHQUFpRDtJQUNuRSxLQUFLLENBQUMsU0FBTixHQUFrQixPQUFBLENBQVEsSUFBQSxHQUFLLElBQWIsRUFBbUIsQ0FBbkIsQ0FBQSxHQUF3QjtJQUUxQyxPQUFBLEdBQVUsT0FBQSxDQUFRLEdBQUEsR0FBSSxJQUFKLEdBQVMsUUFBakI7SUFDVixLQUFLLENBQUMsU0FBTixHQUFrQixPQUFBLEdBQVU7SUFDNUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFaLEdBQW9CO0lBQ3BCLElBQUcsT0FBQSxHQUFVLENBQUMsS0FBZDtNQUF5QixLQUFLLENBQUMsS0FBSyxDQUFDLEtBQVosR0FBb0IsTUFBN0M7O0lBQ0EsSUFBRyxPQUFBLEdBQVUsQ0FBQyxLQUFkO2FBQXlCLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBWixHQUFvQixRQUE3QztLQWZEOztBQURROztBQWtCVCxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQWQsR0FBMEIsTUFBQSxDQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ2hDLE1BQUE7RUFBQSxNQUFBLEdBQVM7RUFDVCxLQUFBLENBQU0sZUFBTjtFQUNBLENBQUEsQ0FBRTtJQUFBLEtBQUEsRUFBTTtFQUFOLENBQUYsRUFBZ0MsUUFBQSxDQUFBLENBQUE7V0FDL0IsTUFBQSxDQUFPO01BQUEsS0FBQSxFQUFNLE1BQU47TUFBYyxRQUFBLEVBQVM7SUFBdkIsQ0FBUCxFQUFxRixRQUFBLENBQUEsQ0FBQTtBQUNwRixVQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBO0FBQUE7TUFBQSxLQUFBLHFDQUFBOztxQkFDQyxNQUFBLENBQU87VUFBQSxLQUFBLEVBQU0sSUFBTjtVQUFZLEtBQUEsRUFBTTtRQUFsQixDQUFQLEVBQWlDLFNBQUEsQ0FBVSxJQUFWLEVBQWUsUUFBZixDQUFqQztNQURELENBQUE7O0lBRG9GLENBQXJGO0VBRCtCLENBQWhDO0VBSUEsQ0FBQSxDQUFFLFFBQUEsQ0FBQSxDQUFBO1dBQ0QsTUFBQSxDQUFPLE1BQVAsRUFBZSxPQUFmLEVBQXdCO01BQUEsS0FBQSxFQUFNLE1BQU47TUFBYyxPQUFBLEVBQVEsVUFBdEI7TUFBa0MsU0FBQSxFQUFVO0lBQTVDLENBQXhCO0VBREMsQ0FBRjtFQUVBLEdBQUEsQ0FBSSxRQUFKLEVBQWM7SUFBQSxLQUFBLEVBQU07RUFBTixDQUFkLEVBQTRCLFVBQTVCO0VBQ0EsR0FBQSxDQUFJLFFBQUosRUFBYztJQUFBLEtBQUEsRUFBTTtFQUFOLENBQWQsRUFBNEIsWUFBNUI7U0FDQSxHQUFBLENBQUksUUFBSixFQUFjO0lBQUEsS0FBQSxFQUFNO0VBQU4sQ0FBZCxFQUE0QixHQUE1QjtBQVhnQyxDQUFQIiwic291cmNlc0NvbnRlbnQiOlsie3JlbmRlciwgYm9keSwgZGl2LCBwLCBidXR0b24sIHNlbGVjdCwgb3B0aW9uLCB0aXRsZX0gPSB0ZWFjdXBcclxuXHJcbkxJTUlUID0gMTAgIyAlXHJcblxyXG5zdGFydGluZ1RpbWUgPSBudWxsIFxyXG5kdXJhdGlvbiA9IDEwMDAgIyBtc1xyXG5cclxuY2xlYXIgPSAtPiB0LmlubmVyVGV4dCA9ICcnIGZvciB0IGluIFt0ZXh0MSx0ZXh0Mix0ZXh0M11cclxubXlSb3VuZCA9ICh4LGRlY3M9MCkgLT4gTWF0aC5yb3VuZCgxMCoqZGVjcyAqIHgpLzEwKipkZWNzXHJcbnBsdXJhbGl6ZSA9IChuLHdvcmQpIC0+IG4gKyAnICcgKyB3b3JkICsgaWYgbj09MSB0aGVuICcnIGVsc2UgJ3MnXHJcblxyXG50b2dnbGUgPSAtPlxyXG5cdGlmIGJ0bi5pbm5lclRleHQgPT0gJ1N0YXJ0J1xyXG5cdFx0YnRuLmlubmVyVGV4dCA9ICdTdG9wJ1xyXG5cdFx0c3RhcnRpbmdUaW1lID0gbmV3IERhdGVcclxuXHRcdGNsZWFyKClcclxuXHRlbHNlXHJcblx0XHRidG4uaW5uZXJUZXh0ID0gJ1N0YXJ0J1xyXG5cdFx0c3RvcHBpbmdUaW1lID0gbmV3IERhdGVcclxuXHRcdGRpZmYgPSBzdG9wcGluZ1RpbWUgLSBzdGFydGluZ1RpbWUgLSBkdXJhdGlvbiAjIG1zXHJcblx0XHR0ZXh0MS5pbm5lclRleHQgPSBteVJvdW5kKChzdG9wcGluZ1RpbWUgLSBzdGFydGluZ1RpbWUpLzEwMDAsIDIpICsgJyBzZWNvbmRzJ1xyXG5cdFx0dGV4dDIuaW5uZXJUZXh0ID0gbXlSb3VuZChkaWZmLzEwMDAsIDIpICsgJyBzZWNvbmRzJ1xyXG5cclxuXHRcdHBlcmNlbnQgPSBteVJvdW5kIDEwMCpkaWZmL2R1cmF0aW9uXHJcblx0XHR0ZXh0My5pbm5lclRleHQgPSBwZXJjZW50ICsgJyUnXHJcblx0XHR0ZXh0My5zdHlsZS5jb2xvciA9ICd5ZWxsb3cnXHJcblx0XHRpZiBwZXJjZW50IDwgLUxJTUlUIHRoZW4gdGV4dDMuc3R5bGUuY29sb3IgPSAncmVkJ1xyXG5cdFx0aWYgcGVyY2VudCA+ICtMSU1JVCB0aGVuIHRleHQzLnN0eWxlLmNvbG9yID0gJ2dyZWVuJ1xyXG5cclxuZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSByZW5kZXIgLT5cclxuXHRzdHlsZTEgPSAnd2lkdGg6MTAwJTsgZm9udC1zaXplOjEwMHB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgdGV4dC1hbGlnbi1sYXN0OmNlbnRlcjsgYmFja2dyb3VuZC1jb2xvcjpibGFjazsgY29sb3I6d2hpdGU7J1xyXG5cdHRpdGxlICdUaW1lIEd1ZXNzaW5nJ1xyXG5cdHAgc3R5bGU6J2JhY2tncm91bmQtY29sb3I6cmVkJywgLT5cclxuXHRcdHNlbGVjdCBzdHlsZTpzdHlsZTEsIG9uY2hhbmdlOidkdXJhdGlvbiA9IDEwMDAgKiBwYXJzZUludCh0aGlzLnZhbHVlKTsgYnRuLmZvY3VzKCknLCAtPlxyXG5cdFx0XHRmb3IgaXRlbSBpbiBbMSwyLDMsNCw1LDYsNyw4LDksMTAsMjAsMzAsNDAsNTAsNjBdXHJcblx0XHRcdFx0b3B0aW9uIHZhbHVlOml0ZW0sIHN0eWxlOnN0eWxlMSwgcGx1cmFsaXplKGl0ZW0sJ3NlY29uZCcpXHJcblx0cCAtPlxyXG5cdFx0YnV0dG9uICcjYnRuJywgJ1N0YXJ0Jywgc3R5bGU6c3R5bGUxLCBvbmNsaWNrOid0b2dnbGUoKScsIGF1dG9mb2N1czp0cnVlXHJcblx0ZGl2ICcjdGV4dDEnLCBzdHlsZTpzdHlsZTEsICdkdXJhdGlvbidcclxuXHRkaXYgJyN0ZXh0MicsIHN0eWxlOnN0eWxlMSwgJ2RpZmZlcmVuY2UnXHJcblx0ZGl2ICcjdGV4dDMnLCBzdHlsZTpzdHlsZTEsICclJ1xyXG4iXX0=
//# sourceURL=c:\Lab\2019\081-TimeGuessing\coffee\sketch.coffee