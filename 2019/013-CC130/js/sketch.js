// Generated by CoffeeScript 2.3.2
// Coding Challenge 130: Drawing with Fourier Transform and Epicycles
// Daniel Shiffman
// https://thecodingtrain.com/CodingChallenges/130-fourier-transform-drawing.html
// https://youtu.be/MY4luNgGfms
// https://editor.p5js.org/codingtrain/sketches/ldBlISrsQ
var draw, epiCycles, fourierX, fourierY, myround, pDistance, path, reduce, setup, simplereduce, start, time, x, y;

x = [];

y = [];

fourierX = null;

fourierY = null;

time = 0;

path = [];

start = 0;

pDistance = function(p, q, r) { // q is the point
  var A, B, C, D, dot, len_sq, param, s;
  A = q.x - p.x;
  B = q.y - p.y;
  C = r.x - p.x;
  D = r.y - p.y;
  dot = A * C + B * D;
  len_sq = C * C + D * D;
  param = len_sq === 0 ? -1 : dot / len_sq;
  if (param < 0) {
    s = p;
  } else if (param > 1) {
    s = r;
  } else {
    s = createVector(p.x + param * C, p.y + param * D);
  }
  return dist(q.x, q.y, s.x, s.y);
};

simplereduce = function(points) {
  var i, j, len, p, results;
  results = [];
  for (i = j = 0, len = points.length; j < len; i = ++j) {
    p = points[i];
    if (i % 8 === 0) {
      results.push(p);
    }
  }
  return results;
};

// d1 = maximum distance from q to pr
// d2 = maximum line length pq
reduce = function(points, d1, d2) {
  var i, j, len, p, q, r, ref, res;
  res = [];
  res.push(points[0]);
  p = points[0];
  q = points[1];
  r = points[2];
  ref = range(1, points.length - 1);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    if (d1 < pDistance(p, q, r) || dist(p.x, p.y, q.x, q.y) > d2) { // keep
      res.push(q);
      p = q;
    }
    q = r;
    r = points[i + 2];
  }
  res.push(_.last(points));
  return res;
};

myround = function(x, n) {
  return round(x * 10 ** n) / 10 ** n;
};

setup = function() {
  var newpoints, p;
  createCanvas(windowWidth, windowHeight);
  //newpoints = reduce points, 0.1185,1000 # 500 points
  //newpoints = reduce points, 0.182,20 # 500 points (slightly better)
  newpoints = simplify(points, 0.39, false); // 500 really nice.
  //newpoints = simplify points,0.39,true	# 
  //newpoints = simplify points,1	# 333 acceptable
  print(newpoints.length);
  //newpoints = ({x:myround(p.x,2), y:myround(p.y,2)} for p in newpoints)
  //print JSON.stringify newpoints
  x = (function() {
    var j, len, results;
    results = [];
    for (j = 0, len = newpoints.length; j < len; j++) {
      p = newpoints[j];
      results.push(p.x);
    }
    return results;
  })();
  y = (function() {
    var j, len, results;
    results = [];
    for (j = 0, len = newpoints.length; j < len; j++) {
      p = newpoints[j];
      results.push(p.y);
    }
    return results;
  })();
  fourierX = dft(x);
  fourierY = dft(y);
  fourierX.sort((a, b) => {
    return b.amp - a.amp;
  });
  fourierY.sort((a, b) => {
    return b.amp - a.amp;
  });
  return start = new Date();
};

epiCycles = function(x, y, rotation, fourier) {
  var amp, freq, j, len, phase;
  for (j = 0, len = fourier.length; j < len; j++) {
    ({freq, amp, phase} = fourier[j]);
    x += amp * cos(freq * time + phase + rotation);
    y += amp * sin(freq * time + phase + rotation);
  }
  return createVector(x, y);
};

draw = function() {
  var dt, i, j, len, p, v, vx, vy;
  background(0);
  noFill();
  stroke(255);
  translate(-2000, -1100);
  scale(2.5);
  //translate -1900,-900
  //scale 4

  //translate -2300,-1500
  //scale 5
  vx = epiCycles(width / 2 + 100, 100, 0, fourierX);
  vy = epiCycles(100, height / 2 + 100, HALF_PI, fourierY);
  v = createVector(vx.x, vy.y);
  path.unshift(v);
  //strokeWeight 1/4
  stroke(255, 0, 0);
  beginShape();
  for (i = j = 0, len = path.length; j < len; i = ++j) {
    p = path[i];
    vertex(p.x, p.y);
    if (i % 4 === 0) {
      stroke(255, 0, 0);
    }
    if (i % 4 === 1) {
      stroke(255, 255, 0);
    }
    if (i % 4 === 2) {
      stroke(0, 255, 0);
    }
    if (i % 4 === 3) {
      stroke(0, 0, 255);
    }
    rect(p.x - 1 / 2, p.y - 1 / 2, 1, 1);
  }
  //point p.x-1/2,p.y-1/2 # seems to be less accurate
  stroke(255);
  endShape();
  dt = TWO_PI / fourierY.length;
  time += dt;
  if (time > TWO_PI) {
    noLoop();
    time = 0;
    path = [];
    print((new Date()) - start);
    return start = new Date();
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztBQUFBLElBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBOztBQU1BLENBQUEsR0FBSTs7QUFDSixDQUFBLEdBQUk7O0FBQ0osUUFBQSxHQUFXOztBQUNYLFFBQUEsR0FBVzs7QUFDWCxJQUFBLEdBQU87O0FBQ1AsSUFBQSxHQUFPOztBQUNQLEtBQUEsR0FBUTs7QUFFUixTQUFBLEdBQVksUUFBQSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxDQUFBLEVBQUE7QUFDWCxNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQTtFQUFBLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLEdBQUEsR0FBTSxDQUFBLEdBQUksQ0FBSixHQUFRLENBQUEsR0FBSTtFQUNsQixNQUFBLEdBQVMsQ0FBQSxHQUFJLENBQUosR0FBUSxDQUFBLEdBQUk7RUFDckIsS0FBQSxHQUFXLE1BQUEsS0FBVSxDQUFiLEdBQW9CLENBQUMsQ0FBckIsR0FBNEIsR0FBQSxHQUFNO0VBQzFDLElBQUcsS0FBQSxHQUFRLENBQVg7SUFBa0IsQ0FBQSxHQUFJLEVBQXRCO0dBQUEs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QVgsRUFBYSxDQUFiO0VBQ0EsVUFBQSxDQUFBO0VBQ0EsS0FBQSw4Q0FBQTs7SUFDQyxNQUFBLENBQU8sQ0FBQyxDQUFDLENBQVQsRUFBWSxDQUFDLENBQUMsQ0FBZDtJQUNBLElBQUcsQ0FBQSxHQUFFLENBQUYsS0FBSyxDQUFSO01BQWUsTUFBQSxDQUFPLEdBQVAsRUFBVyxDQUFYLEVBQWEsQ0FBYixFQUFmOztJQUNBLElBQUcsQ0FBQSxHQUFFLENBQUYsS0FBSyxDQUFSO01BQWUsTUFBQSxDQUFPLEdBQVAsRUFBVyxHQUFYLEVBQWUsQ0FBZixFQUFmOztJQUNBLElBQUcsQ0FBQSxHQUFFLENBQUYsS0FBSyxDQUFSO01BQWUsTUFBQSxDQUFPLENBQVAsRUFBUyxHQUFULEVBQWEsQ0FBYixFQUFmOztJQUNBLElBQUcsQ0FBQSxHQUFFLENBQUYsS0FBSyxDQUFSO01BQWUsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsR0FBWCxFQUFmOztJQUVBLElBQUEsQ0FBSyxDQUFDLENBQUMsQ0FBRixHQUFJLENBQUEsR0FBRSxDQUFYLEVBQWEsQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUFBLEdBQUUsQ0FBbkIsRUFBcUIsQ0FBckIsRUFBdUIsQ0FBdkI7RUFQRCxDQXRCQTs7RUFnQ0EsTUFBQSxDQUFPLEdBQVA7RUFDQSxRQUFBLENBQUE7RUFFQSxFQUFBLEdBQUssTUFBQSxHQUFTLFFBQVEsQ0FBQztFQUN2QixJQUFBLElBQVE7RUFFUixJQUFHLElBQUEsR0FBTyxNQUFWO0lBQ0MsTUFBQSxDQUFBO0lBQ0EsSUFBQSxHQUFPO0lBQ1AsSUFBQSxHQUFPO0lBQ1AsS0FBQSxDQUFNLENBQUMsSUFBSSxJQUFKLENBQUEsQ0FBRCxDQUFBLEdBQWUsS0FBckI7V0FDQSxLQUFBLEdBQVEsSUFBSSxJQUFKLENBQUEsRUFMVDs7QUF2Q00iLCJzb3VyY2VzQ29udGVudCI6WyIjIENvZGluZyBDaGFsbGVuZ2UgMTMwOiBEcmF3aW5nIHdpdGggRm91cmllciBUcmFuc2Zvcm0gYW5kIEVwaWN5Y2xlc1xuIyBEYW5pZWwgU2hpZmZtYW5cbiMgaHR0cHM6Ly90aGVjb2Rpbmd0cmFpbi5jb20vQ29kaW5nQ2hhbGxlbmdlcy8xMzAtZm91cmllci10cmFuc2Zvcm0tZHJhd2luZy5odG1sXG4jIGh0dHBzOi8veW91dHUuYmUvTVk0bHVOZ0dmbXNcbiMgaHR0cHM6Ly9lZGl0b3IucDVqcy5vcmcvY29kaW5ndHJhaW4vc2tldGNoZXMvbGRCbElTcnNRXG5cbnggPSBbXVxueSA9IFtdXG5mb3VyaWVyWCA9IG51bGxcbmZvdXJpZXJZID0gbnVsbFxudGltZSA9IDBcbnBhdGggPSBbXVxuc3RhcnQgPSAwXG5cbnBEaXN0YW5jZSA9IChwLHEscikgLT4gIyBxIGlzIHRoZSBwb2ludFxuXHRBID0gcS54IC0gcC54XG5cdEIgPSBxLnkgLSBwLnlcblx0QyA9IHIueCAtIHAueFxuXHREID0gci55IC0gcC55XG5cdGRvdCA9IEEgKiBDICsgQiAqIERcblx0bGVuX3NxID0gQyAqIEMgKyBEICogRFxuXHRwYXJhbSA9IGlmIGxlbl9zcSA9PSAwIHRoZW4gLTEgZWxzZSBkb3QgLyBsZW5fc3Fcblx0aWYgcGFyYW0gPCAwIHRoZW4gcyA9IHBcblx0ZWxzZSBpZiBwYXJhbSA+IDEgdGhlbiBzID0gclxuXHRlbHNlIHMgPSBjcmVhdGVWZWN0b3IgcC54ICsgcGFyYW0gKiBDLCBwLnkgKyBwYXJhbSAqIERcblx0ZGlzdCBxLngscS55LHMueCxzLnlcblxuc2ltcGxlcmVkdWNlID0gKHBvaW50cykgLT4gKHAgZm9yIHAsaSBpbiBwb2ludHMgd2hlbiBpJTggPT0gMClcblxuIyBkMSA9IG1heGltdW0gZGlzdGFuY2UgZnJvbSBxIHRvIHByXG4jIGQyID0gbWF4aW11bSBsaW5lIGxlbmd0aCBwcVxucmVkdWNlID0gKHBvaW50cyxkMSxkMikgLT5cblx0cmVzID0gW11cblx0cmVzLnB1c2ggcG9pbnRzWzBdIFxuXHRwID0gcG9pbnRzWzBdXG5cdHEgPSBwb2ludHNbMV1cblx0ciA9IHBvaW50c1syXVxuXHRmb3IgaSBpbiByYW5nZSAxLHBvaW50cy5sZW5ndGgtMVxuXHRcdGlmIGQxIDwgcERpc3RhbmNlKHAscSxyKSBvciBkaXN0KHAueCxwLnkscS54LHEueSkgPiBkMiAjIGtlZXBcblx0XHRcdHJlcy5wdXNoIHFcblx0XHRcdHAgPSBxXG5cdFx0cSA9IHJcblx0XHRyID0gcG9pbnRzW2krMl1cdFx0XHRcblx0cmVzLnB1c2ggXy5sYXN0IHBvaW50c1xuXHRyZXNcblxubXlyb3VuZCA9ICh4LG4pIC0+IHJvdW5kKHgqMTAqKm4pLzEwKipuXG5cbnNldHVwID0gKCkgLT5cblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHRcblx0I25ld3BvaW50cyA9IHJlZHVjZSBwb2ludHMsIDAuMTE4NSwxMDAwICMgNTAwIHBvaW50c1xuXHQjbmV3cG9pbnRzID0gcmVkdWNlIHBvaW50cywgMC4xODIsMjAgIyA1MDAgcG9pbnRzIChzbGlnaHRseSBiZXR0ZXIpXG5cblx0bmV3cG9pbnRzID0gc2ltcGxpZnkgcG9pbnRzLDAuMzksZmFsc2VcdCMgNTAwIHJlYWxseSBuaWNlLlxuXHQjbmV3cG9pbnRzID0gc2ltcGxpZnkgcG9pbnRzLDAuMzksdHJ1ZVx0IyBcblx0I25ld3BvaW50cyA9IHNpbXBsaWZ5IHBvaW50cywxXHQjIDMzMyBhY2NlcHRhYmxlXG5cblx0cHJpbnQgbmV3cG9pbnRzLmxlbmd0aFxuXHQjbmV3cG9pbnRzID0gKHt4Om15cm91bmQocC54LDIpLCB5Om15cm91bmQocC55LDIpfSBmb3IgcCBpbiBuZXdwb2ludHMpXG5cdCNwcmludCBKU09OLnN0cmluZ2lmeSBuZXdwb2ludHNcblxuXHR4ID0gKHAueCBmb3IgcCBpbiBuZXdwb2ludHMpXG5cdHkgPSAocC55IGZvciBwIGluIG5ld3BvaW50cylcblx0XG5cdGZvdXJpZXJYID0gZGZ0IHhcblx0Zm91cmllclkgPSBkZnQgeVxuXG5cdGZvdXJpZXJYLnNvcnQgKGEsIGIpID0+IGIuYW1wIC0gYS5hbXBcblx0Zm91cmllclkuc29ydCAoYSwgYikgPT4gYi5hbXAgLSBhLmFtcFxuXG5cdHN0YXJ0ID0gbmV3IERhdGUoKVxuXG5lcGlDeWNsZXMgPSAoeCwgeSwgcm90YXRpb24sIGZvdXJpZXIpIC0+XG5cdGZvciB7ZnJlcSxhbXAscGhhc2V9IGluIGZvdXJpZXJcblx0XHR4ICs9IGFtcCAqIGNvcyBmcmVxICogdGltZSArIHBoYXNlICsgcm90YXRpb25cblx0XHR5ICs9IGFtcCAqIHNpbiBmcmVxICogdGltZSArIHBoYXNlICsgcm90YXRpb25cblx0Y3JlYXRlVmVjdG9yIHgsIHlcblxuZHJhdyA9IC0+XG5cdGJhY2tncm91bmQgMFxuXHRub0ZpbGwoKVxuXG5cdHN0cm9rZSAyNTVcblxuXHR0cmFuc2xhdGUgLTIwMDAsLTExMDBcblx0c2NhbGUgMi41XG5cblx0I3RyYW5zbGF0ZSAtMTkwMCwtOTAwXG5cdCNzY2FsZSA0XG5cblx0I3RyYW5zbGF0ZSAtMjMwMCwtMTUwMFxuXHQjc2NhbGUgNVxuXG5cdHZ4ID0gZXBpQ3ljbGVzIHdpZHRoIC8gMiArIDEwMCwgMTAwLCAwLCBmb3VyaWVyWFxuXHR2eSA9IGVwaUN5Y2xlcyAxMDAsIGhlaWdodCAvIDIgKyAxMDAsIEhBTEZfUEksIGZvdXJpZXJZXG5cdHYgPSBjcmVhdGVWZWN0b3IgdngueCwgdnkueVxuXHRwYXRoLnVuc2hpZnQgdlxuXG5cdCNzdHJva2VXZWlnaHQgMS80XG5cdHN0cm9rZSAyNTUsMCwwXG5cdGJlZ2luU2hhcGUoKVxuXHRmb3IgcCxpIGluIHBhdGhcblx0XHR2ZXJ0ZXggcC54LCBwLnlcblx0XHRpZiBpJTQ9PTAgdGhlbiBzdHJva2UgMjU1LDAsMCBcblx0XHRpZiBpJTQ9PTEgdGhlbiBzdHJva2UgMjU1LDI1NSwwIFxuXHRcdGlmIGklND09MiB0aGVuIHN0cm9rZSAwLDI1NSwwIFxuXHRcdGlmIGklND09MyB0aGVuIHN0cm9rZSAwLDAsMjU1IFxuXG5cdFx0cmVjdCBwLngtMS8yLHAueS0xLzIsMSwxXG5cdFx0I3BvaW50IHAueC0xLzIscC55LTEvMiAjIHNlZW1zIHRvIGJlIGxlc3MgYWNjdXJhdGVcblxuXHRzdHJva2UgMjU1XG5cdGVuZFNoYXBlKClcblxuXHRkdCA9IFRXT19QSSAvIGZvdXJpZXJZLmxlbmd0aFxuXHR0aW1lICs9IGR0XG5cblx0aWYgdGltZSA+IFRXT19QSVxuXHRcdG5vTG9vcCgpXG5cdFx0dGltZSA9IDBcblx0XHRwYXRoID0gW11cblx0XHRwcmludCAobmV3IERhdGUoKSkgLSBzdGFydFxuXHRcdHN0YXJ0ID0gbmV3IERhdGUoKSBcbiJdfQ==
//# sourceURL=C:\Lab\2019\013-CC130\coffee\sketch.coffee