// Generated by CoffeeScript 2.3.2
// Coding Challenge 130: Drawing with Fourier Transform and Epicycles
// Daniel Shiffman
// https://thecodingtrain.com/CodingChallenges/130-fourier-transform-drawing.html
// https://youtu.be/MY4luNgGfms
// https://editor.p5js.org/codingtrain/sketches/ldBlISrsQ
var draw, epiCycles, fourierX, fourierY, myround, pDistance, path, reduce, setup, simplereduce, start, time, x, y;

x = [];

y = [];

fourierX = null;

fourierY = null;

time = 0;

path = [];

start = 0;

pDistance = function(p, q, r) { // q is the point
  var A, B, C, D, dot, len_sq, param, s;
  A = q.x - p.x;
  B = q.y - p.y;
  C = r.x - p.x;
  D = r.y - p.y;
  dot = A * C + B * D;
  len_sq = C * C + D * D;
  param = len_sq === 0 ? -1 : dot / len_sq;
  if (param < 0) {
    s = p;
  } else if (param > 1) {
    s = r;
  } else {
    s = createVector(p.x + param * C, p.y + param * D);
  }
  return dist(q.x, q.y, s.x, s.y);
};

simplereduce = function(points) {
  var i, j, len, p, results;
  results = [];
  for (i = j = 0, len = points.length; j < len; i = ++j) {
    p = points[i];
    if (i % 8 === 0) {
      results.push(p);
    }
  }
  return results;
};

// d1 = maximum distance from q to pr
// d2 = maximum line length pq
reduce = function(points, d1, d2) {
  var i, j, len, p, q, r, ref, res;
  res = [];
  res.push(points[0]);
  p = points[0];
  q = points[1];
  r = points[2];
  ref = range(1, points.length - 1);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    if (d1 < pDistance(p, q, r) || dist(p.x, p.y, q.x, q.y) > d2) { // keep
      res.push(q);
      p = q;
    }
    q = r;
    r = points[i + 2];
  }
  res.push(_.last(points));
  return res;
};

myround = function(x, n) {
  return round(x * 10 ** n) / 10 ** n;
};

setup = function() {
  var newpoints, p;
  createCanvas(windowWidth, windowHeight);
  //newpoints = reduce points, 0.1185,1000 # 500 points
  newpoints = reduce(points, 0.182, 20); // 500 points (slightly better)
  print(newpoints.length);
  //newpoints = ({x:myround(p.x,2), y:myround(p.y,2)} for p in newpoints)
  //print JSON.stringify newpoints
  x = (function() {
    var j, len, results;
    results = [];
    for (j = 0, len = newpoints.length; j < len; j++) {
      p = newpoints[j];
      results.push(p.x);
    }
    return results;
  })();
  y = (function() {
    var j, len, results;
    results = [];
    for (j = 0, len = newpoints.length; j < len; j++) {
      p = newpoints[j];
      results.push(p.y);
    }
    return results;
  })();
  fourierX = dft(x);
  fourierY = dft(y);
  fourierX.sort((a, b) => {
    return b.amp - a.amp;
  });
  fourierY.sort((a, b) => {
    return b.amp - a.amp;
  });
  return start = new Date();
};

epiCycles = function(x, y, rotation, fourier) {
  var amp, freq, j, len, phase;
  for (j = 0, len = fourier.length; j < len; j++) {
    ({freq, amp, phase} = fourier[j]);
    x += amp * cos(freq * time + phase + rotation);
    y += amp * sin(freq * time + phase + rotation);
  }
  return createVector(x, y);
};

draw = function() {
  var dt, i, j, len, p, v, vx, vy;
  background(0);
  noFill();
  stroke(255);
  translate(-2300, -1300);
  scale(2.8);
  //translate -1900,-900
  //scale 4

  //translate -2300,-1500
  //scale 5
  vx = epiCycles(width / 2 + 100, 100, 0, fourierX);
  vy = epiCycles(100, height / 2 + 100, HALF_PI, fourierY);
  v = createVector(vx.x, vy.y);
  path.unshift(v);
  //strokeWeight 1/4
  stroke(255, 0, 0);
  beginShape();
  for (i = j = 0, len = path.length; j < len; i = ++j) {
    p = path[i];
    vertex(p.x, p.y);
    if (i % 4 === 0) {
      stroke(255, 0, 0);
    }
    if (i % 4 === 1) {
      stroke(255, 255, 0);
    }
    if (i % 4 === 2) {
      stroke(0, 255, 0);
    }
    if (i % 4 === 3) {
      stroke(0, 0, 255);
    }
    rect(p.x - 1 / 2, p.y - 1 / 2, 1, 1);
  }
  //point p.x-1/2,p.y-1/2 # seems to be less accurate
  stroke(255);
  endShape();
  dt = TWO_PI / fourierY.length;
  time += dt;
  if (time > TWO_PI) {
    noLoop();
    time = 0;
    path = [];
    print((new Date()) - start);
    return start = new Date();
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7OztBQUFBLElBQUEsSUFBQSxFQUFBLFNBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBOztBQU1BLENBQUEsR0FBSTs7QUFDSixDQUFBLEdBQUk7O0FBQ0osUUFBQSxHQUFXOztBQUNYLFFBQUEsR0FBVzs7QUFDWCxJQUFBLEdBQU87O0FBQ1AsSUFBQSxHQUFPOztBQUNQLEtBQUEsR0FBUTs7QUFFUixTQUFBLEdBQVksUUFBQSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxDQUFBLEVBQUE7QUFDWCxNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQTtFQUFBLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBRixHQUFNLENBQUMsQ0FBQztFQUNaLEdBQUEsR0FBTSxDQUFBLEdBQUksQ0FBSixHQUFRLENBQUEsR0FBSTtFQUNsQixNQUFBLEdBQVMsQ0FBQSxHQUFJLENBQUosR0FBUSxDQUFBLEdBQUk7RUFDckIsS0FBQSxHQUFXLE1BQUEsS0FBVSxDQUFiLEdBQW9CLENBQUMsQ0FBckIsR0FBNEIsR0FBQSxHQUFNO0VBQzFDLElBQUcsS0FBQSxHQUFRLENBQVg7SUFBa0IsQ0FBQSxHQUFJLEVBQXRCO0dBQUEs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QWEsQ0FBYjtFQUNBLFVBQUEsQ0FBQTtFQUNBLEtBQUEsOENBQUE7O0lBQ0MsTUFBQSxDQUFPLENBQUMsQ0FBQyxDQUFULEVBQVksQ0FBQyxDQUFDLENBQWQ7SUFDQSxJQUFHLENBQUEsR0FBRSxDQUFGLEtBQUssQ0FBUjtNQUFlLE1BQUEsQ0FBTyxHQUFQLEVBQVcsQ0FBWCxFQUFhLENBQWIsRUFBZjs7SUFDQSxJQUFHLENBQUEsR0FBRSxDQUFGLEtBQUssQ0FBUjtNQUFlLE1BQUEsQ0FBTyxHQUFQLEVBQVcsR0FBWCxFQUFlLENBQWYsRUFBZjs7SUFDQSxJQUFHLENBQUEsR0FBRSxDQUFGLEtBQUssQ0FBUjtNQUFlLE1BQUEsQ0FBTyxDQUFQLEVBQVMsR0FBVCxFQUFhLENBQWIsRUFBZjs7SUFDQSxJQUFHLENBQUEsR0FBRSxDQUFGLEtBQUssQ0FBUjtNQUFlLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLEdBQVgsRUFBZjs7SUFFQSxJQUFBLENBQUssQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUFBLEdBQUUsQ0FBWCxFQUFhLENBQUMsQ0FBQyxDQUFGLEdBQUksQ0FBQSxHQUFFLENBQW5CLEVBQXFCLENBQXJCLEVBQXVCLENBQXZCO0VBUEQsQ0F0QkE7O0VBZ0NBLE1BQUEsQ0FBTyxHQUFQO0VBQ0EsUUFBQSxDQUFBO0VBRUEsRUFBQSxHQUFLLE1BQUEsR0FBUyxRQUFRLENBQUM7RUFDdkIsSUFBQSxJQUFRO0VBRVIsSUFBRyxJQUFBLEdBQU8sTUFBVjtJQUNDLE1BQUEsQ0FBQTtJQUNBLElBQUEsR0FBTztJQUNQLElBQUEsR0FBTztJQUNQLEtBQUEsQ0FBTSxDQUFDLElBQUksSUFBSixDQUFBLENBQUQsQ0FBQSxHQUFlLEtBQXJCO1dBQ0EsS0FBQSxHQUFRLElBQUksSUFBSixDQUFBLEVBTFQ7O0FBdkNNIiwic291cmNlc0NvbnRlbnQiOlsiIyBDb2RpbmcgQ2hhbGxlbmdlIDEzMDogRHJhd2luZyB3aXRoIEZvdXJpZXIgVHJhbnNmb3JtIGFuZCBFcGljeWNsZXNcbiMgRGFuaWVsIFNoaWZmbWFuXG4jIGh0dHBzOi8vdGhlY29kaW5ndHJhaW4uY29tL0NvZGluZ0NoYWxsZW5nZXMvMTMwLWZvdXJpZXItdHJhbnNmb3JtLWRyYXdpbmcuaHRtbFxuIyBodHRwczovL3lvdXR1LmJlL01ZNGx1TmdHZm1zXG4jIGh0dHBzOi8vZWRpdG9yLnA1anMub3JnL2NvZGluZ3RyYWluL3NrZXRjaGVzL2xkQmxJU3JzUVxuXG54ID0gW11cbnkgPSBbXVxuZm91cmllclggPSBudWxsXG5mb3VyaWVyWSA9IG51bGxcbnRpbWUgPSAwXG5wYXRoID0gW11cbnN0YXJ0ID0gMFxuXG5wRGlzdGFuY2UgPSAocCxxLHIpIC0+ICMgcSBpcyB0aGUgcG9pbnRcblx0QSA9IHEueCAtIHAueFxuXHRCID0gcS55IC0gcC55XG5cdEMgPSByLnggLSBwLnhcblx0RCA9IHIueSAtIHAueVxuXHRkb3QgPSBBICogQyArIEIgKiBEXG5cdGxlbl9zcSA9IEMgKiBDICsgRCAqIERcblx0cGFyYW0gPSBpZiBsZW5fc3EgPT0gMCB0aGVuIC0xIGVsc2UgZG90IC8gbGVuX3NxXG5cdGlmIHBhcmFtIDwgMCB0aGVuIHMgPSBwXG5cdGVsc2UgaWYgcGFyYW0gPiAxIHRoZW4gcyA9IHJcblx0ZWxzZSBzID0gY3JlYXRlVmVjdG9yIHAueCArIHBhcmFtICogQywgcC55ICsgcGFyYW0gKiBEXG5cdGRpc3QgcS54LHEueSxzLngscy55XG5cbnNpbXBsZXJlZHVjZSA9IChwb2ludHMpIC0+IChwIGZvciBwLGkgaW4gcG9pbnRzIHdoZW4gaSU4ID09IDApXG5cbiMgZDEgPSBtYXhpbXVtIGRpc3RhbmNlIGZyb20gcSB0byBwclxuIyBkMiA9IG1heGltdW0gbGluZSBsZW5ndGggcHFcbnJlZHVjZSA9IChwb2ludHMsZDEsZDIpIC0+XG5cdHJlcyA9IFtdXG5cdHJlcy5wdXNoIHBvaW50c1swXSBcblx0cCA9IHBvaW50c1swXVxuXHRxID0gcG9pbnRzWzFdXG5cdHIgPSBwb2ludHNbMl1cblx0Zm9yIGkgaW4gcmFuZ2UgMSxwb2ludHMubGVuZ3RoLTFcblx0XHRpZiBkMSA8IHBEaXN0YW5jZShwLHEscikgb3IgZGlzdChwLngscC55LHEueCxxLnkpID4gZDIgIyBrZWVwXG5cdFx0XHRyZXMucHVzaCBxXG5cdFx0XHRwID0gcVxuXHRcdHEgPSByXG5cdFx0ciA9IHBvaW50c1tpKzJdXHRcdFx0XG5cdHJlcy5wdXNoIF8ubGFzdCBwb2ludHNcblx0cmVzXG5cbm15cm91bmQgPSAoeCxuKSAtPiByb3VuZCh4KjEwKipuKS8xMCoqblxuXG5zZXR1cCA9ICgpIC0+XG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0XG5cdCNuZXdwb2ludHMgPSByZWR1Y2UgcG9pbnRzLCAwLjExODUsMTAwMCAjIDUwMCBwb2ludHNcblx0bmV3cG9pbnRzID0gcmVkdWNlIHBvaW50cywgMC4xODIsMjAgIyA1MDAgcG9pbnRzIChzbGlnaHRseSBiZXR0ZXIpXG5cdHByaW50IG5ld3BvaW50cy5sZW5ndGhcblx0I25ld3BvaW50cyA9ICh7eDpteXJvdW5kKHAueCwyKSwgeTpteXJvdW5kKHAueSwyKX0gZm9yIHAgaW4gbmV3cG9pbnRzKVxuXHQjcHJpbnQgSlNPTi5zdHJpbmdpZnkgbmV3cG9pbnRzXG5cblx0eCA9IChwLnggZm9yIHAgaW4gbmV3cG9pbnRzKVxuXHR5ID0gKHAueSBmb3IgcCBpbiBuZXdwb2ludHMpXG5cdFxuXHRmb3VyaWVyWCA9IGRmdCB4XG5cdGZvdXJpZXJZID0gZGZ0IHlcblxuXHRmb3VyaWVyWC5zb3J0IChhLCBiKSA9PiBiLmFtcCAtIGEuYW1wXG5cdGZvdXJpZXJZLnNvcnQgKGEsIGIpID0+IGIuYW1wIC0gYS5hbXBcblxuXHRzdGFydCA9IG5ldyBEYXRlKClcblxuZXBpQ3ljbGVzID0gKHgsIHksIHJvdGF0aW9uLCBmb3VyaWVyKSAtPlxuXHRmb3Ige2ZyZXEsYW1wLHBoYXNlfSBpbiBmb3VyaWVyXG5cdFx0eCArPSBhbXAgKiBjb3MgZnJlcSAqIHRpbWUgKyBwaGFzZSArIHJvdGF0aW9uXG5cdFx0eSArPSBhbXAgKiBzaW4gZnJlcSAqIHRpbWUgKyBwaGFzZSArIHJvdGF0aW9uXG5cdGNyZWF0ZVZlY3RvciB4LCB5XG5cbmRyYXcgPSAtPlxuXHRiYWNrZ3JvdW5kIDBcblx0bm9GaWxsKClcblxuXHRzdHJva2UgMjU1XG5cblx0dHJhbnNsYXRlIC0yMzAwLC0xMzAwXG5cdHNjYWxlIDIuOFxuXG5cdCN0cmFuc2xhdGUgLTE5MDAsLTkwMFxuXHQjc2NhbGUgNFxuXG5cdCN0cmFuc2xhdGUgLTIzMDAsLTE1MDBcblx0I3NjYWxlIDVcblxuXHR2eCA9IGVwaUN5Y2xlcyB3aWR0aCAvIDIgKyAxMDAsIDEwMCwgMCwgZm91cmllclhcblx0dnkgPSBlcGlDeWNsZXMgMTAwLCBoZWlnaHQgLyAyICsgMTAwLCBIQUxGX1BJLCBmb3VyaWVyWVxuXHR2ID0gY3JlYXRlVmVjdG9yIHZ4LngsIHZ5Lnlcblx0cGF0aC51bnNoaWZ0IHZcblxuXHQjc3Ryb2tlV2VpZ2h0IDEvNFxuXHRzdHJva2UgMjU1LDAsMFxuXHRiZWdpblNoYXBlKClcblx0Zm9yIHAsaSBpbiBwYXRoXG5cdFx0dmVydGV4IHAueCwgcC55XG5cdFx0aWYgaSU0PT0wIHRoZW4gc3Ryb2tlIDI1NSwwLDAgXG5cdFx0aWYgaSU0PT0xIHRoZW4gc3Ryb2tlIDI1NSwyNTUsMCBcblx0XHRpZiBpJTQ9PTIgdGhlbiBzdHJva2UgMCwyNTUsMCBcblx0XHRpZiBpJTQ9PTMgdGhlbiBzdHJva2UgMCwwLDI1NSBcblxuXHRcdHJlY3QgcC54LTEvMixwLnktMS8yLDEsMVxuXHRcdCNwb2ludCBwLngtMS8yLHAueS0xLzIgIyBzZWVtcyB0byBiZSBsZXNzIGFjY3VyYXRlXG5cblx0c3Ryb2tlIDI1NVxuXHRlbmRTaGFwZSgpXG5cblx0ZHQgPSBUV09fUEkgLyBmb3VyaWVyWS5sZW5ndGhcblx0dGltZSArPSBkdFxuXG5cdGlmIHRpbWUgPiBUV09fUElcblx0XHRub0xvb3AoKVxuXHRcdHRpbWUgPSAwXG5cdFx0cGF0aCA9IFtdXG5cdFx0cHJpbnQgKG5ldyBEYXRlKCkpIC0gc3RhcnRcblx0XHRzdGFydCA9IG5ldyBEYXRlKCkgXG4iXX0=
//# sourceURL=C:\Lab\2019\013-CC130\coffee\sketch.coffee