// Generated by CoffeeScript 2.3.2
// Coding Challenge 130: Drawing with Fourier Transform and Epicycles
// Daniel Shiffman
// https://thecodingtrain.com/CodingChallenges/130-fourier-transform-drawing.html
// https://youtu.be/MY4luNgGfms
// https://editor.p5js.org/codingtrain/sketches/ldBlISrsQ
var dft;

dft = function(x) {
  var N, X, amp, freq, i, im, j, k, len, len1, n, phase, phi, re, ref, ref1;
  X = [];
  N = x.length;
  ref = range(N);
  for (i = 0, len = ref.length; i < len; i++) {
    k = ref[i];
    re = 0;
    im = 0;
    ref1 = range(N);
    for (j = 0, len1 = ref1.length; j < len1; j++) {
      n = ref1[j];
      phi = (TWO_PI * k * n) / N;
      re += x[n] * cos(phi);
      im -= x[n] * sin(phi);
    }
    re = re / N;
    im = im / N;
    freq = k;
    amp = sqrt(re * re + im * im);
    phase = atan2(im, re);
    X[k] = {re, im, freq, amp, phase};
  }
  return X;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm91cmllci5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxmb3VyaWVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7O0FBQUEsSUFBQTs7QUFNQSxHQUFBLEdBQU0sUUFBQSxDQUFDLENBQUQsQ0FBQTtBQUNMLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUE7RUFBQSxDQUFBLEdBQUk7RUFDSixDQUFBLEdBQUksQ0FBQyxDQUFDO0FBQ047RUFBQSxLQUFBLHFDQUFBOztJQUNDLEVBQUEsR0FBSztJQUNMLEVBQUEsR0FBSztBQUNMO0lBQUEsS0FBQSx3Q0FBQTs7TUFDQyxHQUFBLEdBQU0sQ0FBQyxNQUFBLEdBQVMsQ0FBVCxHQUFhLENBQWQsQ0FBQSxHQUFtQjtNQUN6QixFQUFBLElBQU0sQ0FBRSxDQUFBLENBQUEsQ0FBRixHQUFPLEdBQUEsQ0FBSSxHQUFKO01BQ2IsRUFBQSxJQUFNLENBQUUsQ0FBQSxDQUFBLENBQUYsR0FBTyxHQUFBLENBQUksR0FBSjtJQUhkO0lBSUEsRUFBQSxHQUFLLEVBQUEsR0FBSztJQUNWLEVBQUEsR0FBSyxFQUFBLEdBQUs7SUFFVixJQUFBLEdBQU87SUFDUCxHQUFBLEdBQU0sSUFBQSxDQUFLLEVBQUEsR0FBSyxFQUFMLEdBQVUsRUFBQSxHQUFLLEVBQXBCO0lBQ04sS0FBQSxHQUFRLEtBQUEsQ0FBTSxFQUFOLEVBQVUsRUFBVjtJQUNSLENBQUUsQ0FBQSxDQUFBLENBQUYsR0FBTyxDQUFFLEVBQUYsRUFBTSxFQUFOLEVBQVUsSUFBVixFQUFnQixHQUFoQixFQUFxQixLQUFyQjtFQWJSO1NBY0E7QUFqQksiLCJzb3VyY2VzQ29udGVudCI6WyIjIENvZGluZyBDaGFsbGVuZ2UgMTMwOiBEcmF3aW5nIHdpdGggRm91cmllciBUcmFuc2Zvcm0gYW5kIEVwaWN5Y2xlc1xuIyBEYW5pZWwgU2hpZmZtYW5cbiMgaHR0cHM6Ly90aGVjb2Rpbmd0cmFpbi5jb20vQ29kaW5nQ2hhbGxlbmdlcy8xMzAtZm91cmllci10cmFuc2Zvcm0tZHJhd2luZy5odG1sXG4jIGh0dHBzOi8veW91dHUuYmUvTVk0bHVOZ0dmbXNcbiMgaHR0cHM6Ly9lZGl0b3IucDVqcy5vcmcvY29kaW5ndHJhaW4vc2tldGNoZXMvbGRCbElTcnNRXG5cbmRmdCA9ICh4KSAtPlxuXHRYID0gW11cblx0TiA9IHgubGVuZ3RoXG5cdGZvciBrIGluIHJhbmdlIE5cblx0XHRyZSA9IDBcblx0XHRpbSA9IDBcblx0XHRmb3IgbiBpbiByYW5nZSBOXG5cdFx0XHRwaGkgPSAoVFdPX1BJICogayAqIG4pIC8gTlxuXHRcdFx0cmUgKz0geFtuXSAqIGNvcyBwaGlcblx0XHRcdGltIC09IHhbbl0gKiBzaW4gcGhpXG5cdFx0cmUgPSByZSAvIE5cblx0XHRpbSA9IGltIC8gTlxuXG5cdFx0ZnJlcSA9IGtcblx0XHRhbXAgPSBzcXJ0IHJlICogcmUgKyBpbSAqIGltXG5cdFx0cGhhc2UgPSBhdGFuMiBpbSwgcmVcblx0XHRYW2tdID0geyByZSwgaW0sIGZyZXEsIGFtcCwgcGhhc2UgfVxuXHRYXG4iXX0=
//# sourceURL=C:\Lab\2019\013-CC130\coffee\fourier.coffee