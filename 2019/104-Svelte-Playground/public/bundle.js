var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function d(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function s(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function a(){return p(" ")}function f(){return p("")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}let h;function g(t){h=t}const v=[],b=[],y=[],_=[],k=Promise.resolve();let x=!1;function j(t){y.push(t)}function O(){const t=new Set;do{for(;v.length;){const t=v.shift();g(t),w(t.$$)}for(;b.length;)b.pop()();for(let e=0;e<y.length;e+=1){const n=y[e];t.has(n)||(n(),t.add(n))}y.length=0}while(v.length);for(;_.length;)_.pop()();x=!1}function w(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(j))}const N=new Set;let C;function E(){C={r:0,c:[],p:C}}function M(){C.r||o(C.c),C=C.p}function B(t,e){t&&t.i&&(N.delete(t),t.i(e))}function P(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),C.c.push(()=>{N.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const A="undefined"!=typeof window?window:global;function H(t,n,c){const{fragment:d,on_mount:i,on_destroy:u,after_update:s}=t.$$;d.m(n,c),j(()=>{const n=i.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]}),s.forEach(j)}function L(t,e){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function S(t,e){t.$$.dirty||(v.push(t),x||(x=!0,k.then(O)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function q(e,r,c,d,i,u){const s=h;g(e);const l=r.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:null};let a=!1;var f;p.ctx=c?c(e,l,(t,n,o=n)=>(p.ctx&&i(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),a&&S(e,t)),n)):l,p.update(),a=!0,o(p.before_update),p.fragment=d(p.ctx),r.target&&(r.hydrate?p.fragment.l((f=r.target,Array.from(f.childNodes))):p.fragment.c(),r.intro&&B(e.$$.fragment),H(e,r.target,r.anchor),O()),g(s)}class G{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function R(e){var n,o,r,c,s,f,h,g,v,b,y=e.product.title+"",_=e.product.price+"";return{c(){n=l("div"),(o=l("button")).textContent="Add",r=a(),c=p(e.id),s=a(),f=l("b"),h=p(y),g=p(" $"),v=p(_),b=m(o,"click",e.click_handler)},m(t,e){i(t,n,e),d(n,o),d(n,r),d(n,c),d(n,s),d(n,f),d(f,h),d(n,g),d(n,v)},p(t,e){t.id&&$(c,e.id),t.product&&y!==(y=e.product.title+"")&&$(h,y),t.product&&_!==(_=e.product.price+"")&&$(v,_)},i:t,o:t,d(t){t&&u(n),b()}}}function T(t,e,n){let{id:o,product:r,add:c}=e;return t.$set=(t=>{"id"in t&&n("id",o=t.id),"product"in t&&n("product",r=t.product),"add"in t&&n("add",c=t.add)}),{id:o,product:r,add:c,click_handler:()=>c(o)}}class U extends G{constructor(t){super(),q(this,t,T,R,c,["id","product","add"])}}function z(e){var n,o,r,c,s,f,h,g,v,b,y,_,k=e.product.title+"",x=e.product.price+"";return{c(){n=l("div"),(o=l("button")).textContent="Remove",r=a(),c=p(e.id),s=a(),f=l("b"),h=p(k),g=p(" $"),v=p(x),b=a(),y=p(e.count),_=m(o,"click",e.click_handler)},m(t,e){i(t,n,e),d(n,o),d(n,r),d(n,c),d(n,s),d(n,f),d(f,h),d(n,g),d(n,v),d(n,b),d(n,y)},p(t,e){t.id&&$(c,e.id),t.product&&k!==(k=e.product.title+"")&&$(h,k),t.product&&x!==(x=e.product.price+"")&&$(v,x),t.count&&$(y,e.count)},i:t,o:t,d(t){t&&u(n),_()}}}function D(t,e,n){let{id:o,count:r,remove:c,product:d}=e;return t.$set=(t=>{"id"in t&&n("id",o=t.id),"count"in t&&n("count",r=t.count),"remove"in t&&n("remove",c=t.remove),"product"in t&&n("product",d=t.product)}),{id:o,count:r,remove:c,product:d,click_handler:()=>c(o)}}class F extends G{constructor(t){super(),q(this,t,D,z,c,["id","count","remove","product"])}}const{Object:I}=A;function J(t,e,n){const o=I.create(t);return o.id=e[n],o}function K(t,e,n){const o=I.create(t);return o.id=e[n],o}function Q(t){var e,n;let o=t.Object.keys(t.items),r=[];for(let e=0;e<o.length;e+=1)r[e]=X(J(t,o,e));const c=t=>P(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=f()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);i(t,e,o),n=!0},p(t,n){if(t.items||t.Object||t.remove||t.products){let d;for(o=n.Object.keys(n.items),d=0;d<o.length;d+=1){const c=J(n,o,d);r[d]?(r[d].p(t,c),B(r[d],1)):(r[d]=X(c),r[d].c(),B(r[d],1),r[d].m(e.parentNode,e))}for(E(),d=o.length;d<r.length;d+=1)c(d);M()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)B(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)P(r[t]);n=!1},d(t){s(r,t),t&&u(e)}}}function V(t){var e,n;let o=t.Object.keys(t.products),r=[];for(let e=0;e<o.length;e+=1)r[e]=Y(K(t,o,e));const c=t=>P(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=f()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);i(t,e,o),n=!0},p(t,n){if(t.Object||t.products||t.add){let d;for(o=n.Object.keys(n.products),d=0;d<o.length;d+=1){const c=K(n,o,d);r[d]?(r[d].p(t,c),B(r[d],1)):(r[d]=Y(c),r[d].c(),B(r[d],1),r[d].m(e.parentNode,e))}for(E(),d=o.length;d<r.length;d+=1)c(d);M()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)B(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)P(r[t]);n=!1},d(t){s(r,t),t&&u(e)}}}function W(t){var e,n=new F({props:{id:t.id,count:t.items[t.id],remove:t.remove,product:t.products[t.id]}});return{c(){n.$$.fragment.c()},m(t,o){H(n,t,o),e=!0},p(t,e){var o={};t.items&&(o.id=e.id),t.items&&(o.count=e.items[e.id]),(t.products||t.items)&&(o.product=e.products[e.id]),n.$set(o)},i(t){e||(B(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function X(t){var e,n,o=t.items[t.id]>0&&W(t);return{c(){o&&o.c(),e=f()},m(t,r){o&&o.m(t,r),i(t,e,r),n=!0},p(t,n){n.items[n.id]>0?o?(o.p(t,n),B(o,1)):((o=W(n)).c(),B(o,1),o.m(e.parentNode,e)):o&&(E(),P(o,1,1,()=>{o=null}),M())},i(t){n||(B(o),n=!0)},o(t){P(o),n=!1},d(t){o&&o.d(t),t&&u(e)}}}function Y(t){var e,n=new U({props:{id:t.id,product:t.products[t.id],add:t.add}});return{c(){n.$$.fragment.c()},m(t,o){H(n,t,o),e=!0},p(t,e){var o={};t.products&&(o.id=e.id),t.products&&(o.product=e.products[e.id]),n.$set(o)},i(t){e||(B(n.$$.fragment,t),e=!0)},o(t){P(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function Z(t){var e,n,r,c,s,h,g,v,b,y,_,k,x,j,O=Math.round(t.cost)+"",w=[V,Q],N=[];function C(t,e){return 0==e.page?0:1}return y=C(0,t),_=N[y]=w[y](t),{c(){(e=l("button")).textContent="Products",n=a(),r=l("button"),c=p("Carts ("),s=p(t.count),h=p(" $"),g=p(O),v=p(")"),b=a(),_.c(),k=f(),j=[m(e,"click",t.click_handler),m(r,"click",t.click_handler_1)]},m(t,o){i(t,e,o),i(t,n,o),i(t,r,o),d(r,c),d(r,s),d(r,h),d(r,g),d(r,v),i(t,b,o),N[y].m(t,o),i(t,k,o),x=!0},p(t,e){x&&!t.count||$(s,e.count),x&&!t.cost||O===(O=Math.round(e.cost)+"")||$(g,O);var n=y;(y=C(0,e))===n?N[y].p(t,e):(E(),P(N[n],1,1,()=>{N[n]=null}),M(),(_=N[y])||(_=N[y]=w[y](e)).c(),B(_,1),_.m(k.parentNode,k))},i(t){x||(B(_),x=!0)},o(t){P(_),x=!1},d(t){t&&(u(e),u(n),u(r),u(b)),N[y].d(t),t&&u(k),o(j)}}}function tt(t,e,n){let o=0;const r={};n("products",r.p1={title:"Gaming Mouse",price:29.99},r),n("products",r.p2={title:"Harry Potter 3",price:9.99},r),n("products",r.p3={title:"Used plastic bottle",price:.99},r),n("products",r.p4={title:"Half-dried plant",price:2.99},r);const c={};n("items",c.p1=2,c);let d,i;return t.$$.update=((t={items:1,products:1})=>{t.items&&n("count",d=Object.values(c).reduce((t,e)=>t+e)),(t.items||t.products)&&n("cost",i=Object.keys(c).reduce((t,e)=>r[e].price*c[e]+t,0))}),{page:o,products:r,items:c,remove:t=>n("items",c[t]--,c),add:t=>c[t]?n("items",c[t]++,c):n("items",c[t]=1,c),count:d,Object:Object,cost:i,click_handler:()=>n("page",o=0),click_handler_1:()=>n("page",o=1)}}return new class extends G{constructor(t){super(),q(this,t,tt,Z,c,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
