// Generated by CoffeeScript 2.3.2
var body, books, crap, createAndAppend, div, fmt, h1, h2, h3, head, img, li, lis, print, stack, title, ul;

print = function() {
  console.log(arguments[0]);
  return arguments[0];
};

createAndAppend = (type, parent, attributes = {}) => {
  var elem, key, value;
  elem = document.createElement(type);
  parent.appendChild(elem);
  for (key in attributes) {
    value = attributes[key];
    elem[key] = value;
  }
  return elem;
};

stack = [];

crap = (attributes, f, type) => {
  if (typeof type === 'object') {
    stack.push(type);
  } else {
    stack.push(createAndAppend(type, _.last(stack), attributes));
  }
  f();
  return stack.pop();
};

head = (f = () => {}) => {
  return crap({}, f, document.head);
};

body = (f = () => {}) => {
  return crap({}, f, document.body);
};

title = (attributes, f = () => {}) => {
  return crap(attributes, f, 'title');
};

h1 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h1');
};

h2 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h2');
};

h3 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h3');
};

ul = (attributes, f = () => {}) => {
  return crap(attributes, f, 'ul');
};

li = (attributes, f = () => {}) => {
  return crap(attributes, f, 'li');
};

img = (attributes, f = () => {}) => {
  return crap(attributes, f, 'img');
};

div = (attributes, f = () => {}) => {
  return crap(attributes, f, 'div');
};

// saves space in defining an object array
fmt = (titles, data, sep = '|') => {
  return print(data.map((lst) => {
    return _.object(titles.split(sep), lst.split(sep));
  }));
};

//##############################################################

// books = [
// 	{title: 'The Kite Runner',     author: 'Khaled Hosseini',	language: 'English', cover: '3.jpg', },
// 	{title: 'Number the Stars',    author: 'lois Lowry',      language: 'English', cover: '4.jpg', },
// 	{title: 'Pride and Prejudice', author: 'Jane Austen',     language: 'English', cover: '5.jpg', },
// 	{title: 'The Outsiders',       author: 'S.E Hinton',      language: 'English', cover: '7.jpg', },
// 	{title: 'Little Women',        author: 'Louisa May',      language: 'English', cover: '8.jpg', },
// ]
books = fmt('title|author|language|cover', ['The Kite Runner|Khaled Hosseini|English|3.jpg', 'Number the Stars|lois Lowry|English|4.jpg', 'Pride and Prejudice|Jane Austen|English|5.jpg', 'The Outsiders|S.E Hinton|English|7.jpg', 'Little Women|Louisa May|English|8.jpg']);

lis = []; // Just to show how elements in a loop can be accessed afterwards.

head(() => {
  return title({
    innerText: 'Elia Books'
  });
});

body(() => {
  h1({
    innerText: 'My Must Read Books',
    style: 'background:red'
  });
  return ul({
    style: 'background:yellow'
  }, () => {
    var book, i, len, results;
    results = [];
    for (i = 0, len = books.length; i < len; i++) {
      book = books[i];
      results.push(lis.push(li({
        style: 'background:gray'
      }, () => {
        h2({
          innerText: book.title,
          style: 'background:green; color:yellow'
        });
        h3({
          innerText: 'Author: ' + book.author,
          style: 'background:orange'
        });
        h3({
          innerText: 'Language: ' + book.language
        });
        return img({
          src: book.cover,
          height: 42
        });
      })));
    }
    return results;
  });
});

document.body.children[4].children[0].children[0].style.background = 'red';

lis[2].style.background = 'white';

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsZUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBOztBQUFBLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLE9BQU8sQ0FBQyxHQUFSLENBQVksU0FBVSxDQUFBLENBQUEsQ0FBdEI7U0FDQSxTQUFVLENBQUEsQ0FBQTtBQUZIOztBQUlSLGVBQUEsR0FBa0IsQ0FBQyxJQUFELEVBQU8sTUFBUCxFQUFlLGFBQWEsQ0FBQSxDQUE1QixDQUFBLEdBQUE7QUFDakIsTUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsSUFBQSxHQUFPLFFBQVEsQ0FBQyxhQUFULENBQXVCLElBQXZCO0VBQ1AsTUFBTSxDQUFDLFdBQVAsQ0FBbUIsSUFBbkI7RUFDa0IsS0FBQSxpQkFBQTs7SUFBbEIsSUFBSyxDQUFBLEdBQUEsQ0FBTCxHQUFZO0VBQU07U0FDbEI7QUFKaUI7O0FBTWxCLEtBQUEsR0FBUTs7QUFFUixJQUFBLEdBQU8sQ0FBQyxVQUFELEVBQWEsQ0FBYixFQUFnQixJQUFoQixDQUFBLEdBQUE7RUFDTixJQUFHLE9BQU8sSUFBUCxLQUFlLFFBQWxCO0lBQWdDLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBWCxFQUFoQztHQUFBLE1BQUE7SUFDSyxLQUFLLENBQUMsSUFBTixDQUFXLGVBQUEsQ0FBZ0IsSUFBaEIsRUFBc0IsQ0FBQyxDQUFDLElBQUYsQ0FBTyxLQUFQLENBQXRCLEVBQXFDLFVBQXJDLENBQVgsRUFETDs7RUFFQSxDQUFBLENBQUE7U0FDQSxLQUFL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LEVBQU87RUFBekMsQ0FBSDtTQUNBLEVBQUEsQ0FBRztJQUFDLEtBQUEsRUFBTztFQUFSLENBQUgsRUFBaUMsQ0FBQSxDQUFBLEdBQUE7QUFDaEMsUUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBO0lBQUEsS0FBQSx1Q0FBQTs7bUJBQ0MsR0FBRyxDQUFDLElBQUosQ0FBUyxFQUFBLENBQUc7UUFBQyxLQUFBLEVBQU87TUFBUixDQUFILEVBQStCLENBQUEsQ0FBQSxHQUFBO1FBQ3ZDLEVBQUEsQ0FBRztVQUFDLFNBQUEsRUFBVyxJQUFJLENBQUMsS0FBakI7VUFBd0IsS0FBQSxFQUFPO1FBQS9CLENBQUg7UUFDQSxFQUFBLENBQUc7VUFBQyxTQUFBLEVBQVcsVUFBQSxHQUFhLElBQUksQ0FBQyxNQUE5QjtVQUFzQyxLQUFBLEVBQU87UUFBN0MsQ0FBSDtRQUNBLEVBQUEsQ0FBRztVQUFDLFNBQUEsRUFBVyxZQUFBLEdBQWUsSUFBSSxDQUFDO1FBQWhDLENBQUg7ZUFDQSxHQUFBLENBQUk7VUFBQyxHQUFBLEVBQUssSUFBSSxDQUFDLEtBQVg7VUFBa0IsTUFBQSxFQUFRO1FBQTFCLENBQUo7TUFKdUMsQ0FBL0IsQ0FBVDtJQURELENBQUE7O0VBRGdDLENBQWpDO0FBRkksQ0FBTDs7QUFVQSxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQUssQ0FBQyxVQUF4RCxHQUFxRTs7QUFFckUsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQUssQ0FBQyxVQUFiLEdBQTBCIiwic291cmNlc0NvbnRlbnQiOlsicHJpbnQgPSAoKSAtPlxyXG5cdGNvbnNvbGUubG9nIGFyZ3VtZW50c1swXVxyXG5cdGFyZ3VtZW50c1swXVxyXG5cclxuY3JlYXRlQW5kQXBwZW5kID0gKHR5cGUsIHBhcmVudCwgYXR0cmlidXRlcyA9IHt9KSA9PlxyXG5cdGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50IHR5cGVcclxuXHRwYXJlbnQuYXBwZW5kQ2hpbGQgZWxlbVxyXG5cdGVsZW1ba2V5XSA9IHZhbHVlIGZvciBrZXksdmFsdWUgb2YgYXR0cmlidXRlc1xyXG5cdGVsZW1cclxuXHJcbnN0YWNrID0gW11cclxuXHJcbmNyYXAgPSAoYXR0cmlidXRlcywgZiwgdHlwZSkgPT5cclxuXHRpZiB0eXBlb2YgdHlwZSA9PSAnb2JqZWN0JyB0aGVuIHN0YWNrLnB1c2ggdHlwZVxyXG5cdGVsc2Ugc3RhY2sucHVzaCBjcmVhdGVBbmRBcHBlbmQgdHlwZSwgXy5sYXN0KHN0YWNrKSwgYXR0cmlidXRlc1xyXG5cdGYoKVxyXG5cdHN0YWNrLnBvcCgpXHJcblxyXG5oZWFkID0gICggICAgICAgICAgICBmID0gPT4pID0+IGNyYXAge30sIGYsIGRvY3VtZW50LmhlYWRcclxuYm9keSA9ICAoICAgICAgICAgICAgZiA9ID0+KSA9PiBjcmFwIHt9LCBmLCBkb2N1bWVudC5ib2R5XHJcbnRpdGxlID0gKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAndGl0bGUnXHJcbmgxID0gICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnaDEnXHJcbmgyID0gICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnaDInXHJcbmgzID0gICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnaDMnXHJcbnVsID0gICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAndWwnXHJcbmxpID0gICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnbGknXHJcbmltZyA9ICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnaW1nJ1xyXG5kaXYgPSAgIChhdHRyaWJ1dGVzLCBmID0gPT4pID0+IGNyYXAgYXR0cmlidXRlcywgZiwgJ2RpdidcclxuXHJcbiMgc2F2ZXMgc3BhY2UgaW4gZGVmaW5pbmcgYW4gb2JqZWN0IGFycmF5XHJcbmZtdCA9ICh0aXRsZXMsZGF0YSxzZXA9J3wnKSA9PiBwcmludCBkYXRhLm1hcCAobHN0KSA9PiBfLm9iamVjdCB0aXRsZXMuc3BsaXQoc2VwKSwgbHN0LnNwbGl0IHNlcFxyXG5cclxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG4jIGJvb2tzID0gW1xyXG4jIFx0e3RpdGxlOiAnVGhlIEtpdGUgUnVubmVyJywgICAgIGF1dGhvcjogJ0toYWxlZCBIb3NzZWluaScsXHRsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzMuanBnJywgfSxcclxuIyBcdHt0aXRsZTogJ051bWJlciB0aGUgU3RhcnMnLCAgICBhdXRob3I6ICdsb2lzIExvd3J5JywgICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzQuanBnJywgfSxcclxuIyBcdHt0aXRsZTogJ1ByaWRlIGFuZCBQcmVqdWRpY2UnLCBhdXRob3I6ICdKYW5lIEF1c3RlbicsICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzUuanBnJywgfSxcclxuIyBcdHt0aXRsZTogJ1RoZSBPdXRzaWRlcnMnLCAgICAgICBhdXRob3I6ICdTLkUgSGludG9uJywgICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzcuanBnJywgfSxcclxuIyBcdHt0aXRsZTogJ0xpdHRsZSBXb21lbicsICAgICAgICBhdXRob3I6ICdMb3Vpc2EgTWF5JywgICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzguanBnJywgfSxcclxuIyBdXHJcblxyXG5ib29rcyA9IGZtdCAndGl0bGV8YXV0aG9yfGxhbmd1YWdlfGNvdmVyJyxbXHJcblx0J1RoZSBLaXRlIFJ1bm5lcnxLaGFsZWQgSG9zc2Vpbml8RW5nbGlzaHwzLmpwZycsXHJcblx0J051bWJlciB0aGUgU3RhcnN8bG9pcyBMb3dyeXxFbmdsaXNofDQuanBnJyxcclxuXHQnUHJpZGUgYW5kIFByZWp1ZGljZXxKYW5lIEF1c3RlbnxFbmdsaXNofDUuanBnJyxcclxuXHQnVGhlIE91dHNpZGVyc3xTLkUgSGludG9ufEVuZ2xpc2h8Ny5qcGcnLFxyXG5cdCdMaXR0bGUgV29tZW58TG91aXNhIE1heXxFbmdsaXNofDguanBnJyxcclxuXVxyXG5cclxubGlzID0gW10gIyBKdXN0IHRvIHNob3cgaG93IGVsZW1lbnRzIGluIGEgbG9vcCBjYW4gYmUgYWNjZXNzZWQgYWZ0ZXJ3YXJkcy5cclxuXHJcbmhlYWQgPT5cclxuXHR0aXRsZSB7aW5uZXJUZXh0OiAnRWxpYSBCb29rcyd9XHJcbmJvZHkgPT5cclxuXHRoMSB7aW5uZXJUZXh0OiAnTXkgTXVzdCBSZWFkIEJvb2tzJywgc3R5bGU6ICdiYWNrZ3JvdW5kOnJlZCd9XHJcblx0dWwge3N0eWxlOiAnYmFja2dyb3VuZDp5ZWxsb3cnfSwgPT5cclxuXHRcdGZvciBib29rIGluIGJvb2tzXHJcblx0XHRcdGxpcy5wdXNoIGxpIHtzdHlsZTogJ2JhY2tncm91bmQ6Z3JheSd9LCA9PlxyXG5cdFx0XHRcdGgyIHtpbm5lclRleHQ6IGJvb2sudGl0bGUsIHN0eWxlOiAnYmFja2dyb3VuZDpncmVlbjsgY29sb3I6eWVsbG93J31cclxuXHRcdFx0XHRoMyB7aW5uZXJUZXh0OiAnQXV0aG9yOiAnICsgYm9vay5hdXRob3IsIHN0eWxlOiAnYmFja2dyb3VuZDpvcmFuZ2UnfVxyXG5cdFx0XHRcdGgzIHtpbm5lclRleHQ6ICdMYW5ndWFnZTogJyArIGJvb2subGFuZ3VhZ2V9XHJcblx0XHRcdFx0aW1nIHtzcmM6IGJvb2suY292ZXIsIGhlaWdodDogNDJ9XHJcblxyXG5kb2N1bWVudC5ib2R5LmNoaWxkcmVuWzRdLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLnN0eWxlLmJhY2tncm91bmQgPSAncmVkJ1xyXG5cclxubGlzWzJdLnN0eWxlLmJhY2tncm91bmQgPSAnd2hpdGUnIl19
//# sourceURL=c:\Lab\2019\061-Foo-Elia\coffee\sketch.coffee