// Generated by CoffeeScript 2.3.2
var body, books, crap, createAndAppend, div, h1, h2, h3, head, img, li, lis, stack, title, ul;

createAndAppend = (type, parent, attributes = {}) => {
  var elem, key, value;
  elem = document.createElement(type);
  parent.appendChild(elem);
  for (key in attributes) {
    value = attributes[key];
    elem[key] = value;
  }
  return elem;
};

stack = [];

crap = (attributes, f, type) => {
  if (typeof type === 'object') {
    stack.push(type);
  } else {
    stack.push(createAndAppend(type, _.last(stack), attributes));
  }
  f();
  return stack.pop();
};

head = (f = () => {}) => {
  return crap({}, f, document.head);
};

body = (f = () => {}) => {
  return crap({}, f, document.body);
};

title = (attributes, f = () => {}) => {
  return crap(attributes, f, 'title');
};

h1 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h1');
};

h2 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h2');
};

h3 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h3');
};

ul = (attributes, f = () => {}) => {
  return crap(attributes, f, 'ul');
};

li = (attributes, f = () => {}) => {
  return crap(attributes, f, 'li');
};

img = (attributes, f = () => {}) => {
  return crap(attributes, f, 'img');
};

div = (attributes, f = () => {}) => {
  return crap(attributes, f, 'div');
};

//##############################################################
books = [
  {
    title: 'The Kite Runner',
    author: 'Khaled Hosseini',
    language: 'English',
    cover: '3.jpg'
  },
  {
    title: 'Number the Stars',
    author: 'lois Lowry',
    language: 'English',
    cover: '4.jpg'
  },
  {
    title: 'Pride and Prejudice',
    author: 'Jane Austen',
    language: 'English',
    cover: '5.jpg'
  },
  {
    title: 'The Outsiders',
    author: 'S.E Hinton',
    language: 'English',
    cover: '7.jpg'
  },
  {
    title: 'Little Women',
    author: 'Louisa May',
    language: 'English',
    cover: '8.jpg'
  }
];

lis = []; // Just to show how elements in a loop can be accessed afterwards.

head(() => {
  return title({
    innerText: 'Elia Books'
  });
});

body(() => {
  h1({
    innerText: 'My Must Read Books',
    style: 'background:red'
  });
  return ul({
    style: 'background:yellow'
  }, () => {
    var book, i, len, results;
    results = [];
    for (i = 0, len = books.length; i < len; i++) {
      book = books[i];
      results.push(lis.push(li({
        style: 'background:gray'
      }, () => {
        h2({
          innerText: book.title,
          style: 'background:green; color:yellow'
        });
        h3({
          innerText: 'Author: ' + book.author,
          style: 'background:orange'
        });
        h3({
          innerText: 'Language: ' + book.language
        });
        return img({
          src: book.cover,
          height: 42
        });
      })));
    }
    return results;
  });
});

document.body.children[4].children[0].children[0].style.background = 'red';

lis[2].style.background = 'white';

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxJQUFBLEVBQUEsZUFBQSxFQUFBLEdBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQTs7QUFBQSxlQUFBLEdBQWtCLENBQUMsSUFBRCxFQUFPLE1BQVAsRUFBZSxhQUFhLENBQUEsQ0FBNUIsQ0FBQSxHQUFBO0FBQ2pCLE1BQUEsSUFBQSxFQUFBLEdBQUEsRUFBQTtFQUFBLElBQUEsR0FBTyxRQUFRLENBQUMsYUFBVCxDQUF1QixJQUF2QjtFQUNQLE1BQU0sQ0FBQyxXQUFQLENBQW1CLElBQW5CO0VBQ2tCLEtBQUEsaUJBQUE7O0lBQWxCLElBQUssQ0FBQSxHQUFBLENBQUwsR0FBWTtFQUFNO1NBQ2xCO0FBSmlCOztBQU1sQixLQUFBLEdBQVE7O0FBRVIsSUFBQSxHQUFPLENBQUMsVUFBRCxFQUFhLENBQWIsRUFBZ0IsSUFBaEIsQ0FBQSxHQUFBO0VBQ04sSUFBRyxPQUFPLElBQVAsS0FBZSxRQUFsQjtJQUFnQyxLQUFLLENBQUMsSUFBTixDQUFXLElBQVgsRUFBaEM7R0FBQSxNQUFBO0lBQ0ssS0FBSyxDQUFDLElBQU4sQ0FBVyxlQUFBLENBQWdCLElBQWhCLEVBQXNCLENBQUMsQ0FBQyxJQUFGLENBQU8sS0FBUCxDQUF0QixFQUFxQyxVQUFyQyxDQUFYLEVBREw7O0VBRUEsQ0FBQSxDQUFBO1NBQ0EsS0FBSyxDQUFDLEdBQU4sQ0FBQTtBQUpNOztBQU1QLElBQUEsR0FBUSxDQUFhLElBQUksQ0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFqQixDQUFBLEdBQUE7U0FBd0IsSUFBQSxDQUFLLENBQUEsQ0FBTCxFQUFTLENBQVQsRUFB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QSxFQUFXLG9CQUFaO0lBQWtDLEtBQUEsRUFBTztFQUF6QyxDQUFIO1NBQ0EsRUFBQSxDQUFHO0lBQUMsS0FBQSxFQUFPO0VBQVIsQ0FBSCxFQUFpQyxDQUFBLENBQUEsR0FBQTtBQUNoQyxRQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUE7SUFBQSxLQUFBLHVDQUFBOzttQkFDQyxHQUFHLENBQUMsSUFBSixDQUFTLEVBQUEsQ0FBRztRQUFDLEtBQUEsRUFBTztNQUFSLENBQUgsRUFBK0IsQ0FBQSxDQUFBLEdBQUE7UUFDdkMsRUFBQSxDQUFHO1VBQUMsU0FBQSxFQUFXLElBQUksQ0FBQyxLQUFqQjtVQUF3QixLQUFBLEVBQU87UUFBL0IsQ0FBSDtRQUNBLEVBQUEsQ0FBRztVQUFDLFNBQUEsRUFBVyxVQUFBLEdBQWEsSUFBSSxDQUFDLE1BQTlCO1VBQXNDLEtBQUEsRUFBTztRQUE3QyxDQUFIO1FBQ0EsRUFBQSxDQUFHO1VBQUMsU0FBQSxFQUFXLFlBQUEsR0FBZSxJQUFJLENBQUM7UUFBaEMsQ0FBSDtlQUNBLEdBQUEsQ0FBSTtVQUFDLEdBQUEsRUFBSyxJQUFJLENBQUMsS0FBWDtVQUFrQixNQUFBLEVBQVE7UUFBMUIsQ0FBSjtNQUp1QyxDQUEvQixDQUFUO0lBREQsQ0FBQTs7RUFEZ0MsQ0FBakM7QUFGSSxDQUFMOztBQVVBLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUyxDQUFBLENBQUEsQ0FBRSxDQUFDLFFBQVMsQ0FBQSxDQUFBLENBQUUsQ0FBQyxRQUFTLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBSyxDQUFDLFVBQXhELEdBQXFFOztBQUVyRSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsS0FBSyxDQUFDLFVBQWIsR0FBMEIiLCJzb3VyY2VzQ29udGVudCI6WyJjcmVhdGVBbmRBcHBlbmQgPSAodHlwZSwgcGFyZW50LCBhdHRyaWJ1dGVzID0ge30pID0+XHJcblx0ZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgdHlwZVxyXG5cdHBhcmVudC5hcHBlbmRDaGlsZCBlbGVtXHJcblx0ZWxlbVtrZXldID0gdmFsdWUgZm9yIGtleSx2YWx1ZSBvZiBhdHRyaWJ1dGVzXHJcblx0ZWxlbVxyXG5cclxuc3RhY2sgPSBbXVxyXG5cclxuY3JhcCA9IChhdHRyaWJ1dGVzLCBmLCB0eXBlKSA9PlxyXG5cdGlmIHR5cGVvZiB0eXBlID09ICdvYmplY3QnIHRoZW4gc3RhY2sucHVzaCB0eXBlXHJcblx0ZWxzZSBzdGFjay5wdXNoIGNyZWF0ZUFuZEFwcGVuZCB0eXBlLCBfLmxhc3Qoc3RhY2spLCBhdHRyaWJ1dGVzXHJcblx0ZigpXHJcblx0c3RhY2sucG9wKClcclxuXHJcbmhlYWQgPSAgKCAgICAgICAgICAgIGYgPSA9PikgPT4gY3JhcCB7fSwgZiwgZG9jdW1lbnQuaGVhZFxyXG5ib2R5ID0gICggICAgICAgICAgICBmID0gPT4pID0+IGNyYXAge30sIGYsIGRvY3VtZW50LmJvZHlcclxudGl0bGUgPSAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd0aXRsZSdcclxuaDEgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoMSdcclxuaDIgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoMidcclxuaDMgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoMydcclxudWwgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd1bCdcclxubGkgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdsaSdcclxuaW1nID0gICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdpbWcnXHJcbmRpdiA9ICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnZGl2J1xyXG5cclxuIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXHJcblxyXG5ib29rcyA9IFtcclxuXHR7dGl0bGU6ICdUaGUgS2l0ZSBSdW5uZXInLCAgICAgYXV0aG9yOiAnS2hhbGVkIEhvc3NlaW5pJyxcdGxhbmd1YWdlOiAnRW5nbGlzaCcsIGNvdmVyOiAnMy5qcGcnLCB9LFxyXG5cdHt0aXRsZTogJ051bWJlciB0aGUgU3RhcnMnLCAgICBhdXRob3I6ICdsb2lzIExvd3J5JywgICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzQuanBnJywgfSxcclxuXHR7dGl0bGU6ICdQcmlkZSBhbmQgUHJlanVkaWNlJywgYXV0aG9yOiAnSmFuZSBBdXN0ZW4nLCAgICAgbGFuZ3VhZ2U6ICdFbmdsaXNoJywgY292ZXI6ICc1LmpwZycsIH0sXHJcblx0e3RpdGxlOiAnVGhlIE91dHNpZGVycycsICAgICAgIGF1dGhvcjogJ1MuRSBIaW50b24nLCAgICAgIGxhbmd1YWdlOiAnRW5nbGlzaCcsIGNvdmVyOiAnNy5qcGcnLCB9LFxyXG5cdHt0aXRsZTogJ0xpdHRsZSBXb21lbicsICAgICAgICBhdXRob3I6ICdMb3Vpc2EgTWF5JywgICAgICBsYW5ndWFnZTogJ0VuZ2xpc2gnLCBjb3ZlcjogJzguanBnJywgfSxcclxuXVxyXG5cclxubGlzID0gW10gIyBKdXN0IHRvIHNob3cgaG93IGVsZW1lbnRzIGluIGEgbG9vcCBjYW4gYmUgYWNjZXNzZWQgYWZ0ZXJ3YXJkcy5cclxuXHJcbmhlYWQgPT5cclxuXHR0aXRsZSB7aW5uZXJUZXh0OiAnRWxpYSBCb29rcyd9XHJcbmJvZHkgPT5cclxuXHRoMSB7aW5uZXJUZXh0OiAnTXkgTXVzdCBSZWFkIEJvb2tzJywgc3R5bGU6ICdiYWNrZ3JvdW5kOnJlZCd9XHJcblx0dWwge3N0eWxlOiAnYmFja2dyb3VuZDp5ZWxsb3cnfSwgPT5cclxuXHRcdGZvciBib29rIGluIGJvb2tzXHJcblx0XHRcdGxpcy5wdXNoIGxpIHtzdHlsZTogJ2JhY2tncm91bmQ6Z3JheSd9LCA9PlxyXG5cdFx0XHRcdGgyIHtpbm5lclRleHQ6IGJvb2sudGl0bGUsIHN0eWxlOiAnYmFja2dyb3VuZDpncmVlbjsgY29sb3I6eWVsbG93J31cclxuXHRcdFx0XHRoMyB7aW5uZXJUZXh0OiAnQXV0aG9yOiAnICsgYm9vay5hdXRob3IsIHN0eWxlOiAnYmFja2dyb3VuZDpvcmFuZ2UnfVxyXG5cdFx0XHRcdGgzIHtpbm5lclRleHQ6ICdMYW5ndWFnZTogJyArIGJvb2subGFuZ3VhZ2V9XHJcblx0XHRcdFx0aW1nIHtzcmM6IGJvb2suY292ZXIsIGhlaWdodDogNDJ9XHJcblxyXG5kb2N1bWVudC5ib2R5LmNoaWxkcmVuWzRdLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLnN0eWxlLmJhY2tncm91bmQgPSAncmVkJ1xyXG5cclxubGlzWzJdLnN0eWxlLmJhY2tncm91bmQgPSAnd2hpdGUnIl19
//# sourceURL=c:\Lab\2019\061-Foo-Elia\coffee\sketch.coffee