// Generated by CoffeeScript 2.3.2
var fs, guess, hm, letter, readline, reset,
  indexOf = [].indexOf;

fs = require('fs');

readline = require('readline-sync');

hm = {};

reset = function() {
  var words;
  words = fs.readFileSync('words.txt', 'utf8').split('\r\n');
  hm.secret = words[Math.floor(words.length * Math.random())];
  hm.guessed = hm.secret.split('').map(() => {
    return '_';
  });
  return hm.history = [];
};

guess = function(letter) {
  var i, j, len, ltr, ref, results;
  hm.history.push(letter);
  ref = hm.secret;
  results = [];
  for (i = j = 0, len = ref.length; j < len; i = ++j) {
    ltr = ref[i];
    if (ltr === letter) {
      results.push(hm.guessed[i] = letter);
    } else {
      results.push(void 0);
    }
  }
  return results;
};

reset();

while (true) {
  letter = readline.question(hm.guessed.join(' ') + ' > ');
  if (letter.length === 0) {
    reset();
  } else {
    guess(letter);
  }
  if (indexOf.call(hm.guessed, '_') < 0) {
    console.log(hm.history.join(''));
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsRUFBQSxFQUFBLEtBQUEsRUFBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBO0VBQUE7O0FBQUEsRUFBQSxHQUFLLE9BQUEsQ0FBUSxJQUFSOztBQUNMLFFBQUEsR0FBVyxPQUFBLENBQVEsZUFBUjs7QUFFWCxFQUFBLEdBQUssQ0FBQTs7QUFFTCxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7QUFDUCxNQUFBO0VBQUEsS0FBQSxHQUFRLEVBQUUsQ0FBQyxZQUFILENBQWdCLFdBQWhCLEVBQTZCLE1BQTdCLENBQW9DLENBQUMsS0FBckMsQ0FBMkMsTUFBM0M7RUFDUixFQUFFLENBQUMsTUFBSCxHQUFZLEtBQU0sQ0FBQSxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssQ0FBQyxNQUFOLEdBQWUsSUFBSSxDQUFDLE1BQUwsQ0FBQSxDQUExQixDQUFBO0VBQ2xCLEVBQUUsQ0FBQyxPQUFILEdBQWEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFWLENBQWdCLEVBQWhCLENBQW1CLENBQUMsR0FBcEIsQ0FBd0IsQ0FBQSxDQUFBLEdBQUE7V0FBRztFQUFILENBQXhCO1NBQ2IsRUFBRSxDQUFDLE9BQUgsR0FBYTtBQUpOOztBQU1SLEtBQUEsR0FBUSxRQUFBLENBQUMsTUFBRCxDQUFBO0FBQ1AsTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFYLENBQWdCLE1BQWhCO0FBQ0E7QUFBQTtFQUFBLEtBQUEsNkNBQUE7O0lBQ0MsSUFBRyxHQUFBLEtBQU8sTUFBVjttQkFBc0IsRUFBRSxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVgsR0FBZ0IsUUFBdEM7S0FBQSxNQUFBOzJCQUFBOztFQURELENBQUE7O0FBRk87O0FBS1IsS0FBQSxDQUFBOztBQUNBLE9BQU0sSUFBTjtFQUNDLE1BQUEsR0FBUyxRQUFRLENBQUMsUUFBVCxDQUFrQixFQUFFLENBQUMsT0FBTyxDQUFDLElBQVgsQ0FBZ0IsR0FBaEIsQ0FBQSxHQUF1QixLQUF6QztFQUNULElBQUcsTUFBTSxDQUFDLE1BQVAsS0FBaUIsQ0FBcEI7SUFBMkIsS0FBQSxDQUFBLEVBQTNCO0dBQUEsTUFBQTtJQUF3QyxLQUFBLENBQU0sTUFBTixFQUF4Qzs7RUFDQSxJQUFHLGFBQVcsRUFBRSxDQUFDLE9BQWQsRUFBQSxHQUFBLEtBQUg7SUFBOEIsT0FBTyxDQUFDLEdBQVIsQ0FBWSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQVgsQ0FBZ0IsRUFBaEIsQ0FBWixFQUE5Qjs7QUFIRCIsInNvdXJjZXNDb250ZW50IjpbImZzID0gcmVxdWlyZSAnZnMnXHJcbnJlYWRsaW5lID0gcmVxdWlyZSAncmVhZGxpbmUtc3luYydcclxuXHJcbmhtID0ge31cclxuXHJcbnJlc2V0ID0gLT5cclxuXHR3b3JkcyA9IGZzLnJlYWRGaWxlU3luYygnd29yZHMudHh0JywgJ3V0ZjgnKS5zcGxpdCAnXFxyXFxuJ1xyXG5cdGhtLnNlY3JldCA9IHdvcmRzW01hdGguZmxvb3Igd29yZHMubGVuZ3RoICogTWF0aC5yYW5kb20oKV1cclxuXHRobS5ndWVzc2VkID0gaG0uc2VjcmV0LnNwbGl0KCcnKS5tYXAgPT4gJ18nXHJcblx0aG0uaGlzdG9yeSA9IFtdXHJcblxyXG5ndWVzcyA9IChsZXR0ZXIpIC0+XHJcblx0aG0uaGlzdG9yeS5wdXNoIGxldHRlclxyXG5cdGZvciBsdHIsaSBpbiBobS5zZWNyZXQgXHJcblx0XHRpZiBsdHIgPT0gbGV0dGVyIHRoZW4gaG0uZ3Vlc3NlZFtpXSA9IGxldHRlclxyXG5cclxucmVzZXQoKVxyXG53aGlsZSB0cnVlXHJcblx0bGV0dGVyID0gcmVhZGxpbmUucXVlc3Rpb24gaG0uZ3Vlc3NlZC5qb2luKCcgJykgKyAnID4gJ1xyXG5cdGlmIGxldHRlci5sZW5ndGggPT0gMCB0aGVuIHJlc2V0KCkgZWxzZSBndWVzcyBsZXR0ZXJcclxuXHRpZiAnXycgbm90IGluIGhtLmd1ZXNzZWQgdGhlbiBjb25zb2xlLmxvZyBobS5oaXN0b3J5LmpvaW4gJydcclxuIl19
//# sourceURL=c:\Lab\2019\067-HangWhatever-Readline\coffee\sketch.coffee