// Generated by CoffeeScript 2.3.2
var WORDS, fs, guess, hm, letter, readline, reset, show,
  indexOf = [].indexOf;

fs = require('fs');

readline = require('readline-sync');

WORDS = 'words.txt';

hm = {};

reset = function() {
  var words;
  words = fs.readFileSync(WORDS, 'utf8').split('\r\n');
  hm.secret = words[Math.floor(words.length * Math.random())];
  hm.guessed = hm.secret.split('').map(() => {
    return '_';
  });
  return hm.history = [];
};

show = function() {
  return hm.guessed.join(' ') + ' > ';
};

guess = function(letter) {
  var i, j, len, ltr, ref, results;
  hm.history.push(letter);
  ref = hm.secret;
  results = [];
  for (i = j = 0, len = ref.length; j < len; i = ++j) {
    ltr = ref[i];
    if (ltr === letter) {
      results.push(hm.guessed[i] = letter);
    } else {
      results.push(void 0);
    }
  }
  return results;
};

reset();

while (true) {
  letter = readline.keyIn(show());
  if (letter === ' ') {
    reset();
  } else {
    guess(letter);
  }
  if (indexOf.call(hm.guessed, '_') < 0) {
    console.log(hm.history.join(''));
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLElBQUE7RUFBQTs7QUFBQSxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVI7O0FBQ0wsUUFBQSxHQUFXLE9BQUEsQ0FBUSxlQUFSOztBQUVYLEtBQUEsR0FBUTs7QUFFUixFQUFBLEdBQUssQ0FBQTs7QUFFTCxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7QUFDUCxNQUFBO0VBQUEsS0FBQSxHQUFRLEVBQUUsQ0FBQyxZQUFILENBQWdCLEtBQWhCLEVBQXVCLE1BQXZCLENBQThCLENBQUMsS0FBL0IsQ0FBcUMsTUFBckM7RUFDUixFQUFFLENBQUMsTUFBSCxHQUFZLEtBQU0sQ0FBQSxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssQ0FBQyxNQUFOLEdBQWUsSUFBSSxDQUFDLE1BQUwsQ0FBQSxDQUExQixDQUFBO0VBQ2xCLEVBQUUsQ0FBQyxPQUFILEdBQWEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFWLENBQWdCLEVBQWhCLENBQW1CLENBQUMsR0FBcEIsQ0FBd0IsQ0FBQSxDQUFBLEdBQUE7V0FBRztFQUFILENBQXhCO1NBQ2IsRUFBRSxDQUFDLE9BQUgsR0FBYTtBQUpOOztBQU1SLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtTQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBWCxDQUFnQixHQUFoQixDQUFBLEdBQXVCO0FBQTFCOztBQUNQLEtBQUEsR0FBUSxRQUFBLENBQUMsTUFBRCxDQUFBO0FBQ1AsTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFYLENBQWdCLE1BQWhCO0FBQ0E7QUFBQTtFQUFBLEtBQUEsNkNBQUE7O0lBQ0MsSUFBRyxHQUFBLEtBQU8sTUFBVjttQkFBc0IsRUFBRSxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQVgsR0FBZ0IsUUFBdEM7S0FBQSxNQUFBOzJCQUFBOztFQURELENBQUE7O0FBRk87O0FBS1IsS0FBQSxDQUFBOztBQUNBLE9BQU0sSUFBTjtFQUNDLE1BQUEsR0FBUyxRQUFRLENBQUMsS0FBVCxDQUFlLElBQUEsQ0FBQSxDQUFmO0VBQ1QsSUFBRyxNQUFBLEtBQVUsR0FBYjtJQUFzQixLQUFBLENBQUEsRUFBdEI7R0FBQSxNQUFBO0lBQW1DLEtBQUEsQ0FBTSxNQUFOLEVBQW5DOztFQUNBLElBQUcsYUFBVyxFQUFFLENBQUMsT0FBZCxFQUFBLEdBQUEsS0FBSDtJQUE4QixPQUFPLENBQUMsR0FBUixDQUFZLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBWCxDQUFnQixFQUFoQixDQUFaLEVBQTlCOztBQUhEIiwic291cmNlc0NvbnRlbnQiOlsiZnMgPSByZXF1aXJlICdmcydcclxucmVhZGxpbmUgPSByZXF1aXJlICdyZWFkbGluZS1zeW5jJ1xyXG5cclxuV09SRFMgPSAnd29yZHMudHh0J1xyXG5cclxuaG0gPSB7fVxyXG5cclxucmVzZXQgPSAtPlxyXG5cdHdvcmRzID0gZnMucmVhZEZpbGVTeW5jKFdPUkRTLCAndXRmOCcpLnNwbGl0ICdcXHJcXG4nXHJcblx0aG0uc2VjcmV0ID0gd29yZHNbTWF0aC5mbG9vciB3b3Jkcy5sZW5ndGggKiBNYXRoLnJhbmRvbSgpXVxyXG5cdGhtLmd1ZXNzZWQgPSBobS5zZWNyZXQuc3BsaXQoJycpLm1hcCA9PiAnXydcclxuXHRobS5oaXN0b3J5ID0gW11cclxuXHJcbnNob3cgPSAtPiBobS5ndWVzc2VkLmpvaW4oJyAnKSArICcgPiAnXHJcbmd1ZXNzID0gKGxldHRlcikgLT5cclxuXHRobS5oaXN0b3J5LnB1c2ggbGV0dGVyXHJcblx0Zm9yIGx0cixpIGluIGhtLnNlY3JldCBcclxuXHRcdGlmIGx0ciA9PSBsZXR0ZXIgdGhlbiBobS5ndWVzc2VkW2ldID0gbGV0dGVyXHJcblxyXG5yZXNldCgpXHJcbndoaWxlIHRydWVcclxuXHRsZXR0ZXIgPSByZWFkbGluZS5rZXlJbiBzaG93KClcclxuXHRpZiBsZXR0ZXIgPT0gJyAnIHRoZW4gcmVzZXQoKSBlbHNlIGd1ZXNzIGxldHRlclxyXG5cdGlmICdfJyBub3QgaW4gaG0uZ3Vlc3NlZCB0aGVuIGNvbnNvbGUubG9nIGhtLmhpc3Rvcnkuam9pbiAnJ1xyXG4iXX0=
//# sourceURL=c:\Lab\2019\067-HangWhatever-Readline\coffee\sketch.coffee