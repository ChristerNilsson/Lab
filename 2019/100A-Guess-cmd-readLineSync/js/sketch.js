// Generated by CoffeeScript 2.3.2
var guess, nr, question, reset;

({question} = require('readline-sync'));

guess = {
  level: 2
};

reset = function(diff) {
  if (diff !== 0) {
    console.log('Correct!');
  }
  guess = {
    level: guess.level + diff,
    low: 1,
    history: []
  };
  if (guess.level < 2) {
    guess.level = 2;
  }
  guess.high = 2 ** guess.level - 1;
  return guess.secret = Math.ceil(guess.high * Math.random());
};

reset(0);

while (true) {
  guess.history.push(nr = parseInt(question(`${guess.low}-${guess.high} > `)));
  if (nr > guess.secret) {
    guess.high = nr - 1;
  }
  if (nr < guess.secret) {
    guess.low = nr + 1;
  }
  if (nr === guess.secret) {
    reset(guess.history.length <= guess.level ? 1 : -1);
  }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUE7O0FBQUEsQ0FBQSxDQUFFLFFBQUYsQ0FBQSxHQUFlLE9BQUEsQ0FBUSxlQUFSLENBQWY7O0FBRUEsS0FBQSxHQUFRO0VBQUUsS0FBQSxFQUFNO0FBQVI7O0FBRVIsS0FBQSxHQUFRLFFBQUEsQ0FBQyxJQUFELENBQUE7RUFDUCxJQUFHLElBQUEsS0FBUSxDQUFYO0lBQWtCLE9BQU8sQ0FBQyxHQUFSLENBQVksVUFBWixFQUFsQjs7RUFDQSxLQUFBLEdBQVE7SUFBRSxLQUFBLEVBQU0sS0FBSyxDQUFDLEtBQU4sR0FBWSxJQUFwQjtJQUEwQixHQUFBLEVBQUksQ0FBOUI7SUFBaUMsT0FBQSxFQUFRO0VBQXpDO0VBQ1IsSUFBRyxLQUFLLENBQUMsS0FBTixHQUFjLENBQWpCO0lBQXdCLEtBQUssQ0FBQyxLQUFOLEdBQWMsRUFBdEM7O0VBQ0EsS0FBSyxDQUFDLElBQU4sR0FBYSxDQUFBLElBQUcsS0FBSyxDQUFDLEtBQVQsR0FBaUI7U0FDOUIsS0FBSyxDQUFDLE1BQU4sR0FBZSxJQUFJLENBQUMsSUFBTCxDQUFVLEtBQUssQ0FBQyxJQUFOLEdBQWEsSUFBSSxDQUFDLE1BQUwsQ0FBQSxDQUF2QjtBQUxSOztBQU9SLEtBQUEsQ0FBTSxDQUFOOztBQUNBLE9BQU0sSUFBTjtFQUNDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBZCxDQUFtQixFQUFBLEdBQUssUUFBQSxDQUFTLFFBQUEsQ0FBUyxDQUFBLENBQUEsQ0FBRyxLQUFLLENBQUMsR0FBVCxDQUFhLENBQWIsQ0FBQSxDQUFnQixLQUFLLENBQUMsSUFBdEIsQ0FBMkIsR0FBM0IsQ0FBVCxDQUFULENBQXhCO0VBQ0EsSUFBRyxFQUFBLEdBQUssS0FBSyxDQUFDLE1BQWQ7SUFBMEIsS0FBSyxDQUFDLElBQU4sR0FBYSxFQUFBLEdBQUssRUFBNUM7O0VBQ0EsSUFBRyxFQUFBLEdBQUssS0FBSyxDQUFDLE1BQWQ7SUFBMEIsS0FBSyxDQUFDLEdBQU4sR0FBWSxFQUFBLEdBQUssRUFBM0M7O0VBQ0EsSUFBRyxFQUFBLEtBQU0sS0FBSyxDQUFDLE1BQWY7SUFDQyxLQUFBLENBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFkLElBQXdCLEtBQUssQ0FBQyxLQUFqQyxHQUE0QyxDQUE1QyxHQUFtRCxDQUFDLENBQTFELEVBREQ7O0FBSkQiLCJzb3VyY2VzQ29udGVudCI6WyJ7IHF1ZXN0aW9uIH0gPSByZXF1aXJlICdyZWFkbGluZS1zeW5jJ1xyXG5cclxuZ3Vlc3MgPSB7IGxldmVsOjIgfVxyXG5cclxucmVzZXQgPSAoZGlmZikgLT5cclxuXHRpZiBkaWZmICE9IDAgdGhlbiBjb25zb2xlLmxvZyAnQ29ycmVjdCEnXHJcblx0Z3Vlc3MgPSB7IGxldmVsOmd1ZXNzLmxldmVsK2RpZmYsIGxvdzoxLCBoaXN0b3J5OltdIH1cclxuXHRpZiBndWVzcy5sZXZlbCA8IDIgdGhlbiBndWVzcy5sZXZlbCA9IDJcclxuXHRndWVzcy5oaWdoID0gMioqZ3Vlc3MubGV2ZWwgLSAxXHJcblx0Z3Vlc3Muc2VjcmV0ID0gTWF0aC5jZWlsIGd1ZXNzLmhpZ2ggKiBNYXRoLnJhbmRvbSgpXHJcblxyXG5yZXNldCAwXHJcbndoaWxlIHRydWUgXHJcblx0Z3Vlc3MuaGlzdG9yeS5wdXNoIG5yID0gcGFyc2VJbnQgcXVlc3Rpb24gXCIje2d1ZXNzLmxvd30tI3tndWVzcy5oaWdofSA+IFwiXHJcblx0aWYgbnIgPiBndWVzcy5zZWNyZXQgdGhlbiBndWVzcy5oaWdoID0gbnIgLSAxXHJcblx0aWYgbnIgPCBndWVzcy5zZWNyZXQgdGhlbiBndWVzcy5sb3cgPSBuciArIDFcclxuXHRpZiBuciA9PSBndWVzcy5zZWNyZXQgXHJcblx0XHRyZXNldCBpZiBndWVzcy5oaXN0b3J5Lmxlbmd0aCA8PSBndWVzcy5sZXZlbCB0aGVuIDEgZWxzZSAtMVxyXG4iXX0=
//# sourceURL=c:\Lab\2019\070-GuessMyNumber-Readline\coffee\sketch.coffee