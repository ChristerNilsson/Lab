{
  "version": 3,
  "file": "dialogue.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\dialogue.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "dialogues = []\r\n\r\nclass Dialogue \r\n\r\n\tconstructor : (@number,@x,@y,@textSize) -> \r\n\t\t@col = '#ff08'\r\n\t\t@buttons = []\r\n\t\tdialogues.push @\r\n\r\n\tadd : (button) -> \r\n\t\tbutton.dlg = @\r\n\t\t@buttons.push button\t\r\n\r\n\tclock : (title,n,r1,r2, @backPop=true, turn=0) ->\r\n\t\tfor i in range n\r\n\t\t\tv = i*360/n-turn\r\n\t\t\t@add new Button '', r1*cos(v), r1*sin(v), r2, -> \r\n\t\t@add new Button title,0,0,r2, -> \r\n\t\t\tif @dlg.backPop then dialogues.pop() else dialogues.clear()\r\n\r\n\tupdate : (delta) -> # -1 eller +1\r\n\t\tif 0 <= @pageStart + delta * @pageSize < @lst.length\r\n\t\t\t@pageStart += delta * @pageSize\r\n\t\t\tfor i in range @pageSize\r\n\t\t\t\tif @pageStart + i < @lst.length\r\n\t\t\t\t\t@buttons[i].arr = @lst[@pageStart + i] \r\n\t\t\t\telse\r\n\t\t\t\t\t@buttons[i].arr = []\r\n\r\n\tlist : (@lst, @pageSize=10, @backPop=true, click = (arr) -> print arr[0]) ->\r\n\t\t@pageStart = 0\r\n\t\tn = @pageSize\r\n\t\tx = 0\r\n\t\tw = width\r\n\t\th = height/(@pageSize+1)\r\n\t\t@buttons.clear()\r\n\t\tfor i in range @pageStart,@pageStart + n\r\n\t\t\tif i < @lst.length\r\n\t\t\t\titem = @lst[i]\r\n\t\t\t\ty = i*h\r\n\t\t\t\tdo (item) => @add new RectButton item, x,y,w,h, -> click @arr\r\n\t\t@add new RectButton [-1,'Prev'],   0*w/3,h*n, w/3,h, -> @dlg.update -1 \r\n\t\t@add new RectButton [-1,'Cancel'], 1*w/3,h*n, w/3,h, -> \r\n\t\t\tif @dlg.backPop then dialogues.pop() else dialogues.clear()\r\n\t\t@add new RectButton [-1,'Next'],   2*w/3,h*n, w/3,h, -> @dlg.update +1 \r\n\r\n\tshow : ->\r\n\t\tpush()\r\n\t\ttranslate @x,@y\r\n\t\ttextSize @textSize\r\n\t\tfor button in @buttons\r\n\t\t\tbutton.show @\r\n\t\tpop()\r\n\r\n\texecute : (mx,my) ->\r\n\t\tfor button in @buttons\r\n\t\t\tif button.inside mx,my,@\r\n\t\t\t\tbutton.execute()\r\n\t\t\t\treturn true\r\n\t\tfalse \r\n\r\nclass Button \r\n\tconstructor : (@txt, @x, @y, @r, @event = -> print @txt) -> @active = true \r\n\tinfo : (@txt,@active,@event) ->\r\n\tshow : ->\r\n\t\tif @active then fill @dlg.col else fill \"#fff8\"\r\n\t\tstroke 0\r\n\t\tellipse @x,@y,2*@r,2*@r\r\n\t\tpush()\r\n\t\tif @active then fill 0 else fill \"#888\"\r\n\t\tnoStroke()\r\n\t\ttextAlign CENTER,CENTER\r\n\t\ttextSize @dlg.textSize\r\n\t\tarr = @txt.split ' '\r\n\t\tif arr.length == 1 \r\n\t\t\ttext arr[0], @x,@y\r\n\t\telse \r\n\t\t\ttext arr[0], @x,@y-0.3*@r\r\n\t\t\ttext arr[1], @x,@y+0.3*@r\r\n\t\tpop()\r\n\r\n\tinside : (mx,my) ->  @r > dist mx, my, @dlg.x + @x, @dlg.y + @y \r\n\texecute : -> if @active then @event()\r\n\r\nclass RectButton \r\n\tconstructor : (@arr, @x, @y, @w, @h, @event = -> print @item) -> @active = true \r\n\tinfo : (@arr,@active,@event) ->\r\n\tshow : ->\r\n\t\tif @active then fill @dlg.col else fill \"#fff8\"\r\n\t\tstroke 0\r\n\t\trect @x,@y,@w,@h\r\n\t\tpush()\r\n\t\tif @active then fill 0 else fill \"#888\"\r\n\t\tnoStroke()\r\n\t\ttextSize @dlg.textSize\r\n\t\tif @arr.length == 1+1\r\n\t\t\ttextAlign CENTER,CENTER\r\n\t\t\ttext @arr[1], @x+@w/2,@y+@h/2\t\t\t\r\n\t\tif @arr.length == 1+2\r\n\t\t\ttextAlign LEFT,CENTER\r\n\t\t\ttext @arr[1], @x+10,@y+@h/2\r\n\t\t\ttextAlign RIGHT,CENTER\r\n\t\t\ttext @arr[2], @x+@w-10,@y+@h/2\r\n\t\tif @arr.length == 1+3\r\n\t\t\ttextAlign LEFT,CENTER\r\n\t\t\ttext @arr[1], @x+10,@y+@h/2\r\n\t\t\ttextAlign CENTER,CENTER\r\n\t\t\ttext @arr[2], @x+@w/2,@y+@h/2\t\t\t\r\n\t\t\ttextAlign RIGHT,CENTER\r\n\t\t\ttext @arr[3], @x+@w-10,@y+@h/2\r\n\t\telse\r\n\t\tpop()\r\n\r\n\tinside : (mx,my) ->  @x < mx < @x+@w and @y < my < @y+@h\r\n\texecute : -> if @active then @event()\r\n"
  ]
}