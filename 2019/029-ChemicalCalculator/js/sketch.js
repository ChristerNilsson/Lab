// Generated by CoffeeScript 2.3.2
var add, molar_mass, mul;

mul = function(match, p1, offset, string) {
  return '*' + p1;
};

add = function(match, p1, offset, string) {
  if (p1 === '(') {
    return '+' + p1;
  }
  return `+${ATOMIC_MASS[p1]}`;
};

molar_mass = function(s) {
  s = s.replace(/(\d+)/g, mul);
  s = s.replace(/([A-Z][a-z]{0,2}|\()/g, add);
  return parseFloat(eval(s).toFixed(3));
};

assert(1.008, molar_mass('H'));

assert(2.016, molar_mass('H2'));

assert(18.015, molar_mass('H2O'));

assert(34.014, molar_mass('H2O2'));

assert(34.014, molar_mass('(HO)2'));

assert(142.036, molar_mass('Na2SO4'));

assert(84.162, molar_mass('C6H12'));

assert(186.295, molar_mass('COOH(C(CH3)2)3CH3'));

assert(176.124, molar_mass('C6H4O2(OH)4')); // Vitamin C

assert(386.664, molar_mass('C27H46O')); // Cholesterol

assert(315, molar_mass('Uue'));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUEsR0FBQSxFQUFBLFVBQUEsRUFBQTs7QUFBQSxHQUFBLEdBQU0sUUFBQSxDQUFDLEtBQUQsRUFBUSxFQUFSLEVBQVksTUFBWixFQUFvQixNQUFwQixDQUFBO1NBQStCLEdBQUEsR0FBTTtBQUFyQzs7QUFDTixHQUFBLEdBQU0sUUFBQSxDQUFDLEtBQUQsRUFBUSxFQUFSLEVBQVksTUFBWixFQUFvQixNQUFwQixDQUFBO0VBQ0wsSUFBRyxFQUFBLEtBQU0sR0FBVDtBQUFrQixXQUFPLEdBQUEsR0FBTSxHQUEvQjs7U0FDQSxDQUFBLENBQUEsQ0FBQSxDQUFJLFdBQVksQ0FBQSxFQUFBLENBQWhCLENBQUE7QUFGSzs7QUFJTixVQUFBLEdBQWEsUUFBQSxDQUFDLENBQUQsQ0FBQTtFQUNaLENBQUEsR0FBSSxDQUFDLENBQUMsT0FBRixDQUFVLFFBQVYsRUFBb0IsR0FBcEI7RUFDSixDQUFBLEdBQUksQ0FBQyxDQUFDLE9BQUYsQ0FBVSx1QkFBVixFQUFtQyxHQUFuQztTQUNKLFVBQUEsQ0FBVyxJQUFBLENBQUssQ0FBTCxDQUFPLENBQUMsT0FBUixDQUFnQixDQUFoQixDQUFYO0FBSFk7O0FBS2IsTUFBQSxDQUFPLEtBQVAsRUFBYyxVQUFBLENBQVcsR0FBWCxDQUFkOztBQUNBLE1BQUEsQ0FBTyxLQUFQLEVBQWMsVUFBQSxDQUFXLElBQVgsQ0FBZDs7QUFDQSxNQUFBLENBQU8sTUFBUCxFQUFlLFVBQUEsQ0FBVyxLQUFYLENBQWY7O0FBQ0EsTUFBQSxDQUFPLE1BQVAsRUFBZSxVQUFBLENBQVcsTUFBWCxDQUFmOztBQUNBLE1BQUEsQ0FBTyxNQUFQLEVBQWUsVUFBQSxDQUFXLE9BQVgsQ0FBZjs7QUFDQSxNQUFBLENBQU8sT0FBUCxFQUFnQixVQUFBLENBQVcsUUFBWCxDQUFoQjs7QUFDQSxNQUFBLENBQU8sTUFBUCxFQUFlLFVBQUEsQ0FBVyxPQUFYLENBQWY7O0FBQ0EsTUFBQSxDQUFPLE9BQVAsRUFBZ0IsVUFBQSxDQUFXLG1CQUFYLENBQWhCOztBQUNBLE1BQUEsQ0FBTyxPQUFQLEVBQWdCLFVBQUEsQ0FBVyxhQUFYLENBQWhCLEVBbEJBOztBQW1CQSxNQUFBLENBQU8sT0FBUCxFQUFnQixVQUFBLENBQVcsU0FBWCxDQUFoQixFQW5CQTs7QUFvQkEsTUFBQSxDQUFPLEdBQVAsRUFBWSxVQUFBLENBQVcsS0FBWCxDQUFaIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbm11bCA9IChtYXRjaCwgcDEsIG9mZnNldCwgc3RyaW5nKSAtPiAnKicgKyBwMSBcclxuYWRkID0gKG1hdGNoLCBwMSwgb2Zmc2V0LCBzdHJpbmcpIC0+IFxyXG5cdGlmIHAxID09ICcoJyB0aGVuIHJldHVybiAnKycgKyBwMSBcclxuXHRcIisje0FUT01JQ19NQVNTW3AxXX1cIlxyXG5cclxubW9sYXJfbWFzcyA9IChzKSAtPlxyXG5cdHMgPSBzLnJlcGxhY2UgLyhcXGQrKS9nLCBtdWxcclxuXHRzID0gcy5yZXBsYWNlIC8oW0EtWl1bYS16XXswLDJ9fFxcKCkvZywgYWRkXHJcblx0cGFyc2VGbG9hdChldmFsKHMpLnRvRml4ZWQoMykpXHJcblxyXG5hc3NlcnQgMS4wMDgsIG1vbGFyX21hc3MoJ0gnKVxyXG5hc3NlcnQgMi4wMTYsIG1vbGFyX21hc3MoJ0gyJylcclxuYXNzZXJ0IDE4LjAxNSwgbW9sYXJfbWFzcygnSDJPJylcclxuYXNzZXJ0IDM0LjAxNCwgbW9sYXJfbWFzcygnSDJPMicpXHJcbmFzc2VydCAzNC4wMTQsIG1vbGFyX21hc3MoJyhITykyJylcclxuYXNzZXJ0IDE0Mi4wMzYsIG1vbGFyX21hc3MoJ05hMlNPNCcpXHJcbmFzc2VydCA4NC4xNjIsIG1vbGFyX21hc3MoJ0M2SDEyJylcclxuYXNzZXJ0IDE4Ni4yOTUsIG1vbGFyX21hc3MoJ0NPT0goQyhDSDMpMikzQ0gzJylcclxuYXNzZXJ0IDE3Ni4xMjQsIG1vbGFyX21hc3MoJ0M2SDRPMihPSCk0JykgIyBWaXRhbWluIENcclxuYXNzZXJ0IDM4Ni42NjQsIG1vbGFyX21hc3MoJ0MyN0g0Nk8nKSAjIENob2xlc3Rlcm9sXHJcbmFzc2VydCAzMTUsIG1vbGFyX21hc3MoJ1V1ZScpXHJcbiJdfQ==
//# sourceURL=C:\Lab\2019\029-ChemicalCalculator\coffee\sketch.coffee