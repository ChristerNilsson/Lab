// Generated by CoffeeScript 2.4.1
var MinMaxDecisionNormal, mValueNormal;

MinMaxDecisionNormal = function(depthMax, player) {
  var house, i, k, len, playerShop, ref;
  house = [];
  ref = range(14);
  for (k = 0, len = ref.length; k < len; k++) {
    i = ref[k];
    house[i] = parseInt(document.getElementById("house" + i.toString()).innerHTML);
  }
  playerShop = 6;
  if (player === 1) {
    playerShop = 13;
  }
  return mValueNormal(house, depthMax, 0, playerShop);
};

mValueNormal = function(house, depthMax, depth, playerShop) {
  var action, i, j, k, l, len, len1, len2, len3, m, max, min, n, opponentShop, ref, ref1, ref2, ref3, tempHouse, tempValue;
  if (HasSuccessors(house) === false) {
    FinalScoring(house);
    return Evaluate(house, playerShop, (playerShop + 7) % 14);
  } else if (depth >= depthMax) {
    return Evaluate(house, playerShop, (playerShop + 7) % 14);
  } else if (depth % 2) {
    opponentShop = (playerShop + 7) % 14;
    min = 1000;
    ref = range(opponentShop - 6, opponentShop);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      if (house[i] === 0) {
        continue;
      }
      tempHouse = [];
      tempValue = null;
      ref1 = range(14);
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        j = ref1[l];
        tempHouse[j] = house[j];
      }
      if (Relocation(tempHouse, i)) {
        tempValue = mValueNormal(tempHouse, depthMax, depth + 2, playerShop);
      } else {
        tempValue = mValueNormal(tempHouse, depthMax, depth + 1, playerShop);
      }
      if (min > tempValue) {
        min = tempValue;
      }
    }
    return min;
  } else {
    action = null;
    max = -1000;
    ref2 = range(playerShop - 6, playerShop);
    for (m = 0, len2 = ref2.length; m < len2; m++) {
      i = ref2[m];
      if (house[i] === 0) {
        continue;
      }
      tempHouse = [];
      tempValue = null;
      ref3 = range(14);
      for (n = 0, len3 = ref3.length; n < len3; n++) {
        j = ref3[n];
        tempHouse[j] = house[j];
      }
      if (Relocation(tempHouse, i)) {
        tempValue = mValueNormal(tempHouse, depthMax, depth + 2, playerShop);
      } else {
        tempValue = mValueNormal(tempHouse, depthMax, depth + 1, playerShop);
      }
      if (max < tempValue) {
        max = tempValue;
        action = i;
      }
    }
    if (depth === 0) {
      return action;
    } else {
      return max;
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWluTWF4Tm9ybWFsLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXG1pbk1heE5vcm1hbC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsb0JBQUEsRUFBQTs7QUFBQSxvQkFBQSxHQUF1QixRQUFBLENBQUMsUUFBRCxFQUFXLE1BQVgsQ0FBQTtBQUN0QixNQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxVQUFBLEVBQUE7RUFBQSxLQUFBLEdBQVE7QUFDUjtFQUFBLEtBQUEscUNBQUE7O0lBQ0MsS0FBTSxDQUFBLENBQUEsQ0FBTixHQUFXLFFBQUEsQ0FBUyxRQUFRLENBQUMsY0FBVCxDQUF3QixPQUFBLEdBQVUsQ0FBQyxDQUFDLFFBQUYsQ0FBQSxDQUFsQyxDQUErQyxDQUFDLFNBQXpEO0VBRFo7RUFFQSxVQUFBLEdBQWE7RUFDYixJQUFHLE1BQUEsS0FBVSxDQUFiO0lBQW9CLFVBQUEsR0FBYSxHQUFqQzs7U0FDQSxZQUFBLENBQWEsS0FBYixFQUFvQixRQUFwQixFQUE4QixDQUE5QixFQUFpQyxVQUFqQztBQU5zQjs7QUFRdkIsWUFBQSxHQUFlLFFBQUEsQ0FBQyxLQUFELEVBQVEsUUFBUixFQUFrQixLQUFsQixFQUF5QixVQUF6QixDQUFBO0FBQ2QsTUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUEsWUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxTQUFBLEVBQUE7RUFBQSxJQUFHLGFBQUEsQ0FBYyxLQUFkLENBQUEsS0FBd0IsS0FBM0I7SUFDQyxZQUFBLENBQWEsS0FBYjtBQUNBLFdBQU8sUUFBQSxDQUFTLEtBQVQsRUFBZ0IsVUFBaEIsRUFBNEIsQ0FBQyxVQUFBLEdBQWEsQ0FBZCxDQUFBLEdBQW1CLEVBQS9DLEVBRlI7R0FBQSxNQUdLLElBQUcsS0FBQSxJQUFTLFFBQVo7QUFDSixXQUFPLFFBQUEsQ0FBUyxLQUFULEVBQWdCLFVBQWhCLEVBQTRCLENBQUMsVUFBQSxHQUFhLENBQWQsQ0FBQSxHQUFtQixFQUEvQyxFQURIO0dBQUEsTUFFQSxJQUFHLEtBQUEsR0FBUSxDQUFYO0lBQ0osWUFBQSxHQUFlLENBQUMsVUFBQSxHQUFhLENBQWQsQ0FBQSxHQUFtQjtJQUNsQyxHQUFBLEdBQU07QUFDTjtJQUFBLEtBQUEscUNBQUE7O01BQ0MsSUFBRyxLQUFNLENBQUEsQ0FBQSxDQUFOLEtBQVksQ0FBZjtBQUFzQixpQkFBdEI7O01BRUEsU0FBQSxHQUFZO01BQ1osU0FBQSxHQUFZO0FBQ1o7TUFBQSxLQUFBLHdDQUFBOztRQUNDLFNBQVUsQ0FBQSxDQUFBLENBQVYsR0FBZSxLQUFNLENBQUEsQ0FBQTtNQUR0QjtNQUdBLElBQUcsVUFBQSxDQUFXLFNBQVgsRUFBc0IsQ0FBdEIsQ0FBSDtRQUNDLFNBQUEsR0FBWSxZQUFBLENBQWEsU0FBYixFQUF3QixRQUF4QixFQUFrQyxLQUFBLEdBQVEsQ0FBMUMsRUFBNkMsVUFBN0MsRUFEYjtPQUFBLE1BQUE7UUFHQyxTQUFBLEdBQVksWUFBQSxDQUFhLFNBQWIsRUFBd0IsUUFBeEIsRUFBa0MsS0FBQSxHQUFRLENBQTFDLEVBQTZDLFVBQTdDLEVBSGI7O01BS0EsSUFBRyxHQUFBLEdBQU0sU0FBVDtRQUF3QixHQUFBLEdBQU0sVUFBOUI7O0lBYkQ7QUFjQSxXQUFPLElBakJIO0dBQUEsTUFBQTtJQW9CSixNQUFBLEdBQVM7SUFDVCxHQUFBLEdBQU0sQ0FBQztBQUVQO0lBQUEsS0FBQSx3Q0FBQTs7TUFDQyxJQUFHLEtBQU0sQ0FBQSxDQUFBLENBQU4sS0FBWSxDQUFmO0FBQXNCLGlCQUF0Qjs7TUFFQSxTQUFBLEdBQVk7TUFDWixTQUFBLEdBQVk7QUFDWjtNQUFBLEtBQUEsd0NBQUE7O1FBQ0MsU0FBVSxDQUFBLENBQUEsQ0FBVixHQUFlLEtBQU0sQ0FBQSxDQUFBO01BRHRCO01BR0EsSUFBRyxVQUFBLENBQVcsU0FBWCxFQUFzQixDQUF0QixDQUFIO1FBQ0MsU0FBQSxHQUFZLFlBQUEsQ0FBYSxTQUFiLEVBQXdCLFFBQXhCLEVBQWtDLEtBQUEsR0FBUSxDQUExQyxFQUE2QyxVQUE3QyxFQURiO09BQUEsTUFBQTtRQUdDLFNBQUEsR0FBWSxZQUFBLENBQWEsU0FBYixFQUF3QixRQUF4QixFQUFrQyxLQUFBLEdBQVEsQ0FBMUMsRUFBNkMsVUFBN0MsRUFIYjs7TUFLQSxJQUFHLEdBQUEsR0FBTSxTQUFUO1FBQ0MsR0FBQSxHQUFNO1FBQ04sTUFBQSxHQUFTLEVBRlY7O0lBYkQ7SUFpQkEsSUFBRyxLQUFBLEtBQVMsQ0FBWjtBQUFtQixhQUFPLE9BQTFCO0tBQUEsTUFBQTtBQUFzQyxhQUFPLElBQTdDO0tBeENJOztBQU5TIiwic291cmNlc0NvbnRlbnQiOlsiTWluTWF4RGVjaXNpb25Ob3JtYWwgPSAoZGVwdGhNYXgsIHBsYXllcikgLT5cclxuXHRob3VzZSA9IFtdXHJcblx0Zm9yIGkgaW4gcmFuZ2UgMTRcclxuXHRcdGhvdXNlW2ldID0gcGFyc2VJbnQgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJob3VzZVwiICsgaS50b1N0cmluZygpKS5pbm5lckhUTUxcclxuXHRwbGF5ZXJTaG9wID0gNlxyXG5cdGlmIHBsYXllciA9PSAxIHRoZW4gcGxheWVyU2hvcCA9IDEzXHJcblx0bVZhbHVlTm9ybWFsIGhvdXNlLCBkZXB0aE1heCwgMCwgcGxheWVyU2hvcFxyXG5cclxubVZhbHVlTm9ybWFsID0gKGhvdXNlLCBkZXB0aE1heCwgZGVwdGgsIHBsYXllclNob3ApIC0+XHJcblx0aWYgSGFzU3VjY2Vzc29ycyhob3VzZSkgPT0gZmFsc2VcclxuXHRcdEZpbmFsU2NvcmluZyhob3VzZSlcclxuXHRcdHJldHVybiBFdmFsdWF0ZShob3VzZSwgcGxheWVyU2hvcCwgKHBsYXllclNob3AgKyA3KSAlIDE0KVxyXG5cdGVsc2UgaWYgZGVwdGggPj0gZGVwdGhNYXhcclxuXHRcdHJldHVybiBFdmFsdWF0ZShob3VzZSwgcGxheWVyU2hvcCwgKHBsYXllclNob3AgKyA3KSAlIDE0KVxyXG5cdGVsc2UgaWYgZGVwdGggJSAyXHJcblx0XHRvcHBvbmVudFNob3AgPSAocGxheWVyU2hvcCArIDcpICUgMTRcclxuXHRcdG1pbiA9IDEwMDBcclxuXHRcdGZvciBpIGluIHJhbmdlIG9wcG9uZW50U2hvcCAtIDYsIG9wcG9uZW50U2hvcFxyXG5cdFx0XHRpZiBob3VzZVtpXSA9PSAwIHRoZW4gY29udGludWVcclxuXHJcblx0XHRcdHRlbXBIb3VzZSA9IFtdXHJcblx0XHRcdHRlbXBWYWx1ZSA9IG51bGxcclxuXHRcdFx0Zm9yIGogaW4gcmFuZ2UgMTRcclxuXHRcdFx0XHR0ZW1wSG91c2Vbal0gPSBob3VzZVtqXVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgUmVsb2NhdGlvbih0ZW1wSG91c2UsIGkpXHJcblx0XHRcdFx0dGVtcFZhbHVlID0gbVZhbHVlTm9ybWFsKHRlbXBIb3VzZSwgZGVwdGhNYXgsIGRlcHRoICsgMiwgcGxheWVyU2hvcClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRlbXBWYWx1ZSA9IG1WYWx1ZU5vcm1hbCh0ZW1wSG91c2UsIGRlcHRoTWF4LCBkZXB0aCArIDEsIHBsYXllclNob3ApXHJcblxyXG5cdFx0XHRpZiBtaW4gPiB0ZW1wVmFsdWUgdGhlbiBtaW4gPSB0ZW1wVmFsdWVcclxuXHRcdHJldHVybiBtaW5cclxuXHRlbHNlXHJcblxyXG5cdFx0YWN0aW9uID0gbnVsbFxyXG5cdFx0bWF4ID0gLTEwMDBcclxuXHJcblx0XHRmb3IgaSBpbiByYW5nZSBwbGF5ZXJTaG9wIC0gNiwgcGxheWVyU2hvcFxyXG5cdFx0XHRpZiBob3VzZVtpXSA9PSAwIHRoZW4gY29udGludWVcclxuXHJcblx0XHRcdHRlbXBIb3VzZSA9IFtdXHJcblx0XHRcdHRlbXBWYWx1ZSA9IG51bGxcclxuXHRcdFx0Zm9yIGogaW4gcmFuZ2UgMTRcclxuXHRcdFx0XHR0ZW1wSG91c2Vbal0gPSBob3VzZVtqXVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgUmVsb2NhdGlvbih0ZW1wSG91c2UsIGkpXHJcblx0XHRcdFx0dGVtcFZhbHVlID0gbVZhbHVlTm9ybWFsKHRlbXBIb3VzZSwgZGVwdGhNYXgsIGRlcHRoICsgMiwgcGxheWVyU2hvcClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRlbXBWYWx1ZSA9IG1WYWx1ZU5vcm1hbCh0ZW1wSG91c2UsIGRlcHRoTWF4LCBkZXB0aCArIDEsIHBsYXllclNob3ApXHJcblxyXG5cdFx0XHRpZiBtYXggPCB0ZW1wVmFsdWVcclxuXHRcdFx0XHRtYXggPSB0ZW1wVmFsdWVcclxuXHRcdFx0XHRhY3Rpb24gPSBpXHJcblxyXG5cdFx0aWYgZGVwdGggPT0gMCB0aGVuIHJldHVybiBhY3Rpb24gZWxzZSByZXR1cm4gbWF4XHJcbiJdfQ==
//# sourceURL=c:\Lab\2019\118-Kalaha\coffee\minMaxNormal.coffee