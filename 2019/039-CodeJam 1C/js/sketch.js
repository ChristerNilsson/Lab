// Generated by CoffeeScript 2.3.2
//   421
//   SPR  command (win or tie)
// 0 ---  Success
// 1 --R  P
// 2 -P-  S
// 3 -PR  P
// 4 S--  R
// 5 S-R  R
// 6 SP-  S
// 7 SPR  IMPOSSIBLE
var solve;

solve = function(players) {
  var bits, i, j, k, len, len1, p, ref, res;
  players = players.split(' ');
  res = '';
  ref = range(1000);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    bits = 0;
    for (k = 0, len1 = players.length; k < len1; k++) {
      p = players[k];
      bits |= '-RP-S'.indexOf(p[i % p.length]);
    }
    if (bits === 0) {
      return res;
    }
    if (bits === 7) {
      return 'IMPOSSIBLE';
    }
    res += '-PSPRRS'[bits];
    players = (function() {
      var l, len2, results;
      results = [];
      for (l = 0, len2 = players.length; l < len2; l++) {
        p = players[l];
        if (p[i % p.length] === _.last(res)) {
          results.push(p);
        }
      }
      return results;
    })();
  }
};

assert('P', solve('RS'));

assert('IMPOSSIBLE', solve('R P S'));

assert('P', solve('RS RS RS RS RS RS RS'));

assert('PRS', solve('RSP PR PS'));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7O0FBQUEsSUFBQTs7QUFXQSxLQUFBLEdBQVEsUUFBQSxDQUFDLE9BQUQsQ0FBQTtBQUNQLE1BQUEsSUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQTtFQUFBLE9BQUEsR0FBVSxPQUFPLENBQUMsS0FBUixDQUFjLEdBQWQ7RUFDVixHQUFBLEdBQU07QUFDTjtFQUFBLEtBQUEscUNBQUE7O0lBQ0MsSUFBQSxHQUFPO0lBQ2lDLEtBQUEsMkNBQUE7O01BQXhDLElBQUEsSUFBUSxPQUFPLENBQUMsT0FBUixDQUFnQixDQUFFLENBQUEsQ0FBQSxHQUFJLENBQUMsQ0FBQyxNQUFOLENBQWxCO0lBQWdDO0lBQ3hDLElBQUcsSUFBQSxLQUFRLENBQVg7QUFBa0IsYUFBTyxJQUF6Qjs7SUFDQSxJQUFHLElBQUEsS0FBUSxDQUFYO0FBQWtCLGFBQU8sYUFBekI7O0lBQ0EsR0FBQSxJQUFPLFNBQVUsQ0FBQSxJQUFBO0lBQ2pCLE9BQUE7O0FBQWE7TUFBQSxLQUFBLDJDQUFBOztZQUFzQixDQUFFLENBQUEsQ0FBQSxHQUFJLENBQUMsQ0FBQyxNQUFOLENBQUYsS0FBbUIsQ0FBQyxDQUFDLElBQUYsQ0FBTyxHQUFQO3VCQUEzQzs7TUFBRSxDQUFBOzs7RUFOZDtBQUhPOztBQVdSLE1BQUEsQ0FBTyxHQUFQLEVBQVksS0FBQSxDQUFNLElBQU4sQ0FBWjs7QUFDQSxNQUFBLENBQU8sWUFBUCxFQUFxQixLQUFBLENBQU0sT0FBTixDQUFyQjs7QUFDQSxNQUFBLENBQU8sR0FBUCxFQUFZLEtBQUEsQ0FBTSxzQkFBTixDQUFaOztBQUNBLE1BQUEsQ0FBTyxLQUFQLEVBQWMsS0FBQSxDQUFNLFdBQU4sQ0FBZCIsInNvdXJjZXNDb250ZW50IjpbIiMgICA0MjFcclxuIyAgIFNQUiAgY29tbWFuZCAod2luIG9yIHRpZSlcclxuIyAwIC0tLSAgU3VjY2Vzc1xyXG4jIDEgLS1SICBQXHJcbiMgMiAtUC0gIFNcclxuIyAzIC1QUiAgUFxyXG4jIDQgUy0tICBSXHJcbiMgNSBTLVIgIFJcclxuIyA2IFNQLSAgU1xyXG4jIDcgU1BSICBJTVBPU1NJQkxFXHJcblxyXG5zb2x2ZSA9IChwbGF5ZXJzKSAtPlxyXG5cdHBsYXllcnMgPSBwbGF5ZXJzLnNwbGl0ICcgJ1xyXG5cdHJlcyA9ICcnXHJcblx0Zm9yIGkgaW4gcmFuZ2UgMTAwMFxyXG5cdFx0Yml0cyA9IDAgXHJcblx0XHRiaXRzIHw9ICctUlAtUycuaW5kZXhPZiBwW2kgJSBwLmxlbmd0aF0gZm9yIHAgaW4gcGxheWVyc1xyXG5cdFx0aWYgYml0cyA9PSAwIHRoZW4gcmV0dXJuIHJlcyBcclxuXHRcdGlmIGJpdHMgPT0gNyB0aGVuIHJldHVybiAnSU1QT1NTSUJMRSdcclxuXHRcdHJlcyArPSAnLVBTUFJSUydbYml0c11cclxuXHRcdHBsYXllcnMgPSAocCBmb3IgcCBpbiBwbGF5ZXJzIHdoZW4gcFtpICUgcC5sZW5ndGhdID09IF8ubGFzdCByZXMpIFxyXG5cclxuYXNzZXJ0ICdQJywgc29sdmUgJ1JTJ1xyXG5hc3NlcnQgJ0lNUE9TU0lCTEUnLCBzb2x2ZSAnUiBQIFMnXHJcbmFzc2VydCAnUCcsIHNvbHZlICdSUyBSUyBSUyBSUyBSUyBSUyBSUydcclxuYXNzZXJ0ICdQUlMnLCBzb2x2ZSAnUlNQIFBSIFBTJ1xyXG4iXX0=
//# sourceURL=C:\Lab\2019\039-CodeJam 1C\coffee\sketch.coffee