// Generated by CoffeeScript 2.3.2
var COLORS, Dice, MARKERS, MAX, Marker, Tile, assert, createAllTiles, createPlayer0, createPlayer1, dice, draw, helper, mousePressed, p0, p1, player, setup, tiles,
  indexOf = [].indexOf;

assert = chai.assert.deepEqual;

MARKERS = 7;

COLORS = {
  P: '#f00',
  R: '#f0f',
  I: '#0f0',
  S: '#ff0',
  M: '#0ff',
  A: '#fff',
  O: '#000',
  X: '#000'
};

MAX = {
  P: 1, // Promotion
  R: 1, // Replay
  I: 1, // Promoted Protection
  S: 4, // Stack 4 
  M: 4, // Mixed 4
  A: 1 // Attack
};

p0 = []; // Path of player 0

p1 = []; // Path of player 1

tiles = []; // Twenty tiles

player = 0; // 0 or 1

dice = null;

Dice = class Dice {
  constructor() {
    this.throw();
  }

  throw() {
    return this.value = random([
      1,
      1,
      1,
      2,
      2,
      2,
      3,
      4 // three tetras
    ]);
  }

  //@value = random [0,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,4] # four tetras
  inside(mx, my) {
    var x, y;
    x = width / 2 - 100 + 100 * player * 2;
    y = 200 + 100 * 5;
    return (x - 50 < mx && mx < x + 50) && (y - 50 < my && my < y + 50);
  }

  rotate() {
    this.value = this.value + 1;
    if (this.value === 5) {
      return this.value = 1;
    }
  }

  draw() {
    var x, y;
    x = width / 2 - 100 + 100 * player * 2;
    y = 200 + 100 * 5;
    fc(1);
    textSize(50);
    return text(this.value, x, y + 7);
  }

};

Marker = class Marker {
  constructor(player1, promoted = false) { // promoted marker is indicated by five dots	
    this.player = player1;
    this.promoted = promoted;
  }

  draw(x, y) {
    var dx, dy, j, len, ref, results;
    if (this.player === 0) {
      fc(1, 0, 0, 0.75);
    } else {
      fc(0.5, 0.5, 0.5, 0.75);
    }
    circle(x, y, 25);
    if (this.promoted) {
      fill('#ff0');
      ref = [[-1, -1], [-1, 1], [1, 1], [1, -1], [0, 0]];
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        [dx, dy] = ref[j];
        results.push(circle(x + 10 * dx, y + 10 * dy, 5));
      }
      return results;
    }
  }

};

Tile = class Tile {
  constructor(x1, y1) {
    this.x = x1;
    this.y = y1;
    this.letter = ' ';
    this.markers = [];
  }

  inside(mx, my) {
    var x, y;
    x = width / 2 - 100 + 100 * this.x;
    y = 200 + 100 * this.y;
    return (x - 50 < mx && mx < x + 50) && (y - 50 < my && my < y + 50) && this.markers.length !== 0;
  }

  click(marker, target) {
    if (this.legal(marker, target)) {
      return this.move(target);
    }
  }

  legal(marker, target) {
    var letter, n;
    if (marker.player !== player) {
      return false;
    }
    n = target.markers.length;
    letter = target.letter;
    if (letter === 'S' && n === 4) {
      return false;
    }
    if (indexOf.call('PRAS', letter) >= 0) {
      if (n === 0) {
        return true;
      }
      return marker.player !== target.markers[0].player;
    }
    if (letter === 'I') {
      if (n === 0) {
        return true;
      }
      if (marker.player === target.markers[0].player) {
        return false;
      } else {
        return marker.promoted === target.markers[0].promoted;
      }
    }
    if (letter === 'M') {
      return n < 4;
    }
    if (letter === 'X') {
      return true;
    }
    return assert(0, 1);
  }

  move(target) {
    var enemy, marker, n;
    n = target.markers.length;
    if (MAX[target.letter] === 1) {
      if (n === 1) {
        enemy = target.markers.pop();
        enemy.promoted = false;
        tiles[20 + enemy.player].markers.push(enemy);
      }
      marker = this.markers.pop();
      target.markers.push(marker); // MAX = 4, just move
    } else {
      marker = this.markers.pop();
      target.markers.push(marker);
    }
    if (target.letter !== 'R') {
      player = 1 - player;
    }
    return dice.throw();
  }

  draw() {
    var i, j, len, marker, ref, results, x, y;
    fill(COLORS[this.letter]);
    x = width / 2 - 100 + 100 * this.x;
    y = 200 + 100 * this.y;
    rect(x, y, 90, 90);
    fc(0);
    textSize(100);
    text(this.letter, x, y + 9);
    ref = this.markers;
    results = [];
    for (i = j = 0, len = ref.length; j < len; i = ++j) {
      marker = ref[i];
      results.push(marker.draw(x + 10 * (i % 2), y + 7 * (7 - i) - 30));
    }
    return results;
  }

};

createAllTiles = function() {
  var i, j, k, l, len, len1, len2, ref, ref1, ref2;
  ref = range(4);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    tiles.push(new Tile(0, 3 - i)); // 0 1 2 3
  }
  ref1 = range(6);
  for (k = 0, len1 = ref1.length; k < len1; k++) {
    i = ref1[k];
    tiles.push(new Tile(1, i)); // 4 5 6 7 8 9
  }
  tiles.push(new Tile(1, 6)); // 10
  tiles.push(new Tile(0, 6)); // 11
  tiles.push(new Tile(0, 7)); // 12
  tiles.push(new Tile(1, 7)); // 13
  tiles.push(new Tile(2, 7)); // 14
  tiles.push(new Tile(2, 6)); // 15
  ref2 = range(4);
  for (l = 0, len2 = ref2.length; l < len2; l++) {
    i = ref2[l];
    tiles.push(new Tile(2, 3 - i)); // 16 17 18 19
  }
  tiles.push(new Tile(0, 4)); // 20 IN 0
  tiles.push(new Tile(2, 4)); // 21 IN 1
  tiles.push(new Tile(0, -1)); // 22 OUT 0
  return tiles.push(new Tile(2, -1)); // 23 OUT 1
};

createPlayer0 = function() {
  var i, j, len, ref, results;
  ref = [20, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 10, 9, 8, 7, 6, 5, 4, 22];
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(p0.push(tiles[i]));
  }
  return results;
};

createPlayer1 = function() {
  var i, j, len, ref, results;
  ref = [21, 16, 17, 18, 19, 4, 5, 6, 7, 8, 9, 10, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 23];
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    results.push(p1.push(tiles[i]));
  }
  return results;
};

setup = function() {
  var i, j, k, len, len1, letter, ref, ref1, results;
  createCanvas(windowWidth, windowHeight);
  rectMode(CENTER);
  textAlign(CENTER, CENTER);
  textSize(100);
  createAllTiles();
  createPlayer0();
  createPlayer1();
  dice = new Dice();
  ref = range(MARKERS);
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    tiles[20].markers.push(new Marker(0));
    tiles[21].markers.push(new Marker(1));
  }
  ref1 = 'SASRIAMRAMSRPAPRSASROOXX';
  results = [];
  for (i = k = 0, len1 = ref1.length; k < len1; i = ++k) {
    letter = ref1[i];
    results.push(tiles[i].letter = letter);
  }
  return results;
};

draw = function() {
  var j, len, tile;
  bg(0);
  for (j = 0, len = tiles.length; j < len; j++) {
    tile = tiles[j];
    tile.draw();
  }
  return dice.draw();
};

helper = function(player) { // a,b anger index till player-vektorn
  var a, b, i, j, len, marker, p, tileA, tileB;
  a = null;
  for (i = j = 0, len = player.length; j < len; i = ++j) {
    p = player[i];
    if (p.inside(mouseX, mouseY)) {
      a = i;
      if (_.last(p.markers).promoted) {
        if (a >= 12) {
          break;
        }
      } else {
        break;
      }
    }
  }
  if (a === null) {
    return;
  }
  b = a + dice.value;
  tileA = player[a];
  if (tileA.markers.length === 0) {
    return;
  }
  marker = _.last(tileA.markers);
  if (a === 0) {
    tileB = player[b];
    return tileA.click(marker, tileB);
  } else {
    marker = _.last(tileA.markers);
    tileB = player[b];
    if (a >= 12) {
      marker.promoted = true;
    }
    if (b < player.length) {
      return tileA.click(marker, tileB);
    }
  }
};

mousePressed = function() {
  if (dice.inside(mouseX, mouseY)) {
    return dice.rotate();
  } else {
    if (player === 0) {
      return helper(p0);
    } else {
      return helper(p1);
    }
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLGNBQUEsRUFBQSxhQUFBLEVBQUEsYUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQTtFQUFBOztBQUFBLE1BQUEsR0FBUyxJQUFJLENBQUMsTUFBTSxDQUFDOztBQUVyQixPQUFBLEdBQVU7O0FBQ1YsTUFBQSxHQUFTO0VBQUMsQ0FBQSxFQUFFLE1BQUg7RUFBVSxDQUFBLEVBQUUsTUFBWjtFQUFtQixDQUFBLEVBQUUsTUFBckI7RUFBNEIsQ0FBQSxFQUFFLE1BQTlCO0VBQXFDLENBQUEsRUFBRSxNQUF2QztFQUE4QyxDQUFBLEVBQUUsTUFBaEQ7RUFBdUQsQ0FBQSxFQUFFLE1BQXpEO0VBQWlFLENBQUEsRUFBRTtBQUFuRTs7QUFDVCxHQUFBLEdBQ0M7RUFBQSxDQUFBLEVBQUUsQ0FBRjtFQUNBLENBQUEsRUFBRSxDQURGO0VBRUEsQ0FBQSxFQUFFLENBRkY7RUFHQSxDQUFBLEVBQUUsQ0FIRjtFQUlBLENBQUEsRUFBRSxDQUpGO0VBS0EsQ0FBQSxFQUFFLENBTEY7QUFBQTs7QUFPRCxFQUFBLEdBQUssR0FaTDs7QUFhQSxFQUFBLEdBQUssR0FiTDs7QUFlQSxLQUFBLEdBQVEsR0FmUjs7QUFpQkEsTUFBQSxHQUFTLEVBakJUOztBQWtCQSxJQUFBLEdBQU87O0FBRUQsT0FBTixNQUFBLEtBQUE7RUFDQyxXQUFjLENBQUEsQ0FBQTtJQUNiLElBQUMsQ0FBQSxLQUFELENBQUE7RUFEYTs7RUFFZCxLQUFRLENBQUEsQ0FBQTtXQUNQLElBQUMsQ0FBQSxLQUFELEdBQVMsTUFBQSxDQUFPO01BQUMsQ0FBRDtNQUFHLENBQUg7TUFBSyxDQUFMO01BQU8sQ0FBUDtNQUFTLENBQVQ7TUFBVyxDQUFYO01BQWEsQ0FBYjtNQUFlLENBQWY7S0FBUDtFQURGLENBRlI7OztFQUtBLE1BQVMsQ0FBQyxFQUFELEVBQUksRUFBSixDQUFBO0FBQ1IsUUFBQSxDQUFBLEVBQUE7SUFBQSxDQUFBLEdBQUksS0FBQSxHQUFNLENBQU4sR0FBUSxHQUFSLEdBQVksR0FBQSxHQUFJLE1BQUosR0FBVztJQUMzQixDQUFBLEdBQUksR0FBQSxHQUFJLEdBQUEsR0FBSTtXQUNaLENBQUEsQ0FBQSxHQUFFLEVBQUYsR0FBTyxFQUFQLElBQU8sRUFBUCxHQUFZLENBQUEsR0FBRSxFQUFkLENBQUEsSUFBcUIsQ0FBQSxDQUFBLEdBQUUsRUFBRixHQUFPLEVBQVAsSUFBTyxFQUFQLEdBQVksQ0FBQSxHQUFFLEVBQWQ7RUFIYjs7RUFJVCxNQUFTLENBQUEsQ0FBQTtJQUNSLElBQUMsQ0FBQSxLQUFELEdBQVMsSUFBQyxDQUFBLEtBQUQsR0FBUztJQUNsQixJQUFHLElBQUMsQ0FBQSxLQUFELEtBQVUsQ0FBYjthQUFvQixJQUFDLENBQUEsS0FBRCxHQUFTLEVBQTdCOztFQUZROztFQUdULElBQU8sQ0FBQSxDQUFBO0FBQ04sUUFBQSxDQUFBLEVBQUE7SUFBQSxDQUFBLEdBQUksS0FBQSxHQUFNLENBQU4sR0FBUSxHQUFSLEdBQVksR0FBQSxHQUFJLE1BQUosR0FBVztJQUMzQixDQUFBLEdBQUksR0FBQSxHQUFJLEdBQUEsR0FBSTtJQUNaLEVBQUEsQ0FBRyxDQUFIO0lBQ0EsUUFBQSxDQUFTLEVBQVQ7V0FDQSxJQUFBLENBQUssSUFBQyxDQUFBLEtBQU4sRUFBWSxDQUFaLEVBQWMsQ0FBQSxHQUFFLENBQWhCO0VBTE07O0FBYlI7O0FBb0JNLFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxRQUFBLGFBQW9CLEtBQXBCLENBQUEsRUFBQTtJQUFDLElBQUMsQ0FBQTtJQUFRLElBQUMsQ0FBQTtFQUFYOztFQUNkLElBQU8sQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBO0FBQ04sUUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBO0lBQUEsSUFBRyxJQUFDLENBQUEsTUFBRCxLQUFXLENBQWQ7TUFBcUIsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLElBQVQsRUFBckI7S0FBQSxNQUFBO01BQXdDLEVBQUEsQ0FBRyxHQUFILEVBQU8sR0FBUCxFQUFXLEdBQVgsRUFBZSxJQUFmLEVBQXhDOztJQUNBLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLEVBQVg7SUFDQSxJQUFHLElBQUMsQ0FBQSxRQUFKO01BQ0MsSUFBQSxDQUFLLE1BQUw7QUFDQTtBQUFBO01BQUEsS0FBQSxxQ0FBQTtRQUFJLENBQUMsRUFBRCxFQUFJLEVBQUo7cUJBQ0gsTUFBQSxDQUFPLENBQUEsR0FBRSxFQUFBLEdBQUcsRUFBWixFQUFlLENBQUEsR0FBRSxFQUFBLEdBQUcsRUFBcEIsRUFBdUIsQ0FBdkI7TUFERCxDQUFBO3FCQUZEOztFQUhNOztBQUZSOztBQVVNLE9BQU4sTUFBQSxLQUFBO0VBQ0MsV0FBYyxHQUFBLElBQUEsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUFHLElBQUMsQ0FBQTtJQUNuQixJQUFDLENBQUEsTUFBRCxHQUFVO0lBQ1YsSUFBQyxDQUFBLE9BQUQsR0FBVztFQUZFOztFQUlkLE1BQVMsQ0FBQyxFQUFELEVBQUksRUFBSixDQUFBO0FBQ1IsUUFBQSxDQUFBLEVBQUE7SUFBQSxDQUFBLEdBQUksS0FBQSxHQUFNLENBQU4sR0FBUSxHQUFSLEdBQVksR0FBQSxHQUFJLElBQUMsQ0FBQTtJQUNyQixDQUFBLEdBQUksR0FBQSxHQUFJLEdBQUEsR0FBSSxJQUFDLENBQUE7V0FDYixDQUFBLENBQUEsR0FBRSxFQUFGLEdBQU8sRUFBUCxJQUFPLEVBQVAsR0FBWSxDQUFBLEdBQUUsRUFBZCxDQUFBLElBQXFCLENBQUEsQ0FBQSxHQUFFLEVBQUYsR0FBTyxFQUFQLElBQU8sRUFBUCxHQUFZLENBQUEsR0FBRSxFQUFkLENBQXJCLElBQTBDLElBQUMsQ0FBQSxPQUFPLENBQUMsTUFBVCxLQUFrQjtFQUhwRDs7RUFLVCxLQUFRLENBQUMsTUFBRCxFQUFRLE1BQVIsQ0FBQTtJQUNQLElBQUcsSUFBQyxDQUFBLEtBQUQsQ0FBTyxNQUFQLEVBQWMsTUFBZCxDQUFIO2FBQTZCLElBQUMsQ0FBQSxJQUFELENBQU0sTUFBTixFQUE3Qjs7RUFETzs7RUFHUixLQUFRLENBQUMsTUFBRCxFQUFRLE1BQVIsQ0FBQTtBQUNQLFFBQUEsTUFBQSxFQUFBO0lBQUEsSUFBRyxNQUFNLENBQUMsTUFBUCxLQUFpQixNQUFwQjtBQUFnQyxhQUFPLE1BQXZDOztJQUNBLENBQUEsR0FBSSxNQUFNLENBQUMsT0FBTyxDQUFDO0lBQ25CLE1BQUEsR0FBUyxNQUFNLENBQUM7SUFFaEIsSUFBRyxNQUFBLEtBQVUsR0FBVixJQUFrQixDQUFBLEtBQUssQ0FBMUI7QUFBaUMsYUFBTyxNQUF4Qzs7SUFFQSxJQUFHLGFBQVUsTUFBVixFQUFBLE1BQUEsTUFBSDtNQUNDLElBQUcsQ0FBQSxLQUFLLENBQVI7QUFBZSxlQUFPLEtBQXRCOztBQUNBLGFBQU8sTUFBTSxDQUFDLE1BQVAsS0FBaUIsTUFBTSxDQUFDLE9BQVEsQ0FBQSxDQUFBLENBQUUsQ0FBQyxPQUYzQzs7SUFJQSxJQUFHLE1BQUEsS0FBVSxHQUFiO01BQ0MsSUFBRyxDQUFBLEtBQUssQ0FBUjtBQUFlLGVBQU8sS0FBdEI7O01BQ0EsSUFBRyxNQUFNLENBQUMsTUFBUCxLQUFpQixNQUFNLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQXRDO0FBQWtELGVBQU8sTUFBekQ7T0FBQSxNQUFBO0FBQ0ssZUFBTyxNQUFNLENBQUMsUUFBUCxLQUFtQixNQUFNLENBQUMsT0FBUSxDQUFBLENBQUEsQ0FBRSxDQUFDLFNBRGpEO09BRkQ7O0lBS0EsSUFBRyxNQUFBLEtBQVUsR0FBYjtBQUFzQixhQUFPLENBQUEsR0FBSSxFQUFqQzs7SUFDQSxJQUFHLE1BQUEsS0FBVSxHQUFiO0FBQXNCLGFBQU8sS0FBN0I7O1dBRUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFUO0VBbkJPOztFQXFCUixJQUFPLENBQUMsTUFBRCxDQUFBO0FBQ04sUUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBO0lBQUEsQ0FBQSxHQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUM7SUFDbkIsSUFBRyxHQUFJLENBQUEsTUFBTSxDQUFDLE1BQVAsQ0FBSixLQUFzQixDQUF6QjtNQUNDLElBQUcsQ0FBQSxLQUFLLENBQVI7UUFDQyxLQUFBLEdBQVEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFmLENBQUE7UUFDUixLQUFLLENBQUMsUUFBTixHQUFpQjtRQUNqQixLQUFNLENBQUEsRUFBQSxHQUFLLEtBQUssQ0FBQyxNQUFYLENBQWtCLENBQUMsT0FBTyxDQUFDLElBQWpDLENBQXNDLEtBQXRDLEVBSEQ7O01BSUEsTUFBQSxHQUFTLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBVCxDQUFBO01BQ1QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFmLENBQW9CLE1BQXBCLEVBTkQ7S0FBQSxNQUFBO01BUUMsTUFBQSxHQUFTLElBQUMsQ0FBQSxPQUFPLENBQUMsR0FBVCxDQUFBO01BQ1QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFmLENBQW9CLE1BQXBCLEVBVEQ7O0lBVUEsSUFBRyxNQUFNLENBQUMsTUFBUCxLQUFpQixHQUFwQjtNQUE2QixNQUFBLEdBQVMsQ0FBQSxHQUFJLE9BQTFDOztXQUNBLElBQUksQ0FBQyxLQUFMLENBQUE7RUFiTTs7RUFlUCxJQUFPLENBQUEsQ0FBQTtBQUNOLFFBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUFBO0lBQUEsSUFBQSxDQUFLLE1BQU8sQ0FBQSxJQUFDLENBQUEsTUFBRCxDQUFaO0lBQ0EsQ0FBQSxHQUFJLEtBQUEsR0FBTSxDQUFOLEdBQVEsR0FBUixHQUFZLEdBQUEsR0FBSSxJQUFDLENBQUE7SUFDckIsQ0FBQSxHQUFJLEdBQUEsR0FBSSxHQUFBLEdBQUksSUFBQyxDQUFBO0lBQ2IsSUFBQSxDQUFLLENBQUwsRUFBTyxDQUFQLEVBQVMsRUFBVCxFQUFZLEVBQVo7SUFDQSxFQUFBLENBQUcsQ0FBSDtJQUNBLFFBQUEsQ0FBUyxHQUFUO0lBQ0EsSUFBQSxDQUFLLElBQUMsQ0FBQSxNQUFOLEVBQWEsQ0FBYixFQUFlLENBQUEsR0FBRSxDQUFqQjtBQUNBO0FBQUE7SUFBQSxLQUFBLDZDQUFBOzttQkFDQyxNQUFNLENBQUMsSUFBUCxDQUFZLENBQUEsR0FBRSxFQUFBLEdBQUcsQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUFqQixFQUF3QixDQUFBLEdBQUUsQ0FBQSxHQUFFLENBQUMsQ0FBQSxHQUFFLENBQUgsQ0FBSixHQUFVLEVBQWxDO0lBREQsQ0FBQTs7RUFSTTs7QUFqRFI7O0FBNERBLGNBQUEsR0FBaUIsUUFBQSxDQUFBLENBQUE7QUFDaEIsTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQTtBQUFBO0VBQUEsS0FBQSxxQ0FBQTs7SUFDQyxLQUFLLENBQUMsSUFBTixDQUFXLElBQUksSUFBSixDQUFTLENBQVQsRUFBVyxDQUFBLEdBQUUsQ0FBYixDQUFYLEVBREQ7RUFBQTtBQUdBO0VBQUEsS0FBQSx3Q0FBQTs7SUFDQyxLQUFLLENBQUMsSUFBTixDQUFXLElBQUksSUFBSixDQUFTLENBQVQsRUFBVyxDQUFYLENBQVgsRUFERDtFQUFBO0VBR0EsS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFJLElBQUosQ0FBUyxDQUFULEVBQVcsQ0FBWCxDQUFYLEVBTkE7RUFPQSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUksSUFBSixDQUFTLENBQVQsRUFBVyxDQUFYLENBQVgsRUFQQTtFQVFBLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBSSxJQUFKLENBQVMsQ0FBVCxFQUFXLENBQVgsQ0FBWCxFQVJBO0VBU0EsS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFJLElBQUosQ0FBUyxDQUFULEVBQVcsQ0FBWCxDQUFYLEVBVEE7RUFVQSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUksSUFBSixDQUFTLENBQVQsRUFBVyxDQUFYLENBQVgsRUFWQTtFQVdBLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBSSxJQUFKLENBQVMsQ0FBVCxFQUFXLENBQVgsQ0FBWCxFQVhBO0FBYUE7RUFBQSxLQUFBLHdDQUFBOztJQUNDLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBSSxJQUFKLENBQVMsQ0FBVCxFQUFXLENBQUEsR0FBRSxDQUFiLENBQVgsRUFERDtFQUFBO0VBR0EsS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFJLElBQUosQ0FBUyxDQUFULEVBQVcsQ0FBWCxDQUFYLEVBaEJBO0VBaUJBLEtBQUssQ0FBQyxJQUFOLENBQVcsSUFBSSxJQUFKLENBQVMsQ0FBVCxFQUFXLENBQVgsQ0FBWCxFQWpCQTtFQWtCQSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUksSUFBSixDQUFTLENBQVQsRUFBVyxDQUFDLENBQVosQ0FBWCxFQWxCQTtTQW1CQSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUksSUFBSixDQUFTLENBQVQsRUFBVyxDQUFDLENBQVosQ0FBWCxFQXBCZ0I7QUFBQTs7QUFzQmpCLGFBQUEsR0FBZ0IsUUFBQSxDQUFBLENBQUE7QUFBRyxNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFpQjtBQUFBO0VBQUEsS0FBQSxxQ0FBQTs7aUJBQWpCLEVBQUUsQ0FBQyxJQUFILENBQVEsS0FBTSxDQUFBLENBQUEsQ0FBZDtFQUFpQixDQUFBOztBQUFwQjs7QUFDaEIsYUFBQSxHQUFnQixRQUFBLENBQUEsQ0FBQTtBQUFHLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBO0FBQWlCO0FBQUE7RUFBQSxLQUFBLHFDQUFBOztpQkFBakIsRUFBRSxDQUFDLElBQUgsQ0FBUSxLQUFNLENBQUEsQ0FBQSxDQUFkO0VBQWlCLENBQUE7O0FBQXBCOztBQUVoQixLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7QUFDUCxNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUE7RUFBQSxZQUFBLENBQWEsV0FBYixFQUF5QixZQUF6QjtFQUVBLFFBQUEsQ0FBUyxNQUFUO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7RUFDQSxRQUFBLENBQVMsR0FBVDtFQUVBLGNBQUEsQ0FBQTtFQUNBLGFBQUEsQ0FBQTtFQUNBLGFBQUEsQ0FBQTtFQUVBLElBQUEsR0FBTyxJQUFJLElBQUosQ0FBQTtBQUVQO0VBQUEsS0FBQSxxQ0FBQTs7SUFDQyxLQUFNLENBQUEsRUFBQSxDQUFHLENBQUMsT0FBTyxDQUFDLElBQWxCLENBQXVCLElBQUksTUFBSixDQUFXLENBQVgsQ0FBdkI7SUFDQSxLQUFNLENBQUEsRUFBQSxDQUFHLENBQUMsT0FBTyxDQUFDLElBQWxCLENBQXVCLElBQUksTUFBSixDQUFXLENBQVgsQ0FBdkI7RUFGRDtBQUl5QjtBQUFBO0VBQUEsS0FBQSxnREFBQTs7aUJBQXpCLEtBQU0sQ0FBQSxDQUFBLENBQUUsQ0FBQyxNQUFULEdBQWtCO0VBQU8sQ0FBQTs7QUFqQmxCOztBQW1CUixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDTixNQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7RUFBQSxFQUFBLENBQUcsQ0FBSDtFQUNBLEtBQUEsdUNBQUE7O0lBQ0MsSUFBSSxDQUFDLElBQUwsQ0FBQTtFQUREO1NBRUEsSUFBSSxDQUFDLElBQUwsQ0FBQTtBQUpNOztBQU1QLE1BQUEsR0FBUyxRQUFBLENBQUMsTUFBRCxDQUFBLEVBQUE7QUFDUixNQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxLQUFBLEVBQUE7RUFBQSxDQUFBLEdBQUk7RUFDSixLQUFBLGdEQUFBOztJQUNDLElBQUcsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxNQUFULEVBQWdCLE1BQWhCLENBQUg7TUFDQyxDQUFBLEdBQUk7TUFDSixJQUFHLENBQUMsQ0FBQyxJQUFGLENBQU8sQ0FBQyxDQUFDLE9BQVQsQ0FBaUIsQ0FBQyxRQUFyQjtRQUNDLElBQUcsQ0FBQSxJQUFLLEVBQVI7QUFBZ0IsZ0JBQWhCO1NBREQ7T0FBQSxNQUFBO0FBR0MsY0FIRDtPQUZEOztFQUREO0VBT0EsSUFBRyxDQUFBLEtBQUssSUFBUjtBQUFrQixXQUFsQjs7RUFDQSxDQUFBLEdBQUksQ0FBQSxHQUFJLElBQUksQ0FBQztFQUViLEtBQUEsR0FBUSxNQUFPLENBQUEsQ0FBQTtFQUNmLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFkLEtBQXdCLENBQTNCO0FBQWtDLFdBQWxDOztFQUNBLE1BQUEsR0FBUyxDQUFDLENBQUMsSUFBRixDQUFPLEtBQUssQ0FBQyxPQUFiO0VBQ1QsSUFBRyxDQUFBLEtBQUssQ0FBUjtJQUNDLEtBQUEsR0FBUSxNQUFPLENBQUEsQ0FBQTtXQUNmLEtBQUssQ0FBQyxLQUFOLENBQVksTUFBWixFQUFtQixLQUFuQixFQUZEO0dBQUEsTUFBQTtJQUlDLE1BQUEsR0FBUyxDQUFDLENBQUMsSUFBRixDQUFPLEtBQUssQ0FBQyxPQUFiO0lBQ1QsS0FBQSxHQUFRLE1BQU8sQ0FBQSxDQUFBO0lBQ2YsSUFBRyxDQUFBLElBQUssRUFBUjtNQUFnQixNQUFNLENBQUMsUUFBUCxHQUFrQixLQUFsQzs7SUFDQSxJQUFHLENBQUEsR0FBSSxNQUFNLENBQUMsTUFBZDthQUNDLEtBQUssQ0FBQyxLQUFOLENBQVksTUFBWixFQUFtQixLQUFuQixFQUREO0tBUEQ7O0FBZlE7O0FBeUJULFlBQUEsR0FBZSxRQUFBLENBQUEsQ0FBQTtFQUNkLElBQUcsSUFBSSxDQUFDLE1BQUwsQ0FBWSxNQUFaLEVBQW1CLE1BQW5CLENBQUg7V0FDQyxJQUFJLENBQUMsTUFBTCxDQUFBLEVBREQ7R0FBQSxNQUFBO0lBR0MsSUFBRyxNQUFBLEtBQVUsQ0FBYjthQUFvQixNQUFBLENBQU8sRUFBUCxFQUFwQjtLQUFBLE1BQUE7YUFBbUMsTUFBQSxDQUFPLEVBQVAsRUFBbkM7S0FIRDs7QUFEYyIsInNvdXJjZXNDb250ZW50IjpbImFzc2VydCA9IGNoYWkuYXNzZXJ0LmRlZXBFcXVhbFxyXG5cclxuTUFSS0VSUyA9IDdcclxuQ09MT1JTID0ge1A6JyNmMDAnLFI6JyNmMGYnLEk6JyMwZjAnLFM6JyNmZjAnLE06JyMwZmYnLEE6JyNmZmYnLE86JyMwMDAnLCBYOicjMDAwJ31cclxuTUFYID0gXHJcblx0UDoxICMgUHJvbW90aW9uXHJcblx0UjoxICMgUmVwbGF5XHJcblx0SToxICMgUHJvbW90ZWQgUHJvdGVjdGlvblxyXG5cdFM6NCAjIFN0YWNrIDQgXHJcblx0TTo0ICMgTWl4ZWQgNFxyXG5cdEE6MSAjIEF0dGFja1xyXG5cclxucDAgPSBbXSAjIFBhdGggb2YgcGxheWVyIDBcclxucDEgPSBbXSAjIFBhdGggb2YgcGxheWVyIDFcclxuXHJcbnRpbGVzID0gW10gIyBUd2VudHkgdGlsZXNcclxuXHJcbnBsYXllciA9IDAgIyAwIG9yIDFcclxuZGljZSA9IG51bGwgXHJcblxyXG5jbGFzcyBEaWNlXHJcblx0Y29uc3RydWN0b3IgOiAoKSAtPlxyXG5cdFx0QHRocm93KClcclxuXHR0aHJvdyA6IC0+XHJcblx0XHRAdmFsdWUgPSByYW5kb20gWzEsMSwxLDIsMiwyLDMsNF0gIyB0aHJlZSB0ZXRyYXNcclxuXHRcdCNAdmFsdWUgPSByYW5kb20gWzAsMSwxLDEsMSwyLDIsMiwyLDIsMiwyLDMsMywzLDMsNF0gIyBmb3VyIHRldHJhc1xyXG5cdGluc2lkZSA6IChteCxteSkgLT4gXHJcblx0XHR4ID0gd2lkdGgvMi0xMDArMTAwKnBsYXllcioyXHJcblx0XHR5ID0gMjAwKzEwMCo1XHJcblx0XHR4LTUwIDwgbXggPCB4KzUwIGFuZCB5LTUwIDwgbXkgPCB5KzUwXHJcblx0cm90YXRlIDogLT5cclxuXHRcdEB2YWx1ZSA9IEB2YWx1ZSArIDFcclxuXHRcdGlmIEB2YWx1ZSA9PSA1IHRoZW4gQHZhbHVlID0gMVxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0eCA9IHdpZHRoLzItMTAwKzEwMCpwbGF5ZXIqMlxyXG5cdFx0eSA9IDIwMCsxMDAqNVxyXG5cdFx0ZmMgMVxyXG5cdFx0dGV4dFNpemUgNTBcclxuXHRcdHRleHQgQHZhbHVlLHgseSs3XHJcblxyXG5jbGFzcyBNYXJrZXIgXHJcblx0Y29uc3RydWN0b3IgOiAoQHBsYXllciwgQHByb21vdGVkPWZhbHNlKSAtPlx0IyBwcm9tb3RlZCBtYXJrZXIgaXMgaW5kaWNhdGVkIGJ5IGZpdmUgZG90c1x0XHJcblx0ZHJhdyA6ICh4LHkpIC0+XHJcblx0XHRpZiBAcGxheWVyID09IDAgdGhlbiBmYyAxLDAsMCwwLjc1IGVsc2UgZmMgMC41LDAuNSwwLjUsMC43NVxyXG5cdFx0Y2lyY2xlIHgseSwyNVxyXG5cdFx0aWYgQHByb21vdGVkXHJcblx0XHRcdGZpbGwgJyNmZjAnXHJcblx0XHRcdGZvciBbZHgsZHldIGluIFtbLTEsLTFdLFstMSwxXSxbMSwxXSxbMSwtMV0sWzAsMF1dXHJcblx0XHRcdFx0Y2lyY2xlIHgrMTAqZHgseSsxMCpkeSw1XHJcblxyXG5jbGFzcyBUaWxlXHJcblx0Y29uc3RydWN0b3IgOiAoQHgsIEB5KSAtPlxyXG5cdFx0QGxldHRlciA9ICcgJ1xyXG5cdFx0QG1hcmtlcnMgPSBbXVxyXG5cclxuXHRpbnNpZGUgOiAobXgsbXkpIC0+IFxyXG5cdFx0eCA9IHdpZHRoLzItMTAwKzEwMCpAeFxyXG5cdFx0eSA9IDIwMCsxMDAqQHlcclxuXHRcdHgtNTAgPCBteCA8IHgrNTAgYW5kIHktNTAgPCBteSA8IHkrNTAgYW5kIEBtYXJrZXJzLmxlbmd0aCAhPTAgXHJcblx0XHJcblx0Y2xpY2sgOiAobWFya2VyLHRhcmdldCkgLT4gXHJcblx0XHRpZiBAbGVnYWwgbWFya2VyLHRhcmdldCB0aGVuIEBtb3ZlIHRhcmdldFxyXG5cclxuXHRsZWdhbCA6IChtYXJrZXIsdGFyZ2V0KSAtPiBcclxuXHRcdGlmIG1hcmtlci5wbGF5ZXIgIT0gcGxheWVyIHRoZW4gcmV0dXJuIGZhbHNlIFxyXG5cdFx0biA9IHRhcmdldC5tYXJrZXJzLmxlbmd0aFxyXG5cdFx0bGV0dGVyID0gdGFyZ2V0LmxldHRlclxyXG5cclxuXHRcdGlmIGxldHRlciA9PSAnUycgYW5kIG4gPT0gNCB0aGVuIHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIGxldHRlciBpbiAnUFJBUydcclxuXHRcdFx0aWYgbiA9PSAwIHRoZW4gcmV0dXJuIHRydWVcclxuXHRcdFx0cmV0dXJuIG1hcmtlci5wbGF5ZXIgIT0gdGFyZ2V0Lm1hcmtlcnNbMF0ucGxheWVyXHJcblxyXG5cdFx0aWYgbGV0dGVyID09ICdJJ1xyXG5cdFx0XHRpZiBuID09IDAgdGhlbiByZXR1cm4gdHJ1ZVxyXG5cdFx0XHRpZiBtYXJrZXIucGxheWVyID09IHRhcmdldC5tYXJrZXJzWzBdLnBsYXllciB0aGVuIHJldHVybiBmYWxzZVxyXG5cdFx0XHRlbHNlIHJldHVybiBtYXJrZXIucHJvbW90ZWQgPT0gdGFyZ2V0Lm1hcmtlcnNbMF0ucHJvbW90ZWRcclxuXHJcblx0XHRpZiBsZXR0ZXIgPT0gJ00nIHRoZW4gcmV0dXJuIG4gPCA0IFxyXG5cdFx0aWYgbGV0dGVyID09ICdYJyB0aGVuIHJldHVybiB0cnVlXHJcblxyXG5cdFx0YXNzZXJ0IDAsMVxyXG5cclxuXHRtb3ZlIDogKHRhcmdldCkgLT5cclxuXHRcdG4gPSB0YXJnZXQubWFya2Vycy5sZW5ndGhcclxuXHRcdGlmIE1BWFt0YXJnZXQubGV0dGVyXSA9PSAxXHJcblx0XHRcdGlmIG4gPT0gMVxyXG5cdFx0XHRcdGVuZW15ID0gdGFyZ2V0Lm1hcmtlcnMucG9wKClcclxuXHRcdFx0XHRlbmVteS5wcm9tb3RlZCA9IGZhbHNlXHJcblx0XHRcdFx0dGlsZXNbMjAgKyBlbmVteS5wbGF5ZXJdLm1hcmtlcnMucHVzaCBlbmVteVxyXG5cdFx0XHRtYXJrZXIgPSBAbWFya2Vycy5wb3AoKVxyXG5cdFx0XHR0YXJnZXQubWFya2Vycy5wdXNoIG1hcmtlclxyXG5cdFx0ZWxzZSAjIE1BWCA9IDQsIGp1c3QgbW92ZVxyXG5cdFx0XHRtYXJrZXIgPSBAbWFya2Vycy5wb3AoKVxyXG5cdFx0XHR0YXJnZXQubWFya2Vycy5wdXNoIG1hcmtlclxyXG5cdFx0aWYgdGFyZ2V0LmxldHRlciAhPSAnUicgdGhlbiBwbGF5ZXIgPSAxIC0gcGxheWVyXHJcblx0XHRkaWNlLnRocm93KClcclxuXHJcblx0ZHJhdyA6IC0+XHJcblx0XHRmaWxsIENPTE9SU1tAbGV0dGVyXVxyXG5cdFx0eCA9IHdpZHRoLzItMTAwKzEwMCpAeFxyXG5cdFx0eSA9IDIwMCsxMDAqQHlcclxuXHRcdHJlY3QgeCx5LDkwLDkwXHJcblx0XHRmYyAwXHJcblx0XHR0ZXh0U2l6ZSAxMDBcclxuXHRcdHRleHQgQGxldHRlcix4LHkrOVxyXG5cdFx0Zm9yIG1hcmtlcixpIGluIEBtYXJrZXJzXHJcblx0XHRcdG1hcmtlci5kcmF3IHgrMTAqKGklMiksIHkrNyooNy1pKS0zMFxyXG5cclxuY3JlYXRlQWxsVGlsZXMgPSAoKSAtPlxyXG5cdGZvciBpIGluIHJhbmdlIDRcclxuXHRcdHRpbGVzLnB1c2ggbmV3IFRpbGUgMCwzLWkgIyAwIDEgMiAzXHJcblxyXG5cdGZvciBpIGluIHJhbmdlIDZcclxuXHRcdHRpbGVzLnB1c2ggbmV3IFRpbGUgMSxpICMgNCA1IDYgNyA4IDlcclxuXHJcblx0dGlsZXMucHVzaCBuZXcgVGlsZSAxLDYgIyAxMFxyXG5cdHRpbGVzLnB1c2ggbmV3IFRpbGUgMCw2ICMgMTFcclxuXHR0aWxlcy5wdXNoIG5ldyBUaWxlIDAsNyAjIDEyXHJcblx0dGlsZXMucHVzaCBuZXcgVGlsZSAxLDcgIyAxM1xyXG5cdHRpbGVzLnB1c2ggbmV3IFRpbGUgMiw3ICMgMTRcclxuXHR0aWxlcy5wdXNoIG5ldyBUaWxlIDIsNiAjIDE1XHJcblxyXG5cdGZvciBpIGluIHJhbmdlIDRcclxuXHRcdHRpbGVzLnB1c2ggbmV3IFRpbGUgMiwzLWkgIyAxNiAxNyAxOCAxOVxyXG5cclxuXHR0aWxlcy5wdXNoIG5ldyBUaWxlIDAsNCAgIyAyMCBJTiAwXHJcblx0dGlsZXMucHVzaCBuZXcgVGlsZSAyLDQgICMgMjEgSU4gMVxyXG5cdHRpbGVzLnB1c2ggbmV3IFRpbGUgMCwtMSAjIDIyIE9VVCAwXHJcblx0dGlsZXMucHVzaCBuZXcgVGlsZSAyLC0xICMgMjMgT1VUIDFcclxuXHJcbmNyZWF0ZVBsYXllcjAgPSAtPiBwMC5wdXNoIHRpbGVzW2ldIGZvciBpIGluIFsyMCwgMCwgMSwgMiwgMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxMCw5LDgsNyw2LDUsNCwyMl1cclxuY3JlYXRlUGxheWVyMSA9IC0+IHAxLnB1c2ggdGlsZXNbaV0gZm9yIGkgaW4gWzIxLDE2LDE3LDE4LDE5LDQsNSw2LDcsOCw5LDEwLDE1LDE0LDEzLDEyLDExLDEwLDksOCw3LDYsNSw0LDIzXVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHRcclxuXHJcblx0cmVjdE1vZGUgQ0VOVEVSXHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHR0ZXh0U2l6ZSAxMDBcclxuXHJcblx0Y3JlYXRlQWxsVGlsZXMoKVxyXG5cdGNyZWF0ZVBsYXllcjAoKVxyXG5cdGNyZWF0ZVBsYXllcjEoKVxyXG5cclxuXHRkaWNlID0gbmV3IERpY2UoKVxyXG5cclxuXHRmb3IgaSBpbiByYW5nZSBNQVJLRVJTXHJcblx0XHR0aWxlc1syMF0ubWFya2Vycy5wdXNoIG5ldyBNYXJrZXIgMFxyXG5cdFx0dGlsZXNbMjFdLm1hcmtlcnMucHVzaCBuZXcgTWFya2VyIDFcclxuXHJcblx0dGlsZXNbaV0ubGV0dGVyID0gbGV0dGVyIGZvciBsZXR0ZXIsaSBpbiAnU0FTUklBTVJBTVNSUEFQUlNBU1JPT1hYJ1x0XHRcclxuXHRcdFxyXG5kcmF3ID0gLT5cclxuXHRiZyAwXHJcblx0Zm9yIHRpbGUgaW4gdGlsZXNcclxuXHRcdHRpbGUuZHJhdygpXHJcblx0ZGljZS5kcmF3KClcclxuXHJcbmhlbHBlciA9IChwbGF5ZXIpIC0+ICMgYSxiIGFuZ2VyIGluZGV4IHRpbGwgcGxheWVyLXZla3Rvcm5cclxuXHRhID0gbnVsbFxyXG5cdGZvciBwLGkgaW4gcGxheWVyXHJcblx0XHRpZiBwLmluc2lkZSBtb3VzZVgsbW91c2VZIFxyXG5cdFx0XHRhID0gaVx0XHJcblx0XHRcdGlmIF8ubGFzdChwLm1hcmtlcnMpLnByb21vdGVkIFxyXG5cdFx0XHRcdGlmIGEgPj0gMTIgdGhlbiBicmVha1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YnJlYWtcclxuXHRpZiBhID09IG51bGwgdGhlbiByZXR1cm4gXHJcblx0YiA9IGEgKyBkaWNlLnZhbHVlXHJcblxyXG5cdHRpbGVBID0gcGxheWVyW2FdXHJcblx0aWYgdGlsZUEubWFya2Vycy5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxyXG5cdG1hcmtlciA9IF8ubGFzdCB0aWxlQS5tYXJrZXJzXHJcblx0aWYgYSA9PSAwXHJcblx0XHR0aWxlQiA9IHBsYXllcltiXVxyXG5cdFx0dGlsZUEuY2xpY2sgbWFya2VyLHRpbGVCXHJcblx0ZWxzZVxyXG5cdFx0bWFya2VyID0gXy5sYXN0IHRpbGVBLm1hcmtlcnNcclxuXHRcdHRpbGVCID0gcGxheWVyW2JdXHJcblx0XHRpZiBhID49IDEyIHRoZW4gbWFya2VyLnByb21vdGVkID0gdHJ1ZVxyXG5cdFx0aWYgYiA8IHBsYXllci5sZW5ndGhcclxuXHRcdFx0dGlsZUEuY2xpY2sgbWFya2VyLHRpbGVCXHJcblxyXG5tb3VzZVByZXNzZWQgPSAtPiBcclxuXHRpZiBkaWNlLmluc2lkZSBtb3VzZVgsbW91c2VZXHJcblx0XHRkaWNlLnJvdGF0ZSgpXHJcblx0ZWxzZVxyXG5cdFx0aWYgcGxheWVyID09IDAgdGhlbiBoZWxwZXIgcDAgZWxzZSBoZWxwZXIgcDFcclxuIl19
//# sourceURL=c:\Lab\2019\057-RoyalGameOfUr\coffee\sketch.coffee