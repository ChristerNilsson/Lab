{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "partier = []\r\nsave = (namn,andel) -> partier.push {andel,available:true, total:0,namn}\r\nsave 'Socialdemokraterna', 28.26\r\nsave 'Moderaterna',  19.84\r\nsave 'SverigeDemokraterna', 17.53\r\nsave 'Centern', 8.61\r\nsave 'Vänsterpartiet', 8.00\r\nsave 'Kristdemokraterna', 6.32\r\nsave 'Liberalerna', 5.49\r\nsave 'Miljöpartiet', 4.41\r\nsave 'Feministerna', 0.46\r\nsave 'AfS', 0.31\r\n\r\nN = 7497123\r\nröster = []\r\n\r\nSkapaRöster = ->\r\n\tfor parti,index in partier\r\n\t\tn = int parti.andel * N / 100\r\n\t\tfor i in range n\r\n\t\t\tswitch index \r\n\t\t\t\twhen 0 then röster.push [0]\r\n\t\t\t\twhen 1 then röster.push [1]\r\n\t\t\t\twhen 2 \r\n\t\t\t\t\tröster.push if random() < 0.3 then [2,5,0] else [2,5,1]\r\n\t\t\t\twhen 3 \r\n\t\t\t\t\tröster.push if random() < 0.5 then [3,0] else [3,1]\r\n\t\t\t\twhen 4 then röster.push [4,0]\r\n\t\t\t\twhen 5 then röster.push [5,1]\r\n\t\t\t\twhen 6 then röster.push [6,1]\r\n\t\t\t\twhen 7\r\n\t\t\t\t\tröster.push if random() < 0.7 then [7,4,0] else [7,4,1]\r\n\t\t\t\twhen 8 then röster.push [8,4,7,0]\r\n\t\t\t\twhen 9 then röster.push [9,2,1]\r\n\tröster = _.shuffle röster\r\n\tprint \"#{N} röster inlästa\"\r\n\r\nRäknaRöster = ->\r\n\tfor parti in partier\r\n\t\tparti.total = 0\r\n\tfor röst in röster\r\n\t\tfor index in röst\r\n\t\t\tif partier[index].available\r\n\t\t\t\tpartier[index].total++\r\n\t\t\t\tbreak \r\n\tfor p in partier\r\n\t\tprint \"#{p.andel}% #{p.total} #{p.namn}\" if p.available\r\n\r\nsetup = ->\r\n\tSkapaRöster()\r\n\tfor i in range 10\r\n\t\tprint ''\r\n\t\tprint \"------- Omgång #{i} --------\"\r\n\t\tRäknaRöster()\r\n\t\tarr = ([parti.total,i] for parti,i in partier when parti.total > 0)\r\n\t\tarr.sort (item) -> item[0]\r\n\t\t#print 'Partierna',arr\r\n\t\tsumma = röster.length # _.reduce arr, ((sum,pair) -> sum+pair[0]),0\r\n\t\tparti = arr[0]\r\n\t\tprint ''\r\n\t\tprint \"Största parti: #{partier[parti[1]].namn} med #{nf (parti[0]/summa*100), 0,1}% av rösterna\"\r\n\r\n\t\t#print 'summa',summa \r\n\t\tif _.last(arr)[0] > summa/2 then break\r\n\r\n\t\tparti = _.last arr\r\n\t\tprint \"Tag bort #{partier[parti[1]].namn} med #{parti[0]} röster\"\r\n\t\tpartier[parti[1]].available = false\r\n\t\t#print partier\r\n\r\n\tprint '===================================================='\r\n\tindex = arr[0][1]\r\n\tprint \"Slutlig segrare: #{partier[index].namn} med #{nf (parti[index]/summa*100), 0,1} röster\"\r\n"
  ]
}