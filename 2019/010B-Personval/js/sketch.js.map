{
  "version": 3,
  "file": "sketch.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\sketch.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "PERSONS_PER_PAGE = 32\r\nVOTES = 5\r\n\r\nkommunkod = null\r\nlänskod = null\r\n\r\ndbName     = {} # T Områdesnamn\r\ndbTree     = {} # A\r\ndbPartier  = {} # B \r\ndbPersoner = {} # C\r\ndbKommun   = {}\r\n\r\npages = {}\r\n\r\npressed = false \r\n\r\nmakeFreq = (words) -> # personer är en lista\r\n\tres = {}\r\n\twords.sort()\r\n\tfor word in words\r\n\t\tletter = word[0]\r\n\t\tres[letter] = if res[letter] == undefined then 1 else res[letter] + 1\r\n\tres\r\nassert {a:5, b:9, c:4}, makeFreq 'ababcbabcbcbabcbab'.split ''\r\n\r\ngruppera = (words, n=32) -> # words är en lista med ord\r\n\tletters = makeFreq words\r\n\tres = {}\r\n\tgroup = ''\r\n\tcount = 0\r\n\tfor letter,m of letters\r\n\t\tif count + m <= n\r\n\t\t\tgroup += letter\r\n\t\t\tcount += m\r\n\t\telse\r\n\t\t\tif count > 0 then res[group] = count\r\n\t\t\tgroup = letter\r\n\t\t\tcount = m\r\n\tif count > 0 then res[group] = count\r\n\tres\r\nassert {abc:18}, gruppera 'cababbabcbcbabcbab'.split ''\r\nassert {AB:7,C:5,D:9}, gruppera 'DBDCDADBDADCDBDADCBCC'.split(''), 8\r\n\r\nrensa = ->\r\n\tpages.typ.selectedPersons = {R:[], L:[], K:[]}\r\n\tpages.typ.sbuttons = [] \r\n\tpages.typ.selected = null\r\n\tpages.partier.clear()\r\n\tpages.letters.clear()\r\n\tpages.personer.clear()\r\n\tpages.typ.qr = ''\r\n\tpages.typ.start = new Date().getTime()\r\n\r\nclass Button\r\n\tconstructor : (@title, @x,@y,@w,@h,@click = ->) ->\r\n\t\t@ts = 0.6 * @h\r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\tpush()\r\n\t\tsc()\r\n\t\trect @x,@y,@w,@h\r\n\t\tpop()\r\n\t\ttextSize @ts\r\n\t\ttextAlign CENTER,CENTER\r\n\t\tif @page.selected == @ then fc 1,1,0 else fc 1\r\n\t\ttext @title,@x+@w/2,@y+@h/2\r\n\tinside : -> @x < mouseX < @x+@w and @y < mouseY < @y+@h\r\n\r\nclass KommunButton extends Button \r\n\r\n\tconstructor : (key, x,y,w,h,click = ->) ->\r\n\t\tsuper dbKommun[key],x,y,w,h,click\r\n\t\t@key = key \r\n\r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\tpush()\r\n\t\tsc()\r\n\t\trect @x,@y,@w,@h\r\n\t\tpop()\r\n\t\ttextSize 0.65 * @ts\r\n\t\ttextAlign LEFT,CENTER\r\n\t\tif @page.selected == @ then fc 1,1,0 else fc 1\r\n\t\ttext @title,@x+0.025*@w,@y+@h/2\r\n\r\nclass PartiButton extends Button \r\n\tconstructor : (@rkl,@partikod,x,y,w,h,click = ->) ->\r\n\t\tsuper '', x,y,w,h,click\r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\t\ttextSize @ts\r\n\t\ttextAlign CENTER,CENTER\r\n\t\tif @page.selected == @ then fc 1,1,0 else fc 1\r\n\t\t#print @rkl,@partikod\r\n\t\tpartinamn = dbPartier[@rkl][@partikod][0]\r\n\t\tif partinamn == '' then partinamn = dbPartier[@rkl][@partikod][1]\r\n\r\n\t\ttext partinamn,@x+@w/2,@y+@h/2\r\n\r\nclass LetterButton extends Button \r\n\tconstructor : (title,x,y,w,h,@antal,click) ->\r\n\t\tsuper title,x,y,w,h,click\r\n\t\t@pageNo = -1\r\n\t\t@pages = 1 + @antal // PERSONS_PER_PAGE\r\n\t\tif @antal % PERSONS_PER_PAGE == 0 then @pages--\r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\t\ttextSize 0.8 * @ts\r\n\t\ttextAlign CENTER,CENTER\r\n\t\tif @page.selected == @ then fc 1,1,0 else fc 1\r\n\t\ttext @title,@x+@w/2,@y+@h/2\r\n\t\tpush()\r\n\t\t@pageIndicator()\r\n\t\tpop()\r\n\tpageIndicator : ->\r\n\t\tif @pages <= 1 then return \r\n\t\tdx = @w//(@pages+1)\r\n\t\tfor i in range @pages\r\n\t\t\tif i==@pageNo and @page.selected == @ then fc 1 else fc 0\r\n\t\t\tcircle @x + (i+1)*dx , @y+0.85*@h, 3  \r\n\r\nclass PersonButton extends Button\r\n\tconstructor : (@rkl, @partikod, knr, x,y,w,h,click = ->) ->\r\n\t\tsuper knr,x,y,w,h,click\r\n\t\t@knr = knr \r\n\t\tperson = dbPersoner[@rkl][knr]\r\n\t\t@title0 = person[2]\r\n\t\t@title1 = person[3]\r\n\t\tif @title1 == '' then @title1 = \"#{{M:'Man', K:'Kvinna'}[person[1]]} #{person[0]} år\" \r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\t\ttextSize @ts/2\r\n\t\ttextAlign LEFT,CENTER\r\n\t\tfc 1\r\n\t\ttext @title0,@x+2,@y+2+0.3*@h\r\n\t\tfc 0.75\r\n\t\ttext @title1,@x+2,@y+2+0.7*@h\r\n\r\nclass TypButton extends Button\r\n\tconstructor : (@typ, title,x,y,w,h,click = ->) ->\r\n\t\tsuper title, x,y,w,h,click\r\n\r\ngetParameters = (h = window.location.href) -> \r\n\th = decodeURI h\r\n\tarr = h.split '?'\r\n\tif arr.length != 2 then return {}\r\n\tif arr[1] == '' then return {}\r\n\t_.object(f.split '=' for f in arr[1].split '&')\t\t\r\n\r\nloadFile = (filePath) ->\r\n  result = null\r\n  xmlhttp = new XMLHttpRequest()\r\n  xmlhttp.open \"GET\", filePath, false\r\n  xmlhttp.send()\r\n  if xmlhttp.status==200 then result = xmlhttp.responseText  \r\n  result\r\n\r\ngetTxt = (rkl,filename) ->\r\n\tdata = if filename == 'data\\\\09.txt' then '' else loadFile filename \r\n\tdbName[rkl] = ''\r\n\tdbTree[rkl] = {}\r\n\tdbPartier[rkl] = {}\r\n\tdbPersoner[rkl] = {}\r\n\tlines = data.split '\\n'\r\n\tfor line in lines\r\n\t\tline = line.trim()\r\n\t\tcells = line.split '|'\r\n\t\tif cells[0]=='T' # T|Arjeplog\r\n\t\t\tdbName[rkl] = cells[1]\r\n\t\tif cells[0]=='A' # kandidaturer # A|3|208509|208510|208511|208512|208513|208514\r\n\t\t\tdbTree[rkl][cells[1]] = cells.slice 2\r\n\t\tif cells[0]=='B' # partier # B|4|C|Centerpartiet\r\n\t\t\tdbPartier[rkl][cells[1]] = cells.slice 2 \r\n\t\tif cells[0]=='C' # personer # C|10552|53|K|Britta Flinkfeldt|53 år, Arjeplog\r\n\t\t\tdbPersoner[rkl][cells[1]] = cells.slice 2 \r\n\tprint 'getTxt',rkl,filename, data.length, _.size dbPersoner[rkl]\r\n\t#print 'Partier:', _.size dbTree[rkl] \r\n\t#print 'Partier:', _.size dbPartier[rkl]\r\n\t#print 'Personer:', _.size dbPersoner[rkl]\r\n\r\ngetKommun = (filename) ->\r\n\tdata = loadFile filename \r\n\tdbKommun = {}\r\n\tlines = data.split '\\n'\r\n\tfor line in lines\r\n\t\tline = line.trim()\r\n\t\tcells = line.split '|'\r\n\t\tkod = cells[0]\r\n\t\tnamn = cells[1]\r\n\t\tif kod.length==4\r\n\t\t\tdbKommun[kod] = namn\r\n\tprint 'getKommun', _.size dbKommun\r\n\r\npreload = ->\r\n\t{kommun} = getParameters()\r\n\tif not kommun then kommun = '0180'\r\n\tkommunkod = kommun\r\n\tlänskod = kommunkod.slice 0,2\t\r\n\r\n\tgetTxt 'R','data\\\\00.txt'\r\n\tgetTxt 'L',\"data\\\\#{länskod}.txt\"\r\n\tgetTxt 'K',\"data\\\\#{kommunkod}.txt\"\r\n\tgetKommun 'data\\\\omraden.txt'\r\n\r\nfetchKommun = (kommun) -> # t ex '0180'\r\n\tstart = new Date().getTime()\r\n\r\n\tif länskod != kommun.slice 0,2\t\r\n\t\tlänskod = kommun.slice 0,2\t\r\n\t\tgetTxt 'L',\"data\\\\#{länskod}.txt\"\r\n\tif kommunkod != kommun\r\n\t\tkommunkod = kommun\r\n\t\tgetTxt 'K',\"data\\\\#{kommunkod}.txt\"\r\n\r\n\tfor page in pages\r\n\t\tpage.active = true\r\n\tpages.kommun.active = false\r\n\tpages.utskrift.active = false\r\n\r\n\tpages.typ.buttons[1].title = dbName.L\r\n\tpages.typ.buttons[2].title = dbName.K\r\n\r\n\tprint 'time', new Date().getTime() - start\r\n\r\nsetup = ->\r\n\tcreateCanvas windowWidth,windowHeight-1\r\n\tsc()\r\n\ttextAlign CENTER,CENTER\r\n\ttextSize 20\r\n\r\n\tx0 = 0\r\n\tx1 = 0.18*width\r\n\tx2 = 0.28*width\r\n\tx3 = 0.64*width\r\n\tx4 = 1.00*width\r\n\r\n\tpages.partier  = new PartiPage    0,0,x1-x0,height \r\n\tpages.letters  = new LetterPage  x1,0,x2-x1,height \r\n\tpages.personer = new PersonPage  x2,0,x3-x2,height \r\n\tpages.kommun   = new KommunPage   0,0,x4,height \r\n\tpages.typ      = new TypPage     x3,0,x4-x3,height \r\n\tpages.utskrift = new UtskriftPage 0,0,x4,height\r\n\r\n\tpages.utskrift.active = false \r\n\tpages.kommun.active = false\t\t\t\r\n\r\n\tpages.typ.buttons[1].title = dbName.L\r\n\tpages.typ.buttons[2].title = dbName.K\r\n\r\n\tprint _.keys pages \r\n\r\ndraw = ->\t\r\n\tbg 0\r\n\tif _.size pages < 6 then return \r\n\tif pages.utskrift == undefined then return\r\n\tif pages.utskrift.active \r\n\t\tpages.utskrift.draw()\r\n\telse if pages.kommun.active \r\n\t\tpages.kommun.draw()\r\n\telse\r\n\t\tfor key,page of pages \r\n\t\t\tpage.draw()\r\n\r\n# Denna konstruktion nödvändig eftersom klick på Motala ger Utskrift.\r\n# Dvs ett klick tolkas som två. \r\nmousePressed = -> \r\n\tps = (page for key,page of pages when page.active)\r\n\tfor page in ps\r\n\t\tif page.mousePressed() then return\r\n"
  ]
}