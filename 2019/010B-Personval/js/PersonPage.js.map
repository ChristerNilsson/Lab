{
  "version": 3,
  "file": "PersonPage.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\PersonPage.coffee"
  ],
  "names": [],
  "mappings": ";;;;;;;;;;;AAAA,IAAA;IAAA;IAAA;;AAAA,AAAM;;;;;;;;;;;;aAGJ,AAAC,KAAD,AAAC,GADO,AACR,AAAI;AAEL,AAAoB;;;sCAAA,AAAC,KAAD,AAAK,QAAL,AAAY,UAAZ,AAAqB,SAArB,AAA6B;AAChD;;UAAA,GAAA,GAAA,GAAA,GAAA,KAAA,KAAA,QAAA,KAAA,SAAA,GAAA,GAAA;AAAA,AAAC,WAAD,AAAC,WAAW;AACZ,UAAI;AACJ,UAAI,OAAO;AACX,UAAI,AAAO,UAAC,mBAAD,AAAkB;AAC7B,AAAC,WAAD,AAAC,WAAW;AACZ,AAAM,aAAN,AAAO,SAAS,CAAC,AAAM,OAAN,AAAO,SAAR,AAAiB,KAAK,AAAM,OAAC;AAC7C,AAAC,WAAD,AAAC,UAAU;AACX,AAAI,WAAJ,AAAK,KAAK,UAAA,AAAC,GAAD,AAAG;AAAM,YAAG,AAAW,WAAA,AAAK,KAAA,AAAG,GAAnB,AAAmB,KAAK,AAAW,WAAA,AAAK,KAAA,AAAG,GAA9C,AAA8C;iBAAQ,CAAtD,AAAuD;AAAvD,eAAA;iBAAA,AAA8D;AAAvE;AAAV;AACA,UAAI,AACJ;;AAAA,WAAA,mCAAA;;AACC,iBAAS,AAAW,WAAA,AAAK,KAAA;AACzB,kBAAG,AAAO,OAAA,AAAG,GAAV,AAAU,IAAV,aAAA,AAAgB,SAAhB,QAAH;AACC,yBAAG,IAAA,AAAK,OAAK,AAAM,OAAnB,AAAoB;AACnB,2BAAI,eAAI,IAAJ,AAAO,MAAP,AAAY,IAAE;AAClB,gBAAI,IAAI;AACR,gBAAI,IAAA,AAAE,AAAE,KAAC,IAAE,AAAE,eAAC,IAAN,AAAK,AAAI;AACd,aAAA,UAAA,AAAC;4BAAQ,AAAC,cAAU,AAAI,aAAJ,AAAiB,KAAjB,AAAsB,UAAtB,AAAgC,KAAK,AAAC,OAAD,AAAC,IAAtC,AAAwC,GAAE,AAAC,OAAD,AAAC,IAA3C,AAA6C,GAAE,IAAA,AAAE,IAAjD,AAAmD,GAAE,IAAA,AAAE,IAAvD,AAAyD,GAAG;AAClF,AAAC,qBAAA,AAAI,KAAL,AAAM,WAAW;uBACjB,AAAK,MAAC,AAAG,IAAT,AAAU,kBAAkB,CAAA,AAAC,UAFqD,AAElF,AAA4B,AAAU;AAFpC,AAAS,AAAW,eAAA,CAAX,AAAC;AAAb,AAAG,eAJJ,AAIC,AAAI;;uBALN,AAQC;AARD,eAAA;4BAAA;AAFD;AAAA;aAVmB;AAsBpB,AAAc;;;gCAAA,AAAC,KAAD,AAAM,QAAN,AAAc,UAAd,AAAwB;AAAxB;;AACb;UAAA,GAAA,GAAA,GAAA,GAAA,KAAA,KAAA,SAAA,GAAA,GAAA;AAAA,AAAC,WAAD,AAAC,WAAW;AACZ,UAAI;AACJ,UAAI,OAAO;AACX,UAAI,AAAO,UAAC,mBAAD,AAAkB;AAC7B,AAAC,WAAD,AAAC,WAAW;AACZ,AAAC,WAAD,AAAC,UAAU;AAEX,AAAI,WAAJ,AAAK,KAAK,UAAA,AAAC,GAAD,AAAG;AAAM,YAAG,AAAW,WAAA,AAAK,KAAA,AAAG,GAAnB,AAAmB,KAAK,AAAW,WAAA,AAAK,KAAA,AAAG,GAA9C,AAA8C;iBAAQ,CAAtD,AAAuD;AAAvD,eAAA;iBAAA,AAA8D;AAAvE;AAAV,AACA;;AAAA,WAAA,6CAAA;mBAAA;;AAEC,uBAAI,IAAA,AAAG,KAAH,AAAO,IAAE;AACb,YAAI,IAAI;AACR,YAAI,IAAA,AAAE,AAAE,KAAC,IAAI,IAAL,AAAO;qBACZ,UAAA,AAAC,UAAD,AAAU;wBAAQ,AAAC,cAAU,AAAI,aAAJ,AAAiB,KAAjB,AAAsB,UAAtB,AAAgC,KAAK,AAAC,OAAD,AAAC,IAAtC,AAAwC,GAAE,AAAC,OAAD,AAAC,IAA3C,AAA6C,GAAE,IAAA,AAAE,IAAjD,AAAmD,GAAE,IAAA,AAAE,IAAvD,AAAyD,GAAG;AAC3F,AAAC,iBAAA,AAAI,KAAL,AAAM,WAAW;mBACjB,AAAK,MAAC,AAAG,IAAT,AAAU,kBAAkB,CAAC,AAAC,KAAF,AAAE,UAAS,AAAC,KAFmD,AAE3F,AAA4B,AAAY;AAFtC,AAAkB,AAAW,WAAA,CAAX,AAAC;AAAtB,AAAG,SAAA,CAAH,AAAI,UALL,AAKC,AAAa;AALd;aATa;AA3Bf;;;;EAAA,AAAyB,AAExB,AAAS;;AA2CV,AAAM;;;AACL,AAAc,wBAAA,MAAA,WAAA,AAAkB,KAAlB,AAAuB,GAAvB,AAAyB,GAAzB,AAA2B,GAA3B,AAA6B;AAC1C,QAD4C,4EAAQ,YAAA,CAAvC;;;;QACb;;;;AADc,AAAC,WAAA;AAAK,AAAC,WAAA;AAErB,AAAC,WAAD,AAAC,MAAM;AACP,aAAS,AAAW,WAAA,AAAC,OAAD,AAAC,AAAK,KAAA;AAC1B,AAAC,WAAD,AAAC,SAAS,AAAO,OAAA;AACjB,AAAC,WAAD,AAAC,SAAS,AAAO,OAAA;AACjB,QAAG,AAAC,OAAD,AAAC,WAAJ,AAAc;AAAQ,AAAC,aAAD,AAAC,AAAS;AAAI,WAAD,AAAG;AAAO,WAAV,AAAY,AAAU;AAAtB,QAAsB,AAAO,OAAhC,AAAyB,AAAO,YAAO,AAAO,OAA9E,AAAgC,AAA8C,AAAG;AANpE;;AAOd,AAAO;;;;;AACN,SAAA,AAAG;AACH,WAAK,AAAC,KAAN,AAAM,GAAE,AAAC,KAAT,AAAS,GAAE,AAAC,KAAZ,AAAY,GAAE,AAAC,KAAf,AAAe;AACf,eAAS,AAAC,KAAD,AAAC,KAAV,AAAa;AACb,gBAAA,AAAU,MAAV,AAAe;AACf,SAAA,AAAG;AACH,WAAK,AAAC,KAAN,AAAM,QAAO,AAAC,KAAD,AAAC,IAAd,AAAgB,GAAE,AAAC,KAAD,AAAC,IAAD,AAAG,IAAE,MAAI,AAAC,KAA5B,AAA4B;AAC5B,SAAA,AAAG;aACH,KAAK,AAAC,KAAN,AAAM,QAAO,AAAC,KAAD,AAAC,IAAd,AAAgB,GAAE,AAAC,KAAD,AAAC,IAAD,AAAG,IAAE,MAAI,AAAC,KARtB,AAQN,AAA4B;AAhB9B;;;;EAAA,AAA2B",
  "sourcesContent": [
    "class PersonPage extends Page\r\n\r\n\trender : ->\r\n\t\t@bg 0\t\r\n\r\n\tclickLetterButton : (rlk,button,partikod,letters,knrs) ->\r\n\t\t@personer = knrs\r\n\t\tN = PERSONS_PER_PAGE\r\n\t\tw = 0.36 * width\r\n\t\th = height/(PERSONS_PER_PAGE+2)\r\n\t\t@selected = button\r\n\t\tbutton.pageNo = (button.pageNo + 1) % button.pages\r\n\t\t@buttons = []\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][2] < dbPersoner[rlk][b][2] then -1 else 1\r\n\t\tj = 0\r\n\t\tfor knr in knrs\r\n\t\t\tperson = dbPersoner[rlk][knr]\r\n\t\t\tif person[2][0] in letters\r\n\t\t\t\tif j // N == button.pageNo\r\n\t\t\t\t\tx = j//(N//2) * w/2\r\n\t\t\t\t\tx = x % w\r\n\t\t\t\t\ty = 2*h*(1+j%(N//2))\r\n\t\t\t\t\tdo (knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w/2-2,2*h-2, -> \r\n\t\t\t\t\t\t@page.selected = @\r\n\t\t\t\t\t\tpages.rlk.clickPersonButton [partikod,knr]\r\n\t\t\t\tj++\r\n\r\n\tmakePersons : (rlk, button, partikod, knrs) -> # personer är en lista med knr\r\n\t\t@personer = knrs\r\n\t\tN = 16\r\n\t\tw = 0.36 * width \r\n\t\th = height/(PERSONS_PER_PAGE+2)\r\n\t\t@selected = button \r\n\t\t@buttons = []\r\n\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][2] < dbPersoner[rlk][b][2] then -1 else 1\r\n\t\tfor knr,j in knrs\r\n\t\t\t#person = dbPersoner[rlk][knr] # [age,sex,name,uppgift]\r\n\t\t\tx = j//N * w/2\r\n\t\t\tx = x % w\r\n\t\t\ty = 2*h*(1 + j%N)\r\n\t\t\tdo (partikod,knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w/2-2,2*h-2, -> \r\n\t\t\t\t@page.selected = @\r\n\t\t\t\tpages.rlk.clickPersonButton [@partikod,@knr]\r\n\r\nclass PersonButton extends Button\r\n\tconstructor : (@rlk, @partikod, knr, x,y,w,h,click = ->) ->\r\n\t\tsuper knr,x,y,w,h,click\r\n\t\t@knr = knr \r\n\t\tperson = dbPersoner[@rlk][knr]\r\n\t\t@title0 = person[2]\r\n\t\t@title1 = person[3]\r\n\t\tif @title1 == '' then @title1 = \"#{{M:'Man', K:'Kvinna'}[person[1]]} #{person[0]} år\" \r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\t\ttextSize @ts/2\r\n\t\ttextAlign LEFT,CENTER\r\n\t\tfc 1\r\n\t\ttext @title0,@x+2,@y+2+0.3*@h\r\n\t\tfc 0.75\r\n\t\ttext @title1,@x+2,@y+2+0.7*@h\r\n"
  ]
}