{
  "version": 3,
  "file": "PersonPage.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\PersonPage.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class PersonPage extends Page\r\n\r\n\tN = 16\r\n\r\n\trender : ->\r\n\t\t@bg 0\t\r\n\t\tselected = pages.partier.selected\r\n\t\tpp = pages.personer\r\n\t\tif selected != null\r\n\t\t\tpush()\r\n\t\t\ttextAlign LEFT,CENTER\r\n\t\t\ttextSize 0.4 * pp.h/17\r\n\t\t\trlk = pages.rlk.selected.rlk\r\n\t\t\tnamn = dbPartier[rlk][selected.partikod][1]\r\n\t\t\ts = \"#{namn} (#{pp.buttons.length} av #{_.size pp.personer})\"\r\n\t\t\tfc 1\r\n\t\t\t#print s, pp.x, pp.y + pp.h/34\r\n\t\t\ttext s, pp.x, pp.y + pp.h/34\r\n\t\t\tpop()\r\n\r\n\tclickLetterButton : (rlk,button,partikod,letters,knrs) ->\r\n\t\t@personer = knrs\r\n\t\tN = PERSONS_PER_PAGE\r\n\t\tw = 0.72 * width\r\n\t\th = height/(PERSONS_PER_PAGE+1)\r\n\t\t@selected = button\r\n\t\tbutton.pageNo = (button.pageNo + 1) % button.pages\r\n\t\t@buttons = []\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][2] < dbPersoner[rlk][b][2] then -1 else 1\r\n\t\tj = 0\r\n\t\tfor knr in knrs\r\n\t\t\tperson = dbPersoner[rlk][knr]\r\n\t\t\tif person[2][0] in letters\r\n\t\t\t\tif j // N == button.pageNo\r\n\t\t\t\t\t#x = j//(N//2) * w/2\r\n\t\t\t\t\tx = j//N * w\r\n\t\t\t\t\tx = x % w\r\n\t\t\t\t\ty = h*(1+j%N)\r\n\t\t\t\t\tdo (knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w/2-2,h-2, -> \r\n\t\t\t\t\t\t@page.selected = @\r\n\t\t\t\t\t\tpages.rlk.clickPersonButton [partikod,knr]\r\n\t\t\t\tj++\r\n\r\n\tmakePersons : (rlk, button, partikod, knrs) -> # personer är en lista med knr\r\n\t\t@personer = knrs\r\n\t\tw = 0.72 * width \r\n\t\th = height/(PERSONS_PER_PAGE+1)\r\n\t\t@selected = button \r\n\t\t@buttons = []\r\n\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][2] < dbPersoner[rlk][b][2] then -1 else 1\r\n\t\tfor knr,j in knrs\r\n\t\t\tx = j//N * w\r\n\t\t\tx = x % w\r\n\t\t\ty = h*(1 + j%N)\r\n\t\t\tdo (partikod,knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w/2-2,h-2, -> \r\n\t\t\t\t@page.selected = @\r\n\t\t\t\tpages.rlk.clickPersonButton [@partikod,@knr]\r\n\r\nclass PersonButton extends Button\r\n\tconstructor : (@rlk, @partikod, knr, x,y,w,h,click = ->) ->\r\n\t\tsuper knr,x,y,w,h,click\r\n\t\t@knr = knr \r\n\t\tperson = dbPersoner[@rlk][knr]\r\n\t\t@title0 = person[2]\r\n\t\t@title1 = person[3]\r\n\t\tif @title1 == '' then @title1 = \"#{{M:'Man', K:'Kvinna'}[person[1]]} #{person[0]} år\" \r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\r\n\t\ttextAlign LEFT,CENTER\r\n\t\ttextSize 1*@ts\r\n\t\tfc 1\r\n\t\ttext @title0,@x+2,@y+2+0.3*@h\r\n\t\ttextAlign RIGHT,CENTER\r\n\t\ttextSize 0.6*@ts\r\n\t\tfc 0.9\r\n\t\ttext @title1,@x+@w-2,@y+3+0.75*@h\r\n"
  ]
}