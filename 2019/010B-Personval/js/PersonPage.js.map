{
  "version": 3,
  "file": "PersonPage.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\PersonPage.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class PersonPage extends Page\r\n\r\n\tN = 16\r\n\r\n\trender : ->\r\n\t\t@bg 0\t\r\n\t\tselected = pages.partier.selected\r\n\t\tpp = pages.personer\r\n\t\tif selected != null\r\n\t\t\tpush()\r\n\t\t\ttextAlign LEFT,CENTER\r\n\t\t\ttextSize 0.4 * pp.h/(N+1)\r\n\t\t\trlk = pages.rlk.selected.rlk\r\n\t\t\tnamn = dbPartier[rlk][selected.partikod][PARTI_BETECKNING]\r\n\t\t\ts = \"#{namn} (#{pp.buttons.length} av #{_.size pp.personer})\"\r\n\t\t\tfc 1\r\n\t\t\ttext s, pp.x, pp.y + pp.h/34\r\n\t\t\tpop()\r\n\r\n\tclickLetterButton : (rlk,button,partikod,letters,knrs) ->\r\n\t\t@personer = knrs\r\n\t\tN = PERSONS_PER_PAGE\r\n\t\tw = @w\r\n\t\th = height/(PERSONS_PER_PAGE+1)\r\n\t\t@selected = button\r\n\t\tbutton.pageNo = (button.pageNo + 1) % button.pages\r\n\t\t@buttons = []\r\n\t\tprint PERSON_NAMN\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][PERSON_NAMN] < dbPersoner[rlk][b][PERSON_NAMN] then -1 else 1\r\n\t\tj = 0\r\n\t\tfor knr in knrs\r\n\t\t\tperson = dbPersoner[rlk][knr]\r\n\t\t\tif person[PERSON_NAMN][0] in letters\r\n\t\t\t\tif j // N == button.pageNo\r\n\t\t\t\t\tx = 0\r\n\t\t\t\t\ty = h*(1 + j%N)\r\n\t\t\t\t\tdo (knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w-2,h-2, -> \r\n\t\t\t\t\t\t@page.selected = @\r\n\t\t\t\t\t\tpages.rlk.clickPersonButton [partikod,knr]\r\n\t\t\t\tj++\r\n\r\n\tmakePersons : (rlk, button, partikod, knrs) -> # knrs är en lista med knr\r\n\t\t@personer = knrs\r\n\t\tw = @w \r\n\t\th = height/(PERSONS_PER_PAGE+1)\r\n\t\t@selected = button \r\n\t\t@buttons = []\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][PERSON_NAMN] < dbPersoner[rlk][b][PERSON_NAMN] then -1 else 1\r\n\t\tfor knr,j in knrs\r\n\t\t\tx = 0 \r\n\t\t\ty = h*(1 + j%N)\r\n\t\t\tdo (knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w-2,h-2, -> \r\n\t\t\t\t@page.selected = @\r\n\t\t\t\tpages.rlk.clickPersonButton [partikod,knr]\r\n\r\nclass PersonButton extends Button\r\n\r\n\tconstructor : (@rlk, @partikod, knr, x,y,w,h,click = ->) ->\r\n\t\tsuper knr,x,y,w,h,click\r\n\t\t@knr = knr \r\n\t\tperson = dbPersoner[@rlk][knr]\r\n\t\t@title0 = person[PERSON_NAMN]\r\n\t\t@title1 = person[PERSON_UPPGIFT]\r\n\t\tif @title1 == '' then @title1 = \"#{{M:'Man', K:'Kvinna'}[person[1]]} #{person[0]} år\" \r\n\r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\r\n\t\ttextAlign LEFT,CENTER\r\n\t\ttextSize 1 * @ts\r\n\t\tfc 1\r\n\t\ttext @title0,@x+2,@y+2+0.3*@h\r\n\r\n\t\ttextAlign RIGHT,CENTER\r\n\t\ttextSize 0.6 * @ts\r\n\t\tfc 0.9\r\n\t\ttext @title1,@x+@w-2,@y+3+0.75*@h\r\n"
  ]
}