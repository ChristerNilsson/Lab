{
  "version": 3,
  "file": "PersonPage.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\PersonPage.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class PersonPage extends Page\r\n\r\n\tN = 16\r\n\r\n\trender : ->\r\n\t\t@bg 0\t\r\n\t\tselected = pages.partier.selected\r\n\t\tpp = pages.personer\r\n\t\tif selected != null\r\n\t\t\tpush()\r\n\t\t\ttextAlign LEFT,CENTER\r\n\t\t\ttextSize 0.4 * pp.h/(N+1)\r\n\t\t\trlk = pages.rlk.selected.rlk\r\n\t\t\tnamn = dbPartier[rlk][selected.partikod][PARTI_BETECKNING]\r\n\t\t\ts = \"#{namn} (#{pp.buttons.length} av #{_.size pp.personer})\"\r\n\t\t\tfc 1\r\n\t\t\ttext s, pp.x, pp.y + pp.h/34\r\n\t\t\tpop()\r\n\r\n\tclickLetterButton : (rlk,button,partikod,letters,knrs) ->\r\n\t\t@personer = knrs\r\n\t\tN = PERSONS_PER_PAGE\r\n\t\tw = @w\r\n\t\th = height/(PERSONS_PER_PAGE+1)\r\n\t\t@selected = button\r\n\t\tbutton.pageNo = (button.pageNo + 1) % button.pages\r\n\t\t@buttons = []\r\n\t\tprint PERSON_NAMN\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][PERSON_NAMN] < dbPersoner[rlk][b][PERSON_NAMN] then -1 else 1\r\n\t\tj = 0\r\n\t\tfor knr in knrs\r\n\t\t\tperson = dbPersoner[rlk][knr]\r\n\t\t\tif person[PERSON_NAMN][0] in letters\r\n\t\t\t\tif j // N == button.pageNo\r\n\t\t\t\t\tx = 0\r\n\t\t\t\t\ty = h*(1 + j%N)\r\n\t\t\t\t\tdo (knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w-2,h-2, -> \r\n\t\t\t\t\t\t@page.selected = @\r\n\t\t\t\t\t\tpages.rlk.clickPersonButton [partikod,knr]\r\n\t\t\t\tj++\r\n\r\n\tmakePersons : (rlk, button, partikod, knrs) -> # knrs är en lista med knr\r\n\t\t@personer = knrs\r\n\t\tw = @w \r\n\t\th = height/(PERSONS_PER_PAGE+1)\r\n\t\t@selected = button \r\n\t\t@buttons = []\r\n\t\tknrs.sort (a,b) -> if dbPersoner[rlk][a][PERSON_NAMN] < dbPersoner[rlk][b][PERSON_NAMN] then -1 else 1\r\n\t\tfor knr,j in knrs\r\n\t\t\tx = 0 \r\n\t\t\ty = h*(1 + j%N)\r\n\t\t\tdo (knr) => @addButton new PersonButton rlk, partikod, knr, @x+x,@y+y,w-2,h-2, -> \r\n\t\t\t\t@page.selected = @\r\n\t\t\t\tpages.rlk.clickPersonButton [partikod,knr]\r\n\r\nclass PersonButton extends Button\r\n\r\n\tconstructor : (@rlk, @partikod, knr, x,y,w,h,click = ->) ->\r\n\t\tsuper knr,x,y,w,h,click\r\n\t\t@knr = knr \r\n\t\tperson = dbPersoner[@rlk][knr]\r\n\t\t@title0 = person[PERSON_NAMN]\r\n\t\t@title1 = person[PERSON_UPPGIFT]\r\n\t\tif @title1 == '' then @title1 = \"#{{M:'Man', K:'Kvinna'}[person[1]]} #{person[0]} år\" \r\n\r\n\tdraw : ->\r\n\t\tfc 0.5\r\n\t\trect @x,@y,@w,@h\r\n\r\n\t\ttextAlign LEFT,CENTER\r\n\t\ttextSize 1 * @ts\r\n\t\tfc 1\r\n\t\ttext @title0,@x+2,@y+2+0.3*@h\r\n\r\n\t\ttextAlign RIGHT,CENTER\r\n\t\ttextSize 0.6 * @ts\r\n\t\tfc 0.9\r\n\t\ttext @title1,@x+@w-2,@y+3+0.75*@h\r\n"
  ]
}