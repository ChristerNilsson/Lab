{
  "version": 3,
  "file": "UtskriftPage.js",
  "sourceRoot": "..",
  "sources": [
    "coffee\\UtskriftPage.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "class UtskriftPage extends Page\r\n\tconstructor : (x,y,w,h) ->\r\n\t\tsuper x,y,w,h\r\n\t\t@selected = null\r\n\t\t@buttons = []\r\n\t\t@addButton new Button 'Utskrift', 0.02*width,0.6*height,0.12*w,45, -> window.print()\r\n\t\t@addButton new Button 'FortsÃ¤tt', 0.02*width,0.7*height,0.12*w,45, -> \r\n\t\t\tmyNode = document.getElementById \"qrcode\"\r\n\t\t\tmyNode.innerHTML = ''\r\n\t\t\tpages.utskrift.active = false \r\n\t\t\tpages.typ.createSelectButtons()\r\n\t\t@addButton new Button 'Slump', 0.02*width,0.8*height,0.12*w,45, -> \r\n\t\t\tmyNode = document.getElementById \"qrcode\"\r\n\t\t\tmyNode.innerHTML = ''\r\n\t\t\tpages.utskrift.active = false \r\n\t\t\tpages.typ.slumpa()\r\n\t\t\tpages.typ.createSelectButtons()\r\n\r\n\tstopMeasuringTime : ->\r\n\t\t@crc = @getCRC pages.typ.qr\r\n\t\t@cpu = new Date().getTime() - pages.typ.start\r\n\r\n\tgetCRC : (qr) ->\r\n\t\tres = 0\r\n\t\tfor char,i in qr\r\n\t\t\tindex = '0123456789'.indexOf char\r\n\t\t\tres += (i+1) * (index+1)\r\n\t\t\tres %= 1000000\r\n\t\tres\r\n\r\n#\tshowSelectedPersons : ->\r\n\r\n\trender : ->\r\n\t\tmyNode = document.getElementById 'qrcode'\r\n\t\tmyNode.style.position = 'absolute' \r\n\t\tmyNode.style.left = \"#{int 0.02*width}px\"\r\n\t\tmyNode.style.top = \"#{int 0.02*height}px\"\r\n\t\ttextAlign LEFT,CENTER\r\n\t\tbg 1\r\n\t\tfc 0\r\n\t\t# text pages.typ.qr,20,0.9*height\r\n\t\ttext \"#{'crc: ' + @getCRC pages.typ.qr.slice 10} #{'tid: '+@cpu}\",0.02*width,0.9*height\r\n\r\n\t\tpush()\r\n\t\tsc()\r\n\t\t#textSize 20\r\n\t\tw = width\r\n\t\th = height\r\n\t\tfor typ,i in 'RLK'\r\n\t\t\tfor pair,j in pages.typ.selectedPersons[typ]\r\n\t\t\t\t[partikod,knr] = pair\r\n\t\t\t\tpartinamn = dbPartier[typ][partikod][1]\r\n\t\t\t\tif knr==0\r\n\t\t\t\t\tpersonnamn = ''\r\n\t\t\t\telse\r\n\t\t\t\t\tpersonnamn = dbPersoner[typ][knr][2]\r\n\t\t\t\ty = [0,0.3*h,0.6*h][i] + 0.04*h + 0.05*h*j\r\n\t\t\t\tif j==0 \r\n\t\t\t\t\ttextSize 28\r\n\t\t\t\t\ttext dbName[typ],0.31*width,y \r\n\t\t\t\ttextSize 20\r\n\t\t\t\ttext \"#{j+1}  #{partinamn} - #{personnamn}\",0.3*w,y+0.05*h\r\n\t\tpop()\r\n\r\n\t\tpages.typ.sbuttons = []\r\n"
  ]
}