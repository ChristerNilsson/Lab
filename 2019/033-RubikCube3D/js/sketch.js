// Generated by CoffeeScript 2.3.2
var ALPHABET, COLORS, R, SWAPS, backup, change, cube, draw, i, last, mouseDragged, mousePressed, rot, setup, turn;

COLORS = "#FFF #00F #FF0 #0F0 #FA5 #F00".split(' ');

R = 60;

//       U T S
//       V   Z                       Orange
//       W X Y 
// J Q P a h g j q p A H G 
// K   O b   f k   o B   F     Green White Blue Yellow
// L M N c d e l m n C D E    
//       y x w
//       z   v                       Red
//       s t u 

//           White    Blue     Yellow   Green    Orange   Red
ALPHABET = 'abcdefgh jklmnopq ABCDEFGH JKLMNOPQ STUVWXYZ stuvwxyz';

SWAPS = {
  W: 'aceg bdfh wjWN xkXO ylYP',
  B: 'lnpj moqk euAY fvBZ gwCS',
  Y: 'GECA HFDB nsJS otKT puLU',
  G: 'PNLJ QOMK EyaU FzbV GscW',
  O: 'suwy tvxz ajGJ hqHQ gpAP',
  R: 'YWUS ZXVT LClc MDmd NEne'
};

cube = (function() {
  var len, m, ref, results;
  ref = range(54);
  results = [];
  for (m = 0, len = ref.length; m < len; m++) {
    i = ref[m];
    results.push(Math.floor(i / 9));
  }
  return results;
})();

backup = cube.slice();

rot = [50, 50];

last = [0, 0];

turn = function(letters) {
  var LETTER, j, k, l, len, len1, letter, m, n, w, word, words;
  cube = backup.slice();
  for (m = 0, len = letters.length; m < len; m++) {
    letter = letters[m];
    LETTER = letter.toUpperCase();
    if (!(LETTER in SWAPS)) {
      return;
    }
    words = SWAPS[LETTER].split(' ');
    for (n = 0, len1 = words.length; n < len1; n++) {
      word = words[n];
      [i, j, k, l] = (function() {
        var len2, o, results;
        results = [];
        for (o = 0, len2 = word.length; o < len2; o++) {
          w = word[o];
          results.push(ALPHABET.indexOf(w));
        }
        return results;
      })();
      if (LETTER === letter) {
        [cube[l], cube[i], cube[j], cube[k]] = [cube[i], cube[j], cube[k], cube[l]];
      } else {
        [cube[j], cube[k], cube[l], cube[i]] = [cube[i], cube[j], cube[k], cube[l]];
      }
    }
  }
};

setup = function() {
  return createCanvas(800, 800, WEBGL);
};

draw = function() {
  var index, j, len, m, ref, results, side;
  rotateX(-rot[1] * 0.01);
  rotateY(-rot[0] * 0.01);
  background(0);
  index = 0;
  ref = range(6);
  results = [];
  for (m = 0, len = ref.length; m < len; m++) {
    side = ref[m];
    rotateX(HALF_PI * [1, 1, 1, 1, 0, 0][side]);
    rotateZ(HALF_PI * [0, 0, 0, 0, 1, 2][side]);
    results.push((function() {
      var len1, n, ref1, results1;
      ref1 = [[-1, -1], [0, -1], [1, -1], [1, 0], [1, 1], [0, 1], [-1, 1], [-1, 0], [0, 0]];
      results1 = [];
      for (n = 0, len1 = ref1.length; n < len1; n++) {
        [i, j] = ref1[n];
        push();
        translate(2 * R * i, 2 * R, 2 * R * j);
        beginShape();
        fill(COLORS[cube[index]]);
        vertex(-R, R, -R);
        vertex(+R, R, -R);
        vertex(+R, R, +R);
        vertex(-R, R, +R);
        endShape();
        pop();
        results1.push(index += 1);
      }
      return results1;
    })());
  }
  return results;
};

change = function(s) {
  return turn(s);
};

mousePressed = function() {
  return last = [mouseX, mouseY];
};

mouseDragged = function() {
  rot = [rot[0] + mouseX - last[0], rot[1] + mouseY - last[1]];
  return last = [mouseX, mouseY];
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLFlBQUEsRUFBQSxZQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsRUFBQTs7QUFBQSxNQUFBLEdBQVMsK0JBQStCLENBQUMsS0FBaEMsQ0FBc0MsR0FBdEM7O0FBQ1QsQ0FBQSxHQUFJLEdBREo7Ozs7Ozs7Ozs7Ozs7QUFjQSxRQUFBLEdBQVc7O0FBQ1gsS0FBQSxHQUNDO0VBQUEsQ0FBQSxFQUFHLDBCQUFIO0VBQ0EsQ0FBQSxFQUFHLDBCQURIO0VBRUEsQ0FBQSxFQUFHLDBCQUZIO0VBR0EsQ0FBQSxFQUFHLDBCQUhIO0VBSUEsQ0FBQSxFQUFHLDBCQUpIO0VBS0EsQ0FBQSxFQUFHO0FBTEg7O0FBT0QsSUFBQTs7QUFBYTtBQUFBO0VBQUEsS0FBQSxxQ0FBQTs7NEJBQUwsSUFBRztFQUFFLENBQUE7Ozs7QUFDYixNQUFBLEdBQVMsSUFBSSxDQUFDLEtBQUwsQ0FBQTs7QUFDVCxHQUFBLEdBQU0sQ0FBQyxFQUFELEVBQUksRUFBSjs7QUFDTixJQUFBLEdBQU8sQ0FBQyxDQUFELEVBQUcsQ0FBSDs7QUFFUCxJQUFBLEdBQU8sUUFBQSxDQUFDLE9BQUQsQ0FBQTtBQUNOLE1BQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQTtFQUFBLElBQUEsR0FBTyxNQUFNLENBQUMsS0FBUCxDQUFBO0VBQ1AsS0FBQSx5Q0FBQTs7SUFDQyxNQUFBLEdBQVMsTUFBTSxDQUFDLFdBQVAsQ0FBQTtJQUNULElBQUcsQ0FBQSxDQUFBLE1BQUEsSUFBYyxLQUFkLENBQUg7QUFBNEIsYUFBNUI7O0lBQ0EsS0FBQSxHQUFRLEtBQU0sQ0FBQSxNQUFBLENBQU8sQ0FBQyxLQUFkLENBQW9CLEdBQXBCO0lBQ1IsS0FBQSx5Q0FBQTs7TUFDQyxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsQ0FBQTs7QUFBZ0M7UUFBQSxLQUFBLHdDQUFBOzt1QkFBbkIsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsQ0FBakI7UUFBbUIsQ0FBQTs7O01BQ2hDLElBQUcsTUFBQSxLQUFVLE1BQWI7UUFDQyxDQUFDLElBQUssQ0FBQSxDQUFBLENBQU4sRUFBUyxJQUFLLENBQUEsQ0FBQSxDQUFkLEVBQWlCLElBQUssQ0FBQSxDQUFBLENBQXRCLEVBQXlCLElBQUssQ0FBQSxDQUFBLENBQTlCLENBQUEsR0FBb0MsQ0FBQyxJQUFLLENBQUEsQ0FBQSxDQUFOLEVBQVMsSUFBSyxDQUFBLENBQUEsQ0FBZCxFQUFpQixJQUFLLENBQUEsQ0FBQSxDQUF0QixFQUF5QixJQUFLLENBQUEsQ0FBQSxDQUE5QixFQURyQztPQUFBLE1BQUE7UUFHQyxDQUFDLElBQUssQ0FBQSxDQUFBLENBQU4sRUFBUyxJQUFLLENBQUEsQ0FBQSxDQUFkLEVBQWlCLElBQUssQ0FBQSxDQUFBLENBQXRCLEVBQXlCLElBQUssQ0FBQSxDQUFBLENBQTlCLENBQUEsR0FBb0MsQ0FBQyxJQUFLLENBQUEsQ0FBQSxDQUFOLEVBQVMsSUFBSyxDQUFBLENBQUEsQ0FBZCxFQUFpQixJQUFLLENBQUEsQ0FBQSxDQUF0QixFQUF5QixJQUFLLENBQUEsQ0FBQSxDQUE5QixFQUhyQzs7SUFGRDtFQUpEO0FBRk07O0FBYVAsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO1NBQUcsWUFBQSxDQUFhLEdBQWIsRUFBaUIsR0FBakIsRUFBc0IsS0FBdEI7QUFBSDs7QUFFUixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDTixNQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBO0VBQUEsT0FBQSxDQUFRLENBQUMsR0FBSSxDQUFBLENBQUEsQ0FBTCxHQUFVLElBQWxCO0VBQ0EsT0FBQSxDQUFRLENBQUMsR0FBSSxDQUFBLENBQUEsQ0FBTCxHQUFVLElBQWxCO0VBQ0EsVUFBQSxDQUFXLENBQVg7RUFFQSxLQUFBLEdBQVE7QUFDUjtBQUFBO0VBQUEsS0FBQSxxQ0FBQTs7SUFDQyxPQUFBLENBQVEsT0FBQSxHQUFVLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLENBQVQsRUFBVyxDQUFYLENBQWMsQ0FBQSxJQUFBLENBQWhDO0lBQ0EsT0FBQSxDQUFRLE9BQUEsR0FBVSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxDQUFjLENBQUEsSUFBQSxDQUFoQzs7O0FBQ0E7QUFBQTtNQUFBLEtBQUEsd0NBQUE7UUFBSSxDQUFDLENBQUQsRUFBRyxDQUFIO1FBQ0gsSUFBQSxDQUFBO1FBQ0EsU0FBQSxDQUFVLENBQUEsR0FBRSxDQUFGLEdBQUksQ0FBZCxFQUFpQixDQUFBLEdBQUUsQ0FBbkIsRUFBc0IsQ0FBQSxHQUFFLENBQUYsR0FBSSxDQUExQjtRQUVBLFVBQUEsQ0FBQTtRQUNBLElBQUEsQ0FBSyxNQUFPLENBQUEsSUFBSyxDQUFBLEtBQUEsQ0FBTCxDQUFaO1FBQ0EsTUFBQSxDQUFPLENBQUMsQ0FBUixFQUFVLENBQVYsRUFBWSxDQUFDLENBQWI7UUFDQSxNQUFBLENBQU8sQ0FBQyxDQUFSLEVBQVUsQ0FBVixFQUFZLENBQUMsQ0FBYjtRQUNBLE1BQUEsQ0FBTyxDQUFDLENBQVIsRUFBVSxDQUFWLEVBQVksQ0FBQyxDQUFiO1FBQ0EsTUFBQSxDQUFPLENBQUMsQ0FBUixFQUFVLENBQVYsRUFBWSxDQUFDLENBQWI7UUFDQSxRQUFBLENBQUE7UUFFQSxHQUFBLENBQUE7c0JBQ0EsS0FBQSxJQUFTO01BYlYsQ0FBQTs7O0VBSEQsQ0FBQTs7QUFOTTs7QUF3QlAsTUFBQSxHQUFTLFFBQUEsQ0FBQyxDQUFELENBQUE7U0FBTyxJQUFBLENBQUssQ0FBTDtBQUFQOztBQUVULFlBQUEsR0FBZSxRQUFBLENBQUEsQ0FBQTtTQUFHLElBQUEsR0FBTyxDQUFDLE1BQUQsRUFBUSxNQUFSO0FBQVY7O0FBRWYsWUFBQSxHQUFlLFFBQUEsQ0FBQSxDQUFBO0VBQ2QsR0FBQSxHQUFNLENBQUMsR0FBSSxDQUFBLENBQUEsQ0FBSixHQUFTLE1BQVQsR0FBZ0IsSUFBSyxDQUFBLENBQUEsQ0FBdEIsRUFBMEIsR0FBSSxDQUFBLENBQUEsQ0FBSixHQUFTLE1BQVQsR0FBZ0IsSUFBSyxDQUFBLENBQUEsQ0FBL0M7U0FDTixJQUFBLEdBQU8sQ0FBQyxNQUFELEVBQVEsTUFBUjtBQUZPIiwic291cmNlc0NvbnRlbnQiOlsiQ09MT1JTID0gXCIjRkZGICMwMEYgI0ZGMCAjMEYwICNGQTUgI0YwMFwiLnNwbGl0ICcgJ1xyXG5SID0gNjBcclxuXHJcbiMgICAgICAgVSBUIFNcclxuIyAgICAgICBWICAgWiAgICAgICAgICAgICAgICAgICAgICAgT3JhbmdlXHJcbiMgICAgICAgVyBYIFkgXHJcbiMgSiBRIFAgYSBoIGcgaiBxIHAgQSBIIEcgXHJcbiMgSyAgIE8gYiAgIGYgayAgIG8gQiAgIEYgICAgIEdyZWVuIFdoaXRlIEJsdWUgWWVsbG93XHJcbiMgTCBNIE4gYyBkIGUgbCBtIG4gQyBEIEUgICAgXHJcbiMgICAgICAgeSB4IHdcclxuIyAgICAgICB6ICAgdiAgICAgICAgICAgICAgICAgICAgICAgUmVkXHJcbiMgICAgICAgcyB0IHUgXHJcblxyXG4jICAgICAgICAgICBXaGl0ZSAgICBCbHVlICAgICBZZWxsb3cgICBHcmVlbiAgICBPcmFuZ2UgICBSZWRcclxuQUxQSEFCRVQgPSAnYWJjZGVmZ2ggamtsbW5vcHEgQUJDREVGR0ggSktMTU5PUFEgU1RVVldYWVogc3R1dnd4eXonIFxyXG5TV0FQUyA9IFxyXG5cdFc6ICdhY2VnIGJkZmggd2pXTiB4a1hPIHlsWVAnIFxyXG5cdEI6ICdsbnBqIG1vcWsgZXVBWSBmdkJaIGd3Q1MnXHJcblx0WTogJ0dFQ0EgSEZEQiBuc0pTIG90S1QgcHVMVSdcclxuXHRHOiAnUE5MSiBRT01LIEV5YVUgRnpiViBHc2NXJ1xyXG5cdE86ICdzdXd5IHR2eHogYWpHSiBocUhRIGdwQVAnIFxyXG5cdFI6ICdZV1VTIFpYVlQgTENsYyBNRG1kIE5FbmUnXHJcblxyXG5jdWJlID0gKGkvLzkgZm9yIGkgaW4gcmFuZ2UgNTQpXHJcbmJhY2t1cCA9IGN1YmUuc2xpY2UoKVxyXG5yb3QgPSBbNTAsNTBdXHJcbmxhc3QgPSBbMCwwXVxyXG5cclxudHVybiA9IChsZXR0ZXJzKSAtPiBcclxuXHRjdWJlID0gYmFja3VwLnNsaWNlKClcclxuXHRmb3IgbGV0dGVyIGluIGxldHRlcnNcclxuXHRcdExFVFRFUiA9IGxldHRlci50b1VwcGVyQ2FzZSgpIFxyXG5cdFx0aWYgTEVUVEVSIG5vdCBvZiBTV0FQUyB0aGVuIHJldHVybiBcclxuXHRcdHdvcmRzID0gU1dBUFNbTEVUVEVSXS5zcGxpdCAnICdcclxuXHRcdGZvciB3b3JkIGluIHdvcmRzXHJcblx0XHRcdFtpLGosayxsXSA9IChBTFBIQUJFVC5pbmRleE9mIHcgZm9yIHcgaW4gd29yZClcclxuXHRcdFx0aWYgTEVUVEVSID09IGxldHRlclxyXG5cdFx0XHRcdFtjdWJlW2xdLGN1YmVbaV0sY3ViZVtqXSxjdWJlW2tdXSA9IFtjdWJlW2ldLGN1YmVbal0sY3ViZVtrXSxjdWJlW2xdXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0W2N1YmVbal0sY3ViZVtrXSxjdWJlW2xdLGN1YmVbaV1dID0gW2N1YmVbaV0sY3ViZVtqXSxjdWJlW2tdLGN1YmVbbF1dXHJcblxyXG5zZXR1cCA9IC0+IGNyZWF0ZUNhbnZhcyA4MDAsODAwLCBXRUJHTFxyXG5cclxuZHJhdyA9IC0+XHJcblx0cm90YXRlWCAtcm90WzFdICogMC4wMVxyXG5cdHJvdGF0ZVkgLXJvdFswXSAqIDAuMDFcclxuXHRiYWNrZ3JvdW5kIDBcclxuXHJcblx0aW5kZXggPSAwXHJcblx0Zm9yIHNpZGUgaW4gcmFuZ2UgNlxyXG5cdFx0cm90YXRlWCBIQUxGX1BJICogWzEsMSwxLDEsMCwwXVtzaWRlXVxyXG5cdFx0cm90YXRlWiBIQUxGX1BJICogWzAsMCwwLDAsMSwyXVtzaWRlXVxyXG5cdFx0Zm9yIFtpLGpdIGluIFtbLTEsLTFdLFswLC0xXSxbMSwtMV0sWzEsMF0sWzEsMV0sWzAsMV0sWy0xLDFdLFstMSwwXSxbMCwwXV1cclxuXHRcdFx0cHVzaCgpXHJcblx0XHRcdHRyYW5zbGF0ZSAyKlIqaSwgMipSLCAyKlIqalxyXG5cclxuXHRcdFx0YmVnaW5TaGFwZSgpXHJcblx0XHRcdGZpbGwgQ09MT1JTW2N1YmVbaW5kZXhdXVxyXG5cdFx0XHR2ZXJ0ZXggLVIsUiwtUlxyXG5cdFx0XHR2ZXJ0ZXggK1IsUiwtUlxyXG5cdFx0XHR2ZXJ0ZXggK1IsUiwrUlxyXG5cdFx0XHR2ZXJ0ZXggLVIsUiwrUlxyXG5cdFx0XHRlbmRTaGFwZSgpXHJcblxyXG5cdFx0XHRwb3AoKVxyXG5cdFx0XHRpbmRleCArPSAxXHJcblxyXG5jaGFuZ2UgPSAocykgLT5cdHR1cm4gc1xyXG5cclxubW91c2VQcmVzc2VkID0gLT4gbGFzdCA9IFttb3VzZVgsbW91c2VZXVxyXG5cclxubW91c2VEcmFnZ2VkID0gLT5cclxuXHRyb3QgPSBbcm90WzBdICsgbW91c2VYLWxhc3RbMF0sIHJvdFsxXSArIG1vdXNlWS1sYXN0WzFdXVxyXG5cdGxhc3QgPSBbbW91c2VYLG1vdXNlWV0iXX0=
//# sourceURL=C:\Lab\2019\033-RubikCube3D\coffee\sketch.coffee