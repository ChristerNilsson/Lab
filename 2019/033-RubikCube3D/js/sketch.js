// Generated by CoffeeScript 2.3.2
var ALPHABET, COLORS, R, SWAPS, draw, setup;

COLORS = "#FFF #00F #FF0 #0F0 #FA5 #F00".split(' '); // W B Y G O R

ALPHABET = 'abcdefgh jklmnopq ABCDEFGH JKLMNOPQ STUVWXYZ stuvwxyz';

SWAPS = { // See README.md
  W: 'aceg bdfh wjWN xkXO ylYP',
  B: 'lnpj moqk euAY fvBZ gwCS',
  Y: 'GECA HFDB nsJS otKT puLU',
  G: 'PNLJ QOMK EyaU FzbV GscW',
  O: 'YWUS ZXVT ajGJ hqHQ gpAP',
  R: 'suwy tvxz LClc MDmd NEne'
};

R = 60;

setup = function() {
  return createCanvas(800, 800, WEBGL);
};

draw = function() {
  var LETTER, a, b, c, cube, d, i, j, k, l, len, len1, len2, letter, m, n, o, ref, ref1, ref2, results, side, w, word, x, z;
  cube = (function() {
    var len, m, ref, results;
    ref = range(54);
    results = [];
    for (m = 0, len = ref.length; m < len; m++) {
      i = ref[m];
      results.push(Math.floor(i / 9));
    }
    return results;
  })();
  ref = txt.value;
  for (m = 0, len = ref.length; m < len; m++) {
    letter = ref[m];
    LETTER = letter.toUpperCase();
    if (!(LETTER in SWAPS)) {
      return;
    }
    ref1 = SWAPS[LETTER].split(' ');
    for (n = 0, len1 = ref1.length; n < len1; n++) {
      word = ref1[n];
      [i, j, k, l] = (function() {
        var len2, o, results;
        results = [];
        for (o = 0, len2 = word.length; o < len2; o++) {
          w = word[o];
          results.push(ALPHABET.indexOf(w));
        }
        return results;
      })();
      [a, b, c, d] = LETTER === letter ? [l, i, j, k] : [j, k, l, i];
      [cube[a], cube[b], cube[c], cube[d]] = [cube[i], cube[j], cube[k], cube[l]];
    }
  }
  background(0);
  orbitControl(4, 4); // speed
  ref2 = range(6);
  // cube
  results = [];
  for (o = 0, len2 = ref2.length; o < len2; o++) {
    side = ref2[o];
    rotateX(HALF_PI * [1, 1, 1, 1, 0, 0][side]);
    rotateZ(HALF_PI * [0, 0, 0, 0, 1, 2][side]);
    results.push((function() {
      var len3, len4, p, q, ref3, ref4, results1;
      ref3 = [[0, 0], [2, 0], [4, 0], [4, 2], [4, 4], [2, 4], [0, 4], [0, 2], [2, 2]];
      // side
      results1 = [];
      for (k = p = 0, len3 = ref3.length; p < len3; k = ++p) {
        [i, j] = ref3[k];
        beginShape();
        fill(COLORS[cube[9 * side + k]]);
        ref4 = [[0, 0], [2, 0], [2, 2], [0, 2]];
        // tile		
        for (q = 0, len4 = ref4.length; q < len4; q++) {
          [x, z] = ref4[q];
          vertex(R * (i + x - 3), 3 * R, R * (j + z - 3));
        }
        results1.push(endShape());
      }
      return results1;
    })());
  }
  return results;
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLElBQUEsRUFBQTs7QUFBQSxNQUFBLEdBQVMsK0JBQStCLENBQUMsS0FBaEMsQ0FBc0MsR0FBdEMsRUFBVDs7QUFDQSxRQUFBLEdBQVc7O0FBQ1gsS0FBQSxHQUNDLENBQUE7RUFBQSxDQUFBLEVBQUcsMEJBQUg7RUFDQSxDQUFBLEVBQUcsMEJBREg7RUFFQSxDQUFBLEVBQUcsMEJBRkg7RUFHQSxDQUFBLEVBQUcsMEJBSEg7RUFJQSxDQUFBLEVBQUcsMEJBSkg7RUFLQSxDQUFBLEVBQUc7QUFMSDs7QUFNRCxDQUFBLEdBQUk7O0FBRUosS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO1NBQUcsWUFBQSxDQUFhLEdBQWIsRUFBaUIsR0FBakIsRUFBc0IsS0FBdEI7QUFBSDs7QUFFUixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDTixNQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQTtFQUFBLElBQUE7O0FBQWE7QUFBQTtJQUFBLEtBQUEscUNBQUE7OzhCQUFMLElBQUc7SUFBRSxDQUFBOzs7QUFDYjtFQUFBLEtBQUEscUNBQUE7O0lBQ0MsTUFBQSxHQUFTLE1BQU0sQ0FBQyxXQUFQLENBQUE7SUFDVCxJQUFHLENBQUEsQ0FBQSxNQUFBLElBQWMsS0FBZCxDQUFIO0FBQTRCLGFBQTVCOztBQUNBO0lBQUEsS0FBQSx3Q0FBQTs7TUFDQyxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsQ0FBQTs7QUFBZ0M7UUFBQSxLQUFBLHdDQUFBOzt1QkFBbkIsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsQ0FBakI7UUFBbUIsQ0FBQTs7O01BQ2hDLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxDQUFBLEdBQWUsTUFBQSxLQUFVLE1BQWIsR0FBeUIsQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQLENBQXpCLEdBQXdDLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUDtNQUNwRCxDQUFDLElBQUssQ0FBQSxDQUFBLENBQU4sRUFBUyxJQUFLLENBQUEsQ0FBQSxDQUFkLEVBQWlCLElBQUssQ0FBQSxDQUFBLENBQXRCLEVBQXlCLElBQUssQ0FBQSxDQUFBLENBQTlCLENBQUEsR0FBb0MsQ0FBQyxJQUFLLENBQUEsQ0FBQSxDQUFOLEVBQVMsSUFBSyxDQUFBLENBQUEsQ0FBZCxFQUFpQixJQUFLLENBQUEsQ0FBQSxDQUF0QixFQUF5QixJQUFLLENBQUEsQ0FBQSxDQUE5QjtJQUhyQztFQUhEO0VBUUEsVUFBQSxDQUFXLENBQVg7RUFDQSxZQUFBLENBQWEsQ0FBYixFQUFlLENBQWYsRUFWQTtBQVdBOztBQUFBO0VBQUEsS0FBQSx3Q0FBQTs7SUFDQyxPQUFBLENBQVEsT0FBQSxHQUFVLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLENBQVQsRUFBVyxDQUFYLENBQWMsQ0FBQSxJQUFBLENBQWhDO0lBQ0EsT0FBQSxDQUFRLE9BQUEsR0FBVSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxDQUFjLENBQUEsSUFBQSxDQUFoQzs7O0FBQ0E7O0FBQUE7TUFBQSxLQUFBLGdEQUFBO1FBQUksQ0FBQyxDQUFELEVBQUcsQ0FBSDtRQUNILFVBQUEsQ0FBQTtRQUNBLElBQUEsQ0FBSyxNQUFPLENBQUEsSUFBSyxDQUFBLENBQUEsR0FBRSxJQUFGLEdBQU8sQ0FBUCxDQUFMLENBQVo7QUFDaUM7O1FBQUEsS0FBQSx3Q0FBQTtVQUFJLENBQUMsQ0FBRCxFQUFHLENBQUg7VUFBckMsTUFBQSxDQUFPLENBQUEsR0FBRSxDQUFDLENBQUEsR0FBRSxDQUFGLEdBQUksQ0FBTCxDQUFULEVBQWtCLENBQUEsR0FBRSxDQUFwQixFQUF1QixDQUFBLEdBQUUsQ0FBQyxDQUFBLEdBQUUsQ0FBRixHQUFJLENBQUwsQ0FBekI7UUFBaUM7c0JBQ2pDLFFBQUEsQ0FBQTtNQUpELENBQUE7OztFQUhELENBQUE7O0FBWk0iLCJzb3VyY2VzQ29udGVudCI6WyJDT0xPUlMgPSBcIiNGRkYgIzAwRiAjRkYwICMwRjAgI0ZBNSAjRjAwXCIuc3BsaXQgJyAnICMgVyBCIFkgRyBPIFJcclxuQUxQSEFCRVQgPSAnYWJjZGVmZ2ggamtsbW5vcHEgQUJDREVGR0ggSktMTU5PUFEgU1RVVldYWVogc3R1dnd4eXonIFxyXG5TV0FQUyA9ICMgU2VlIFJFQURNRS5tZFxyXG5cdFc6ICdhY2VnIGJkZmggd2pXTiB4a1hPIHlsWVAnXHJcblx0QjogJ2xucGogbW9xayBldUFZIGZ2QlogZ3dDUydcclxuXHRZOiAnR0VDQSBIRkRCIG5zSlMgb3RLVCBwdUxVJ1xyXG5cdEc6ICdQTkxKIFFPTUsgRXlhVSBGemJWIEdzY1cnXHJcblx0TzogJ1lXVVMgWlhWVCBhakdKIGhxSFEgZ3BBUCdcclxuXHRSOiAnc3V3eSB0dnh6IExDbGMgTURtZCBORW5lJyAgXHJcblIgPSA2MFxyXG5cclxuc2V0dXAgPSAtPiBjcmVhdGVDYW52YXMgODAwLDgwMCwgV0VCR0xcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGN1YmUgPSAoaS8vOSBmb3IgaSBpbiByYW5nZSA1NClcclxuXHRmb3IgbGV0dGVyIGluIHR4dC52YWx1ZVxyXG5cdFx0TEVUVEVSID0gbGV0dGVyLnRvVXBwZXJDYXNlKCkgXHJcblx0XHRpZiBMRVRURVIgbm90IG9mIFNXQVBTIHRoZW4gcmV0dXJuIFxyXG5cdFx0Zm9yIHdvcmQgaW4gU1dBUFNbTEVUVEVSXS5zcGxpdCAnICdcclxuXHRcdFx0W2ksaixrLGxdID0gKEFMUEhBQkVULmluZGV4T2YgdyBmb3IgdyBpbiB3b3JkKVxyXG5cdFx0XHRbYSxiLGMsZF0gPSBpZiBMRVRURVIgPT0gbGV0dGVyIHRoZW4gW2wsaSxqLGtdIGVsc2UgW2osayxsLGldXHJcblx0XHRcdFtjdWJlW2FdLGN1YmVbYl0sY3ViZVtjXSxjdWJlW2RdXSA9IFtjdWJlW2ldLGN1YmVbal0sY3ViZVtrXSxjdWJlW2xdXVxyXG5cclxuXHRiYWNrZ3JvdW5kIDBcclxuXHRvcmJpdENvbnRyb2wgNCw0ICMgc3BlZWRcclxuXHRmb3Igc2lkZSBpbiByYW5nZSA2ICMgY3ViZVxyXG5cdFx0cm90YXRlWCBIQUxGX1BJICogWzEsMSwxLDEsMCwwXVtzaWRlXVxyXG5cdFx0cm90YXRlWiBIQUxGX1BJICogWzAsMCwwLDAsMSwyXVtzaWRlXVxyXG5cdFx0Zm9yIFtpLGpdLGsgaW4gW1swLDBdLFsyLDBdLFs0LDBdLFs0LDJdLFs0LDRdLFsyLDRdLFswLDRdLFswLDJdLFsyLDJdXSAjIHNpZGVcclxuXHRcdFx0YmVnaW5TaGFwZSgpXHJcblx0XHRcdGZpbGwgQ09MT1JTW2N1YmVbOSpzaWRlK2tdXVxyXG5cdFx0XHR2ZXJ0ZXggUiooaSt4LTMpLCAzKlIsIFIqKGorei0zKSBmb3IgW3gsel0gaW4gW1swLDBdLFsyLDBdLFsyLDJdLFswLDJdXVx0IyB0aWxlXHRcdFxyXG5cdFx0XHRlbmRTaGFwZSgpIl19
//# sourceURL=C:\Lab\2019\033-RubikCube3D\coffee\sketch.coffee