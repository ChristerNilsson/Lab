// Generated by CoffeeScript 2.3.2
// Coffeescript är cirka 10 ggr långsammare än Python3.
var N, PHOTOS, Photo, Solver, _, print, solver;

_ = require('..\\libraries\\underscore');

require('..\\libraries\\nilsson');

require('..\\e');

print = console.log;

PHOTOS = {};

N = 80000;

Photo = class Photo {
  constructor(id2, orientation1, tags1) {
    this.id = id2;
    this.orientation = orientation1;
    this.tags = tags1;
  }

};

//@set = @tags
Solver = class Solver {
  constructor(letter) {
    this.letter = letter;
    this.n = 0; // number of photos
    this.result = []; // contains output strings
    this.read(this.letter);
    this.route = this.init();
    this.totalScore = this.calc();
    //print(@totalScore)
    this.start = Date.now();
    //print Date.now()-@start
    this.swaps = 0;
    this.two_opt();
    this.save(this.letter);
  }

  read() {
    var arr, id, k, len, line, lines, orientation, ref, results, tags;
    lines = efile.split('\n');
    ref = lines.slice(0, N);
    results = [];
    for (id = k = 0, len = ref.length; k < len; id = ++k) {
      line = ref[id];
      arr = line.split(' ');
      orientation = arr[0];
      tags = arr.slice(2);
      results.push(PHOTOS[id] = new Photo(id, orientation, tags));
    }
    return results;
  }

  //print PHOTOS[id]
  save() {
    var k, len, line, ref, results;
    print(this.route.length);
    ref = this.route;
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      line = ref[k];
      results.push(print(line));
    }
    return results;
  }

  set(i, j) { // in:index out:set
    var id0, id1, s0, s1;
    //assert true, i>=0, 'aa'
    //assert true, j>=0, 'bb'
    //assert true, i<@route.length, 'cc'
    //assert true, j<@route.length, 'dd'
    id0 = this.route[i];
    id1 = this.route[j];
    //assert true, id0 >= 0, 'ee'
    //assert true, id1 >= 0, 'ff'
    s0 = PHOTOS[id0].tags;
    s1 = PHOTOS[id1].tags;
    return _.union(s0, s1);
  }

  score1(s, t) { // in:set out:integer
    var a, b, c;
    a = _.intersection(s, t);
    b = _.difference(s, t);
    c = _.difference(t, s);
    return _.min([a.length, b.length, c.length]);
  }

  score4(a, b, c, d) { // in:index out:integer
    var s0, s1;
    s0 = this.set(a, b); // slides
    s1 = this.set(c, d);
    return this.score1(s0, s1);
  }

  score6(a, b, c, d, e, f) { // in:index out:integer
    var s0, s1, s2;
    s0 = this.set(a, b); // slides
    s1 = this.set(c, d);
    s2 = this.set(e, f);
    return this.score1(s0, s1) + this.score1(s1, s2);
  }

  swapscore(i, j) { // in:index out:integer improvement
    var a0, a1, b0, b1, c0, c1, d0, d1, e0, e1, f0, f1, xnew, xold;
    //assert i%2==j%2
    if (i % 2 === 0) { // even
      // slides: a0b0 c0d0
      a0 = i - 2; // index to route to photo
      b0 = i - 1;
      c0 = i;
      d0 = i + 1;
      // slides: a1b1 c1d1
      a1 = j - 2; // index to route to photo
      b1 = j - 1;
      c1 = j;
      d1 = j + 1;
      xold = this.score4(a0, b0, c0, d0) + this.score4(a1, b1, c1, d1);
      xnew = this.score4(a0, b0, b1, a1) + this.score4(d0, c0, c1, d1); // even
      return xnew - xold; // odd
    } else {
      // slides: a0b0 c0d0 e0f0
      a0 = i - 3; // index to route to photo
      b0 = i - 2;
      c0 = i - 1;
      d0 = i + 0;
      e0 = i + 1;
      f0 = i + 2;
      // slides: a1b1 c1d1 e1f1
      a1 = j - 3; // index to route to photo
      b1 = j - 2;
      c1 = j - 1;
      d1 = j + 0;
      e1 = j + 1;
      f1 = j + 2;
      xold = this.score6(a0, b0, c0, d0, e0, f0) + this.score6(a1, b1, c1, d1, e1, f1);
      xnew = this.score6(a0, b0, c0, c1, b1, a1) + this.score6(f0, e0, d0, d1, e1, f1);
      return xnew - xold;
    }
  }

  calc1(i) { // i is always even
    var photo0, photo1, photo2, photo3, s0, s1;
    //assert i%2 == 0
    photo0 = PHOTOS[this.route[i + 0]];
    photo1 = PHOTOS[this.route[i + 1]];
    s0 = _.union(photo0.tags, photo1.tags);
    photo2 = PHOTOS[this.route[i + 2]];
    photo3 = PHOTOS[this.route[i + 3]];
    s1 = _.union(photo2.tags, photo3.tags);
    return this.score1(s0, s1);
  }

  calc() {
    var i, k, ref, result;
    result = 0;
    for (i = k = 0, ref = N - 2; k < ref; i = k += 2) {
      result += this.calc1(i);
    }
    return result;
  }

  swap(i, j) { // reverses the nodes between the indices.
    var results;
    results = [];
    //@route[i...j] = @route[i...j].reverse()
    while (i < j) {
      [this.route[i], this.route[j - 1]] = [this.route[j - 1], this.route[i]];
      i += 1;
      results.push(j -= 1);
    }
    return results;
  }

  //print @route
  opt(i, j) {
    var score;
    score = this.swapscore(i, j);
    if (score > 0) {
      this.swaps += 1;
      // print('before',self.totalScore, self.calc())
      // assert self.totalScore == self.calc()
      this.totalScore += score;
      return this.swap(i, j);
    }
  }

  // print('after',self.totalScore, self.calc())
  // assert self.totalScore == self.calc()
  two_opt() {
    var i, j, results;
    this.swaps = 1;
    results = [];
    while (this.swaps > 0) {
      this.swaps = 0;
      results.push((function() {
        var k, ref, results1;
        results1 = [];
        for (i = k = 2, ref = this.route.length - 4; (2 <= ref ? k < ref : k > ref); i = 2 <= ref ? ++k : --k) {
          print(i, this.totalScore, Date.now() - this.start); //, self.route[:64])
          results1.push((function() {
            var l, ref1, ref2, results2;
            results2 = [];
            for (j = l = ref1 = i + 4, ref2 = this.route.length - 2; l < ref2; j = l += 2) {
              this.opt(i, j);
              results2.push(this.opt(i + 1, j + 1));
            }
            return results2;
          }).call(this));
        }
        return results1;
      }).call(this));
    }
    return results;
  }

  //self.save('eee')
  init() {
    return (function() {
      var results = [];
      for (var k = 0; 0 <= N ? k < N : k > N; 0 <= N ? k++ : k--){ results.push(k); }
      return results;
    }).apply(this);
  }

};

solver = new Solver('e');

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQUEsSUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBLEtBQUEsRUFBQTs7QUFDQSxDQUFBLEdBQUksT0FBQSxDQUFRLDJCQUFSOztBQUNKLE9BQUEsQ0FBUSx3QkFBUjs7QUFDQSxPQUFBLENBQVEsT0FBUjs7QUFFQSxLQUFBLEdBQVEsT0FBTyxDQUFDOztBQUVoQixNQUFBLEdBQVUsQ0FBQTs7QUFFVixDQUFBLEdBQUk7O0FBRUUsUUFBTixNQUFBLE1BQUE7RUFDQyxXQUFjLElBQUEsY0FBQSxPQUFBLENBQUE7SUFBQyxJQUFDLENBQUE7SUFBSSxJQUFDLENBQUE7SUFBYSxJQUFDLENBQUE7RUFBckI7O0FBRGYsRUFYQTs7O0FBZU0sU0FBTixNQUFBLE9BQUE7RUFDQyxXQUFjLE9BQUEsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUNmLElBQUMsQ0FBQSxDQUFELEdBQUssRUFBTDtJQUNBLElBQUMsQ0FBQSxNQUFELEdBQVUsR0FEVjtJQUVBLElBQUMsQ0FBQSxJQUFELENBQU0sSUFBQyxDQUFBLE1BQVA7SUFDQSxJQUFDLENBQUEsS0FBRCxHQUFTLElBQUMsQ0FBQSxJQUFELENBQUE7SUFDVCxJQUFDLENBQUEsVUFBRCxHQUFjLElBQUMsQ0FBQSxJQUFELENBQUEsRUFKZDs7SUFNQSxJQUFDLENBQUEsS0FBRCxHQUFTLElBQUksQ0FBQyxHQUFMLENBQUEsRUFOVDs7SUFRQSxJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLE9BQUQsQ0FBQTtJQUNBLElBQUMsQ0FBQSxJQUFELENBQU0sSUFBQyxDQUFBLE1BQVA7RUFYYTs7RUFhZCxJQUFPLENBQUEsQ0FBQTtBQUNOLFFBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsR0FB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S0FBRCxHQUFTO0FBQ1Q7V0FBTSxJQUFDLENBQUEsS0FBRCxHQUFTLENBQWY7TUFDQyxJQUFDLENBQUEsS0FBRCxHQUFTOzs7QUFDVDtRQUFBLEtBQVMsZ0dBQVQ7VUFDQyxLQUFBLENBQU0sQ0FBTixFQUFTLElBQUMsQ0FBQSxVQUFWLEVBQXNCLElBQUksQ0FBQyxHQUFMLENBQUEsQ0FBQSxHQUFhLElBQUMsQ0FBQSxLQUFwQyxFQUFBOzs7QUFDQTtZQUFBLEtBQVMsd0VBQVQ7Y0FDQyxJQUFDLENBQUEsR0FBRCxDQUFLLENBQUwsRUFBTyxDQUFQOzRCQUNBLElBQUMsQ0FBQSxHQUFELENBQUssQ0FBQSxHQUFFLENBQVAsRUFBUyxDQUFBLEdBQUUsQ0FBWDtZQUZELENBQUE7OztRQUZELENBQUE7OztJQUZELENBQUE7O0VBRlMsQ0FuSVY7OztFQThJQSxJQUFPLENBQUEsQ0FBQTtXQUFHOzs7OztFQUFIOztBQS9JUjs7QUFpSkEsTUFBQSxHQUFTLElBQUksTUFBSixDQUFXLEdBQVgiLCJzb3VyY2VzQ29udGVudCI6WyIjIENvZmZlZXNjcmlwdCDDpHIgY2lya2EgMTAgZ2dyIGzDpW5nc2FtbWFyZSDDpG4gUHl0aG9uMy5cclxuXyA9IHJlcXVpcmUgJy4uXFxcXGxpYnJhcmllc1xcXFx1bmRlcnNjb3JlJ1xyXG5yZXF1aXJlICcuLlxcXFxsaWJyYXJpZXNcXFxcbmlsc3NvbidcclxucmVxdWlyZSAnLi5cXFxcZSdcclxuXHJcbnByaW50ID0gY29uc29sZS5sb2dcclxuXHJcblBIT1RPUyAgPSB7fSBcclxuXHJcbk4gPSA4MDAwMFxyXG5cclxuY2xhc3MgUGhvdG9cclxuXHRjb25zdHJ1Y3RvciA6IChAaWQsIEBvcmllbnRhdGlvbiwgQHRhZ3MpIC0+XHJcblx0XHQjQHNldCA9IEB0YWdzXHJcblxyXG5jbGFzcyBTb2x2ZXJcclxuXHRjb25zdHJ1Y3RvciA6IChAbGV0dGVyKSAtPlxyXG5cdFx0QG4gPSAwICMgbnVtYmVyIG9mIHBob3Rvc1xyXG5cdFx0QHJlc3VsdCA9IFtdICMgY29udGFpbnMgb3V0cHV0IHN0cmluZ3NcclxuXHRcdEByZWFkIEBsZXR0ZXJcclxuXHRcdEByb3V0ZSA9IEBpbml0KClcclxuXHRcdEB0b3RhbFNjb3JlID0gQGNhbGMoKVxyXG5cdFx0I3ByaW50KEB0b3RhbFNjb3JlKVxyXG5cdFx0QHN0YXJ0ID0gRGF0ZS5ub3coKVxyXG5cdFx0I3ByaW50IERhdGUubm93KCktQHN0YXJ0XHJcblx0XHRAc3dhcHMgPSAwXHJcblx0XHRAdHdvX29wdCgpXHJcblx0XHRAc2F2ZSBAbGV0dGVyXHJcblxyXG5cdHJlYWQgOiAtPlxyXG5cdFx0bGluZXMgPSBlZmlsZS5zcGxpdCAnXFxuJ1xyXG5cdFx0Zm9yIGxpbmUsaWQgaW4gbGluZXMuc2xpY2UgMCxOXHJcblx0XHRcdGFyciA9IGxpbmUuc3BsaXQgJyAnXHJcblx0XHRcdG9yaWVudGF0aW9uID0gYXJyWzBdXHJcblx0XHRcdHRhZ3MgPSBhcnIuc2xpY2UgMlxyXG5cdFx0XHRQSE9UT1NbaWRdID0gbmV3IFBob3RvIGlkLCBvcmllbnRhdGlvbiwgdGFnc1xyXG5cdFx0XHQjcHJpbnQgUEhPVE9TW2lkXVxyXG5cclxuXHRzYXZlIDogLT5cclxuXHRcdHByaW50IEByb3V0ZS5sZW5ndGhcclxuXHRcdGZvciBsaW5lIGluIEByb3V0ZVxyXG5cdFx0XHRwcmludCBsaW5lXHJcblxyXG5cdHNldCA6IChpLGopIC0+ICMgaW46aW5kZXggb3V0OnNldFxyXG5cdFx0I2Fzc2VydCB0cnVlLCBpPj0wLCAnYWEnXHJcblx0XHQjYXNzZXJ0IHRydWUsIGo+PTAsICdiYidcclxuXHRcdCNhc3NlcnQgdHJ1ZSwgaTxAcm91dGUubGVuZ3RoLCAnY2MnXHJcblx0XHQjYXNzZXJ0IHRydWUsIGo8QHJvdXRlLmxlbmd0aCwgJ2RkJ1xyXG5cdFx0aWQwID0gQHJvdXRlW2ldXHJcblx0XHRpZDEgPSBAcm91dGVbal1cclxuXHRcdCNhc3NlcnQgdHJ1ZSwgaWQwID49IDAsICdlZSdcclxuXHRcdCNhc3NlcnQgdHJ1ZSwgaWQxID49IDAsICdmZidcclxuXHRcdHMwID0gUEhPVE9TW2lkMF0udGFnc1xyXG5cdFx0czEgPSBQSE9UT1NbaWQxXS50YWdzXHJcblx0XHRfLnVuaW9uIHMwLHMxXHJcblxyXG5cdHNjb3JlMSA6IChzLHQpIC0+ICMgaW46c2V0IG91dDppbnRlZ2VyXHJcblx0XHRhID0gXy5pbnRlcnNlY3Rpb24gcyx0XHJcblx0XHRiID0gXy5kaWZmZXJlbmNlIHMsdFxyXG5cdFx0YyA9IF8uZGlmZmVyZW5jZSB0LHNcclxuXHRcdF8ubWluIFthLmxlbmd0aCwgYi5sZW5ndGgsIGMubGVuZ3RoXVxyXG5cclxuXHRzY29yZTQgOiAoYSxiLGMsZCkgLT4gIyBpbjppbmRleCBvdXQ6aW50ZWdlclxyXG5cdFx0czAgPSBAc2V0IGEsYiAjIHNsaWRlc1xyXG5cdFx0czEgPSBAc2V0IGMsZFxyXG5cdFx0QHNjb3JlMSBzMCxzMVxyXG5cclxuXHRzY29yZTYgOiAoYSxiLGMsZCxlLGYpIC0+ICMgaW46aW5kZXggb3V0OmludGVnZXJcclxuXHRcdHMwID0gQHNldCBhLGIgIyBzbGlkZXNcclxuXHRcdHMxID0gQHNldCBjLGRcclxuXHRcdHMyID0gQHNldCBlLGZcclxuXHRcdEBzY29yZTEoczAsczEpICsgQHNjb3JlMShzMSxzMilcclxuXHJcblx0c3dhcHNjb3JlIDogKGksaikgLT4gIyBpbjppbmRleCBvdXQ6aW50ZWdlciBpbXByb3ZlbWVudFxyXG5cdFx0I2Fzc2VydCBpJTI9PWolMlxyXG5cdFx0aWYgaSUyPT0wICMgZXZlblxyXG5cdFx0XHQjIHNsaWRlczogYTBiMCBjMGQwXHJcblx0XHRcdGEwID0gaSAtIDIgICMgaW5kZXggdG8gcm91dGUgdG8gcGhvdG9cclxuXHRcdFx0YjAgPSBpIC0gMVxyXG5cdFx0XHRjMCA9IGlcclxuXHRcdFx0ZDAgPSBpICsgMVxyXG5cclxuXHRcdFx0IyBzbGlkZXM6IGExYjEgYzFkMVxyXG5cdFx0XHRhMSA9IGogLSAyICAjIGluZGV4IHRvIHJvdXRlIHRvIHBob3RvXHJcblx0XHRcdGIxID0gaiAtIDFcclxuXHRcdFx0YzEgPSBqXHJcblx0XHRcdGQxID0gaiArIDFcclxuXHJcblx0XHRcdHhvbGQgPSBAc2NvcmU0KGEwLGIwLGMwLGQwKSArIEBzY29yZTQoYTEsYjEsYzEsZDEpXHJcblx0XHRcdHhuZXcgPSBAc2NvcmU0KGEwLGIwLGIxLGExKSArIEBzY29yZTQoZDAsYzAsYzEsZDEpICMgZXZlblxyXG5cdFx0XHRyZXR1cm4geG5ldyAtIHhvbGRcclxuXHRcdGVsc2UgIyBvZGRcclxuXHRcdFx0IyBzbGlkZXM6IGEwYjAgYzBkMCBlMGYwXHJcblx0XHRcdGEwID0gaSAtIDMgICMgaW5kZXggdG8gcm91dGUgdG8gcGhvdG9cclxuXHRcdFx0YjAgPSBpIC0gMlxyXG5cdFx0XHRjMCA9IGkgLSAxXHJcblx0XHRcdGQwID0gaSArIDBcclxuXHRcdFx0ZTAgPSBpICsgMVxyXG5cdFx0XHRmMCA9IGkgKyAyXHJcblxyXG5cdFx0XHQjIHNsaWRlczogYTFiMSBjMWQxIGUxZjFcclxuXHRcdFx0YTEgPSBqIC0gMyAgIyBpbmRleCB0byByb3V0ZSB0byBwaG90b1xyXG5cdFx0XHRiMSA9IGogLSAyXHJcblx0XHRcdGMxID0gaiAtIDFcclxuXHRcdFx0ZDEgPSBqICsgMFxyXG5cdFx0XHRlMSA9IGogKyAxXHJcblx0XHRcdGYxID0gaiArIDJcclxuXHJcblx0XHRcdHhvbGQgPSBAc2NvcmU2KGEwLGIwLGMwLGQwLGUwLGYwKSArIEBzY29yZTYoYTEsYjEsYzEsZDEsZTEsZjEpXHJcblx0XHRcdHhuZXcgPSBAc2NvcmU2KGEwLGIwLGMwLGMxLGIxLGExKSArIEBzY29yZTYoZjAsZTAsZDAsZDEsZTEsZjEpXHJcblx0XHRcdHJldHVybiB4bmV3IC0geG9sZFxyXG5cclxuXHRjYWxjMSA6IChpKSAtPiAjIGkgaXMgYWx3YXlzIGV2ZW5cclxuXHRcdCNhc3NlcnQgaSUyID09IDBcclxuXHRcdHBob3RvMCA9IFBIT1RPU1tAcm91dGVbaSswXV1cclxuXHRcdHBob3RvMSA9IFBIT1RPU1tAcm91dGVbaSsxXV1cclxuXHRcdHMwID0gXy51bmlvbiBwaG90bzAudGFncywgcGhvdG8xLnRhZ3NcclxuXHRcdHBob3RvMiA9IFBIT1RPU1tAcm91dGVbaSsyXV1cclxuXHRcdHBob3RvMyA9IFBIT1RPU1tAcm91dGVbaSszXV1cclxuXHRcdHMxID0gXy51bmlvbiBwaG90bzIudGFncywgcGhvdG8zLnRhZ3NcclxuXHRcdEBzY29yZTEgczAsczFcclxuXHJcblx0Y2FsYyA6IC0+IFxyXG5cdFx0cmVzdWx0ID0gMFxyXG5cdFx0Zm9yIGkgaW4gWzAuLi5OLTJdIGJ5IDJcclxuXHRcdFx0cmVzdWx0ICs9IEBjYWxjMSBpXHJcblx0XHRyZXN1bHRcclxuXHJcblx0c3dhcCA6IChpLGopIC0+ICMgcmV2ZXJzZXMgdGhlIG5vZGVzIGJldHdlZW4gdGhlIGluZGljZXMuXHJcblx0XHQjQHJvdXRlW2kuLi5qXSA9IEByb3V0ZVtpLi4ual0ucmV2ZXJzZSgpXHJcblx0XHR3aGlsZSBpPGpcclxuXHRcdFx0W0Byb3V0ZVtpXSxAcm91dGVbai0xXV0gPSBbQHJvdXRlW2otMV0sQHJvdXRlW2ldXVxyXG5cdFx0XHRpKz0xXHJcblx0XHRcdGotPTFcclxuXHRcdFx0I3ByaW50IEByb3V0ZVxyXG5cclxuXHRvcHQgOiAoaSxqKSAtPlxyXG5cdFx0c2NvcmUgPSBAc3dhcHNjb3JlIGksIGpcclxuXHRcdGlmIHNjb3JlID4gMFxyXG5cdFx0XHRAc3dhcHMgKz0gMVxyXG5cdFx0XHQjIHByaW50KCdiZWZvcmUnLHNlbGYudG90YWxTY29yZSwgc2VsZi5jYWxjKCkpXHJcblx0XHRcdCMgYXNzZXJ0IHNlbGYudG90YWxTY29yZSA9PSBzZWxmLmNhbGMoKVxyXG5cdFx0XHRAdG90YWxTY29yZSArPSBzY29yZVxyXG5cdFx0XHRAc3dhcCBpLCBqXHJcblx0XHRcdCMgcHJpbnQoJ2FmdGVyJyxzZWxmLnRvdGFsU2NvcmUsIHNlbGYuY2FsYygpKVxyXG5cdFx0XHQjIGFzc2VydCBzZWxmLnRvdGFsU2NvcmUgPT0gc2VsZi5jYWxjKClcclxuXHJcblx0dHdvX29wdCA6IC0+XHJcblx0XHRAc3dhcHMgPSAxXHJcblx0XHR3aGlsZSBAc3dhcHMgPiAwXHJcblx0XHRcdEBzd2FwcyA9IDBcclxuXHRcdFx0Zm9yIGkgaW4gWzIuLi5Acm91dGUubGVuZ3RoLTRdXHJcblx0XHRcdFx0cHJpbnQgaSwgQHRvdGFsU2NvcmUsIERhdGUubm93KCkgLSBAc3RhcnQgIywgc2VsZi5yb3V0ZVs6NjRdKVxyXG5cdFx0XHRcdGZvciBqIGluIFtpKzQuLi5Acm91dGUubGVuZ3RoLTJdIGJ5IDJcclxuXHRcdFx0XHRcdEBvcHQgaSxqXHJcblx0XHRcdFx0XHRAb3B0IGkrMSxqKzFcclxuXHRcdFx0I3NlbGYuc2F2ZSgnZWVlJylcclxuXHJcblx0aW5pdCA6IC0+IFswLi4uTl1cclxuXHJcbnNvbHZlciA9IG5ldyBTb2x2ZXIgJ2UnXHJcbiJdfQ==
//# sourceURL=C:\Lab\2019\023-hashcode\coffee\sketch.coffee