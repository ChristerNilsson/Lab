// Generated by CoffeeScript 2.3.2
var Board, Button, REVEALED, UNREVEALED, board, buttons, colors, draw, level, messages, mousePressed, setup;

UNREVEALED = -1;

REVEALED = -2;

board = null;

colors = '#f00 #0f0 #00f #ff0 #fff'.split(' ');

level = 3;

buttons = [];

messages = [];

Button = class Button {
  constructor(prompt, x, y, w, h) {
    this.prompt = prompt;
    this.x = x;
    this.y = y;
    this.w = w;
    this.h = h;
  }

  draw() {
    rectMode(CENTER);
    fc(0);
    rect(this.x, this.y, this.w, this.h);
    fc(1);
    return text(this.prompt, this.x, this.y);
  }

  click() {
    var i, j, k, len, ref;
    j = board.h - 1;
    ref = range(board.n);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      if (board.m[j][i] !== board.facit[j][i]) {
        level = 3;
        board = new Board(level);
        return;
      }
    }
    if (board.counter === board.optimum) {
      level += 1;
    } else {
      level = 3;
    }
    return board = new Board(level);
  }

  inside(mx, my) {
    var ref, ref1;
    return (this.x < (ref = mx + board.size / 2) && ref < this.x + board.w * board.size) && (this.y < (ref1 = my + board.size / 2) && ref1 < this.y + board.h * board.size);
  }

};

Board = class Board {
  constructor(n) {
    var i, j, k, len, ref;
    this.n = n;
    this.w = this.n;
    this.h = 1;
    ref = range(1, this.n + 1);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      this.h *= i;
    }
    this.size = height / this.h;
    this.facit = this.generate(range(this.n));
    this.m = (function() {
      var l, len1, ref1, results;
      ref1 = range(this.h);
      results = [];
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        j = ref1[l];
        results.push((function() {
          var len2, o, ref2, results1;
          ref2 = range(this.n);
          results1 = [];
          for (o = 0, len2 = ref2.length; o < len2; o++) {
            i = ref2[o];
            results1.push(-1);
          }
          return results1;
        }).call(this));
      }
      return results;
    }).call(this);
    this.counter = 0;
    this.optimum = [0, 0, 0, 6, 29, 148][this.n];
  }

  generate(arr) {
    var permute, result;
    result = [];
    permute = (arr, m = []) => {
      var curr, i, k, len, next, ref, results;
      if (arr.length === 0) {
        return result.push(m);
      } else {
        ref = range(arr.length);
        results = [];
        for (k = 0, len = ref.length; k < len; k++) {
          i = ref[k];
          curr = arr.slice();
          next = curr.splice(i, 1);
          results.push(permute(curr.slice(), m.concat(next)));
        }
        return results;
      }
    };
    permute(arr);
    return _.shuffle(result);
  }

  draw() {
    var i, j, k, l, len, len1, len2, message, n, ref, ref1;
    rectMode(CORNER);
    ref = range(this.w);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      ref1 = range(this.h);
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        j = ref1[l];
        if (this.m[j][i] === UNREVEALED) {
          fc(0.5);
          rect(i * this.size, j * this.size, this.size, this.size);
        } else if (this.m[j][i] === REVEALED) {
          fill(colors[this.facit[j][i]]);
          rect(i * this.size, j * this.size, this.size, this.size); // flagged
        } else {
          fill(colors[this.m[j][i]]);
          rect(i * this.size, j * this.size, this.size, this.size);
          fc(0.5);
          rect(i * this.size + 3, j * this.size + 3, this.size - 6, this.size - 6);
        }
      }
    }
    fc(0);
    textSize(20);
    textAlign(LEFT, CENTER);
    for (i = n = 0, len2 = messages.length; n < len2; i = ++n) {
      message = messages[i];
      text(message, 600, height / 2 + 40 * i);
    }
    fc(1);
    textSize(100);
    textAlign(CENTER, CENTER);
    return text(this.counter, 600, 100);
  }

  click(i, j, keyPressed) {
    if (keyPressed) {
      if (this.m[j][i] === REVEALED) {
        return;
      }
      if (this.m[j][i] === UNREVEALED) {
        return this.m[j][i] = 0;
      } else {
        if (this.m[j][i] === this.n - 1) {
          return this.m[j][i] = UNREVEALED;
        } else {
          return this.m[j][i] = (this.m[j][i] + 1) % this.n;
        }
      }
    } else {
      if (j < this.h - 1 && i < this.w) {
        if (this.m[j][i] !== REVEALED) {
          this.m[j][i] = REVEALED;
          return this.counter += 1;
        }
      }
    }
  }

};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  board = new Board(level);
  buttons.push(new Button('ok', 600, 250));
  messages = [];
  messages.push('Every row contains a unique permutation of tiles');
  messages.push('Click to reveal a tile');
  messages.push('Shift-Click to flag a tile');
  messages.push('Flag all bottom row tiles');
  return messages.push('Click ok');
};

draw = function() {
  var button, k, len, results;
  bg(0.5);
  board.draw();
  results = [];
  for (k = 0, len = buttons.length; k < len; k++) {
    button = buttons[k];
    results.push(button.draw());
  }
  return results;
};

mousePressed = function() {
  var button, i, j, k, len;
  for (k = 0, len = buttons.length; k < len; k++) {
    button = buttons[k];
    if (button.inside(mouseX, mouseY)) {
      button.click();
      return;
    }
  }
  i = Math.floor(mouseX / board.size);
  j = Math.floor(mouseY / board.size);
  return board.click(i, j, keyIsPressed);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLEtBQUEsRUFBQSxPQUFBLEVBQUEsTUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsUUFBQSxFQUFBLFlBQUEsRUFBQTs7QUFBQSxVQUFBLEdBQWEsQ0FBQzs7QUFDZCxRQUFBLEdBQVcsQ0FBQzs7QUFFWixLQUFBLEdBQVE7O0FBQ1IsTUFBQSxHQUFTLDBCQUEwQixDQUFDLEtBQTNCLENBQWlDLEdBQWpDOztBQUNULEtBQUEsR0FBUTs7QUFDUixPQUFBLEdBQVU7O0FBQ1YsUUFBQSxHQUFXOztBQUVMLFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxPQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsQ0FBQTtJQUFDLElBQUMsQ0FBQTtJQUFPLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtJQUFFLElBQUMsQ0FBQTtFQUFuQjs7RUFFZCxJQUFPLENBQUEsQ0FBQTtJQUNOLFFBQUEsQ0FBUyxNQUFUO0lBQ0EsRUFBQSxDQUFHLENBQUg7SUFDQSxJQUFBLENBQUssSUFBQyxDQUFBLENBQU4sRUFBUSxJQUFDLENBQUEsQ0FBVCxFQUFXLElBQUMsQ0FBQSxDQUFaLEVBQWMsSUFBQyxDQUFBLENBQWY7SUFDQSxFQUFBLENBQUcsQ0FBSDtXQUNBLElBQUEsQ0FBSyxJQUFDLENBQUEsTUFBTixFQUFhLElBQUMsQ0FBQSxDQUFkLEVBQWdCLElBQUMsQ0FBQSxDQUFqQjtFQUxNOztFQU9QLEtBQVEsQ0FBQSxDQUFBO0FBQ1AsUUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7SUFBQSxDQUFBLEdBQUksS0FBSyxDQUFDLENBQU4sR0FBUTtBQUNaO0lBQUEsS0FBQSxxQ0FBQTs7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TTs7QUFNUCxZQUFBLEdBQWUsUUFBQSxDQUFBLENBQUE7QUFDZCxNQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQTtFQUFBLEtBQUEseUNBQUE7O0lBQ0MsSUFBRyxNQUFNLENBQUMsTUFBUCxDQUFjLE1BQWQsRUFBcUIsTUFBckIsQ0FBSDtNQUNDLE1BQU0sQ0FBQyxLQUFQLENBQUE7QUFDQSxhQUZEOztFQUREO0VBSUEsQ0FBQSxjQUFJLFNBQVEsS0FBSyxDQUFDO0VBQ2xCLENBQUEsY0FBSSxTQUFRLEtBQUssQ0FBQztTQUNsQixLQUFLLENBQUMsS0FBTixDQUFZLENBQVosRUFBYyxDQUFkLEVBQWdCLFlBQWhCO0FBUGMiLCJzb3VyY2VzQ29udGVudCI6WyJVTlJFVkVBTEVEID0gLTFcclxuUkVWRUFMRUQgPSAtMlxyXG5cclxuYm9hcmQgPSBudWxsXHJcbmNvbG9ycyA9ICcjZjAwICMwZjAgIzAwZiAjZmYwICNmZmYnLnNwbGl0ICcgJ1xyXG5sZXZlbCA9IDNcclxuYnV0dG9ucyA9IFtdXHJcbm1lc3NhZ2VzID0gW11cclxuXHJcbmNsYXNzIEJ1dHRvblxyXG5cdGNvbnN0cnVjdG9yIDogKEBwcm9tcHQsQHgsQHksQHcsQGgpIC0+XHJcblxyXG5cdGRyYXcgOiAtPlxyXG5cdFx0cmVjdE1vZGUgQ0VOVEVSXHJcblx0XHRmYyAwXHJcblx0XHRyZWN0IEB4LEB5LEB3LEBoXHJcblx0XHRmYyAxXHJcblx0XHR0ZXh0IEBwcm9tcHQsQHgsQHlcclxuXHJcblx0Y2xpY2sgOiAtPlxyXG5cdFx0aiA9IGJvYXJkLmgtMVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgYm9hcmQublxyXG5cdFx0XHRpZiBib2FyZC5tW2pdW2ldICE9IGJvYXJkLmZhY2l0W2pdW2ldIFxyXG5cdFx0XHRcdGxldmVsID0gM1xyXG5cdFx0XHRcdGJvYXJkID0gbmV3IEJvYXJkIGxldmVsXHJcblx0XHRcdFx0cmV0dXJuIFxyXG5cdFx0aWYgYm9hcmQuY291bnRlciA9PSBib2FyZC5vcHRpbXVtIHRoZW4gbGV2ZWwgKz0gMVxyXG5cdFx0ZWxzZSBsZXZlbCA9IDNcclxuXHRcdGJvYXJkID0gbmV3IEJvYXJkIGxldmVsXHJcblxyXG5cdGluc2lkZSA6IChteCxteSkgLT5cdEB4IDwgbXgrYm9hcmQuc2l6ZS8yIDwgQHgrYm9hcmQudypib2FyZC5zaXplIGFuZCBAeSA8IG15K2JvYXJkLnNpemUvMiA8IEB5K2JvYXJkLmgqYm9hcmQuc2l6ZVxyXG5cclxuY2xhc3MgQm9hcmRcclxuXHRjb25zdHJ1Y3RvciA6IChAbikgLT5cclxuXHRcdEB3ID0gQG5cclxuXHRcdEBoID0gMVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgMSxAbisxXHJcblx0XHRcdEBoICo9IGlcclxuXHRcdEBzaXplID0gaGVpZ2h0L0BoXHJcblx0XHRAZmFjaXQgPSBAZ2VuZXJhdGUgcmFuZ2UgQG5cclxuXHRcdEBtID0gKCgtMSBmb3IgaSBpbiByYW5nZSBAbikgZm9yIGogaW4gcmFuZ2UgQGgpXHJcblx0XHRAY291bnRlciA9IDBcclxuXHRcdEBvcHRpbXVtID0gWzAsMCwwLDYsMjksMTQ4XVtAbl1cclxuXHJcblx0Z2VuZXJhdGUgOiAoYXJyKSAtPlxyXG5cdFx0cmVzdWx0ID0gW11cclxuXHRcdHBlcm11dGUgPSAoYXJyLCBtPVtdKSA9PiBcclxuXHRcdFx0aWYgYXJyLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0cmVzdWx0LnB1c2ggbVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0Zm9yIGkgaW4gcmFuZ2UgYXJyLmxlbmd0aFxyXG5cdFx0XHRcdFx0Y3VyciA9IGFyci5zbGljZSgpXHJcblx0XHRcdFx0XHRuZXh0ID0gY3Vyci5zcGxpY2UgaSwgMVxyXG5cdFx0XHRcdFx0cGVybXV0ZSBjdXJyLnNsaWNlKCksIG0uY29uY2F0KG5leHQpXHJcblx0XHRwZXJtdXRlIGFyclxyXG5cdFx0Xy5zaHVmZmxlIHJlc3VsdFxyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdHJlY3RNb2RlIENPUk5FUlxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgQHdcclxuXHRcdFx0Zm9yIGogaW4gcmFuZ2UgQGhcclxuXHRcdFx0XHRpZiBAbVtqXVtpXSA9PSBVTlJFVkVBTEVEXHJcblx0XHRcdFx0XHRmYyAwLjVcclxuXHRcdFx0XHRcdHJlY3QgaSpAc2l6ZSxqKkBzaXplLEBzaXplLEBzaXplXHJcblx0XHRcdFx0ZWxzZSBpZiBAbVtqXVtpXSA9PSBSRVZFQUxFRFxyXG5cdFx0XHRcdFx0XHRmaWxsIGNvbG9yc1tAZmFjaXRbal1baV1dXHJcblx0XHRcdFx0XHRcdHJlY3QgaSpAc2l6ZSxqKkBzaXplLEBzaXplLEBzaXplXHJcblx0XHRcdFx0ZWxzZSAjIGZsYWdnZWRcclxuXHRcdFx0XHRcdGZpbGwgY29sb3JzW0BtW2pdW2ldXVxyXG5cdFx0XHRcdFx0cmVjdCBpKkBzaXplLGoqQHNpemUsQHNpemUsQHNpemVcclxuXHRcdFx0XHRcdGZjIDAuNVxyXG5cdFx0XHRcdFx0cmVjdCBpKkBzaXplKzMsaipAc2l6ZSszLEBzaXplLTYsQHNpemUtNlxyXG5cclxuXHRcdGZjIDBcclxuXHRcdHRleHRTaXplIDIwXHJcblx0XHR0ZXh0QWxpZ24gTEVGVCxDRU5URVJcclxuXHRcdGZvciBtZXNzYWdlLGkgaW4gbWVzc2FnZXNcclxuXHRcdFx0dGV4dCBtZXNzYWdlLDYwMCxoZWlnaHQvMis0MCppXHJcblxyXG5cdFx0ZmMgMVxyXG5cdFx0dGV4dFNpemUgMTAwXHJcblx0XHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdFx0dGV4dCBAY291bnRlciw2MDAsMTAwXHJcblxyXG5cdGNsaWNrIDogKGksaixrZXlQcmVzc2VkKSAtPlxyXG5cdFx0aWYga2V5UHJlc3NlZCBcclxuXHRcdFx0aWYgQG1bal1baV0gPT0gUkVWRUFMRUQgdGhlbiByZXR1cm4gXHJcblx0XHRcdGlmIEBtW2pdW2ldID09IFVOUkVWRUFMRURcclxuXHRcdFx0XHRAbVtqXVtpXSA9IDBcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlmIEBtW2pdW2ldID09IEBuLTFcclxuXHRcdFx0XHRcdEBtW2pdW2ldID0gVU5SRVZFQUxFRFxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdEBtW2pdW2ldID0gKEBtW2pdW2ldICsgMSkgJSBAblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBqPEBoLTEgYW5kIGk8QHdcclxuXHRcdFx0XHRpZiBAbVtqXVtpXSAhPSBSRVZFQUxFRFxyXG5cdFx0XHRcdFx0QG1bal1baV0gPSBSRVZFQUxFRFxyXG5cdFx0XHRcdFx0QGNvdW50ZXIgKz0gMVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyB3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHRcclxuXHRib2FyZCA9IG5ldyBCb2FyZCBsZXZlbFxyXG5cdGJ1dHRvbnMucHVzaCBuZXcgQnV0dG9uICdvaycsNjAwLDI1MFxyXG5cdG1lc3NhZ2VzID0gW11cclxuXHRtZXNzYWdlcy5wdXNoICdFdmVyeSByb3cgY29udGFpbnMgYSB1bmlxdWUgcGVybXV0YXRpb24gb2YgdGlsZXMnXHJcblx0bWVzc2FnZXMucHVzaCAnQ2xpY2sgdG8gcmV2ZWFsIGEgdGlsZSdcclxuXHRtZXNzYWdlcy5wdXNoICdTaGlmdC1DbGljayB0byBmbGFnIGEgdGlsZSdcclxuXHRtZXNzYWdlcy5wdXNoICdGbGFnIGFsbCBib3R0b20gcm93IHRpbGVzJ1xyXG5cdG1lc3NhZ2VzLnB1c2ggJ0NsaWNrIG9rJ1xyXG5cclxuZHJhdyA9IC0+XHJcblx0YmcgMC41XHJcblx0Ym9hcmQuZHJhdygpXHJcblx0Zm9yIGJ1dHRvbiBpbiBidXR0b25zXHJcblx0XHRidXR0b24uZHJhdygpXHJcblxyXG5tb3VzZVByZXNzZWQgPSAtPlxyXG5cdGZvciBidXR0b24gaW4gYnV0dG9uc1xyXG5cdFx0aWYgYnV0dG9uLmluc2lkZSBtb3VzZVgsbW91c2VZIFxyXG5cdFx0XHRidXR0b24uY2xpY2soKVxyXG5cdFx0XHRyZXR1cm4gXHJcblx0aSA9IG1vdXNlWC8vYm9hcmQuc2l6ZVxyXG5cdGogPSBtb3VzZVkvL2JvYXJkLnNpemVcclxuXHRib2FyZC5jbGljayBpLGosa2V5SXNQcmVzc2VkXHJcbiJdfQ==
//# sourceURL=C:\Lab\2019\042-PowerArrangers\coffee\sketch.coffee