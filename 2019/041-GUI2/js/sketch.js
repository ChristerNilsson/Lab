// Generated by CoffeeScript 2.3.2
var GUI, app, draw, keyPressed, say, setup,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

say = function(m) {
  var msg, voices;
  speechSynthesis.cancel();
  msg = new SpeechSynthesisUtterance();
  voices = speechSynthesis.getVoices();
  msg.voice = voices[5];
  msg.voiceURI = "native";
  msg.volume = 1;
  msg.rate = 1;
  msg.pitch = 0.8;
  msg.text = m;
  msg.lang = 'en-US';
  return speechSynthesis.speak(msg);
};

GUI = class GUI {
  constructor() {
    this.current = ['Fan'];
    this.menu = {
      Fan: range(4),
      Temp: range(6),
      Blink: 'Off Left Right'.split(' '),
      Music: 'Beatles Jazz Rock Stones'.split(' '),
      Radio: 'P1 P2 P3 P4 P5'.split(' '),
      Volume: range(10),
      Wipers: range(4),
      Bearing: ['0 0', '0 1', '0 2', '0 3', '0 4', '0 5', '0 6', '0 7', '0 8', '0 9', '1 0', '1 1', '1 2', '1 3', '1 4', '1 5', '1 6', '1 7', '1 8', '1 9', '2 0', '2 1', '2 2', '2 3', '2 4', '2 5', '2 6', '2 7', '2 8', '2 9', '3 0', '3 1', '3 2', '3 3', '3 4', '3 5'],
      Distance: '10 20 50 100 200 500 1000 2000 5000'.split(' ')
    };
    this.values = {
      Fan: 0,
      Temp: 0,
      Blink: 'Off',
      Music: 'Rock',
      Radio: 'P1',
      Volume: 5,
      Wipers: 0,
      Distance: '500',
      Bearing: '1 8'
    };
  }

  draw() {
    bg(0.5);
    sc();
    textSize(20);
    text(this.current[0], 50, 50);
    if (this.current.length === 2) {
      return text(this.current[1], 70, 70);
    }
  }

  scroll(delta) {
    var arr, index, keys0;
    if (this.current.length === 1) {
      keys0 = _.keys(this.menu);
      index = keys0.indexOf(this.current[this.current.length - 1]);
      index = modulo(index + delta, keys0.length);
      this.current[this.current.length - 1] = keys0[index];
      say(keys0[index]);
    }
    if (this.current.length === 2) {
      keys0 = _.keys(this.menu);
      arr = this.menu[this.current[0]];
      index = arr.indexOf(this.current[1]);
      index = modulo(index + delta, arr.length);
      this.current[1] = arr[index];
      this.values[this.current[0]] = this.current[1];
      return say(this.current[1]);
    }
  }

  up() {
    return this.scroll(1);
  }

  down() {
    return this.scroll(-1);
  }

  ok() {
    if (this.current.length === 1) {
      this.current.push(this.values[this.current[0]]);
      return say(this.current[this.current.length - 1]);
    }
  }

  back() {
    if (this.current.length > 1) {
      this.current.pop();
      return say(this.current[this.current.length - 1]);
    }
  }

};

app = new GUI;

setup = function() {
  return createCanvas(200, 200);
};

draw = function() {
  return app.draw();
};

keyPressed = function() {
  if (keyCode === 37) {
    app.back();
  }
  if (keyCode === 38) {
    app.up();
  }
  if (keyCode === 39) {
    app.ok();
  }
  if (keyCode === 40) {
    return app.down();
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBO0VBQUE7O0FBQUEsR0FBQSxHQUFNLFFBQUEsQ0FBQyxDQUFELENBQUE7QUFDTCxNQUFBLEdBQUEsRUFBQTtFQUFBLGVBQWUsQ0FBQyxNQUFoQixDQUFBO0VBQ0EsR0FBQSxHQUFNLElBQUksd0JBQUosQ0FBQTtFQUNOLE1BQUEsR0FBUyxlQUFlLENBQUMsU0FBaEIsQ0FBQTtFQUNULEdBQUcsQ0FBQyxLQUFKLEdBQVksTUFBTyxDQUFBLENBQUE7RUFDbkIsR0FBRyxDQUFDLFFBQUosR0FBZTtFQUNmLEdBQUcsQ0FBQyxNQUFKLEdBQWE7RUFDYixHQUFHLENBQUMsSUFBSixHQUFXO0VBQ1gsR0FBRyxDQUFDLEtBQUosR0FBWTtFQUNaLEdBQUcsQ0FBQyxJQUFKLEdBQVc7RUFDWCxHQUFHLENBQUMsSUFBSixHQUFXO1NBQ1gsZUFBZSxDQUFDLEtBQWhCLENBQXNCLEdBQXRCO0FBWEs7O0FBYUEsTUFBTixNQUFBLElBQUE7RUFDQyxXQUFjLENBQUEsQ0FBQTtJQUViLElBQUMsQ0FBQSxPQUFELEdBQVcsQ0FBQyxLQUFEO0lBRVgsSUFBQyxDQUFBLElBQUQsR0FDQztNQUFBLEdBQUEsRUFBSyxLQUFBLENBQU0sQ0FBTixDQUFMO01BQ0EsSUFBQSxFQUFNLEtBQUEsQ0FBTSxDQUFOLENBRE47TUFFQSxLQUFBLEVBQU8sZ0JBQWdCLENBQUMsS0FBakIsQ0FBdUIsR0FBdkIsQ0FGUDtNQUdBLEtBQUEsRUFBTywwQkFBMEIsQ0FBQyxLQUEzQixDQUFpQyxHQUFqQyxDQUhQO01BSUEsS0FBQSxFQUFPLGdCQUFnQixDQUFDLEtBQWpCLENBQXVCLEdBQXZCLENBSlA7TUFLQSxNQUFBLEVBQVEsS0FBQSxD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R0FBRyxDQUFDLElBQUosQ0FBQSxFQUF0Qjs7RUFDQSxJQUFHLE9BQUEsS0FBVyxFQUFkO0lBQXNCLEdBQUcsQ0FBQyxFQUFKLENBQUEsRUFBdEI7O0VBQ0EsSUFBRyxPQUFBLEtBQVcsRUFBZDtJQUFzQixHQUFHLENBQUMsRUFBSixDQUFBLEVBQXRCOztFQUNBLElBQUcsT0FBQSxLQUFXLEVBQWQ7V0FBc0IsR0FBRyxDQUFDLElBQUosQ0FBQSxFQUF0Qjs7QUFKWSIsInNvdXJjZXNDb250ZW50IjpbInNheSA9IChtKSAtPlxyXG5cdHNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKVxyXG5cdG1zZyA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoKVxyXG5cdHZvaWNlcyA9IHNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKVxyXG5cdG1zZy52b2ljZSA9IHZvaWNlc1s1XVxyXG5cdG1zZy52b2ljZVVSSSA9IFwibmF0aXZlXCJcclxuXHRtc2cudm9sdW1lID0gMVxyXG5cdG1zZy5yYXRlID0gMVxyXG5cdG1zZy5waXRjaCA9IDAuOFxyXG5cdG1zZy50ZXh0ID0gbVxyXG5cdG1zZy5sYW5nID0gJ2VuLVVTJ1xyXG5cdHNwZWVjaFN5bnRoZXNpcy5zcGVhayBtc2dcclxuXHJcbmNsYXNzIEdVSVxyXG5cdGNvbnN0cnVjdG9yIDogLT5cclxuXHJcblx0XHRAY3VycmVudCA9IFsnRmFuJ11cclxuXHJcblx0XHRAbWVudSA9XHJcblx0XHRcdEZhbjogcmFuZ2UgNFxyXG5cdFx0XHRUZW1wOiByYW5nZSA2XHJcblx0XHRcdEJsaW5rOiAnT2ZmIExlZnQgUmlnaHQnLnNwbGl0ICcgJ1xyXG5cdFx0XHRNdXNpYzogJ0JlYXRsZXMgSmF6eiBSb2NrIFN0b25lcycuc3BsaXQgJyAnXHJcblx0XHRcdFJhZGlvOiAnUDEgUDIgUDMgUDQgUDUnLnNwbGl0ICcgJ1xyXG5cdFx0XHRWb2x1bWU6IHJhbmdlIDEwXHJcblx0XHRcdFdpcGVyczogcmFuZ2UgNFxyXG5cdFx0XHRCZWFyaW5nOiBbJzAgMCcsJzAgMScsJzAgMicsJzAgMycsJzAgNCcsJzAgNScsJzAgNicsJzAgNycsJzAgOCcsJzAgOScsJzEgMCcsJzEgMScsJzEgMicsJzEgMycsJzEgNCcsJzEgNScsJzEgNicsJzEgNycsJzEgOCcsJzEgOScsJzIgMCcsJzIgMScsJzIgMicsJzIgMycsJzIgNCcsJzIgNScsJzIgNicsJzIgNycsJzIgOCcsJzIgOScsJzMgMCcsJzMgMScsJzMgMicsJzMgMycsJzMgNCcsJzMgNSddXHJcblx0XHRcdERpc3RhbmNlOiAnMTAgMjAgNTAgMTAwIDIwMCA1MDAgMTAwMCAyMDAwIDUwMDAnLnNwbGl0ICcgJ1xyXG5cclxuXHRcdEB2YWx1ZXMgPVxyXG5cdFx0XHRGYW46IDBcclxuXHRcdFx0VGVtcDogMFxyXG5cdFx0XHRCbGluazogJ09mZidcclxuXHRcdFx0TXVzaWM6ICdSb2NrJ1xyXG5cdFx0XHRSYWRpbzogJ1AxJ1xyXG5cdFx0XHRWb2x1bWU6IDVcclxuXHRcdFx0V2lwZXJzOiAwXHJcblx0XHRcdERpc3RhbmNlOiAnNTAwJ1xyXG5cdFx0XHRCZWFyaW5nOiAnMSA4J1xyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdGJnIDAuNVxyXG5cdFx0c2MoKVxyXG5cdFx0dGV4dFNpemUgMjBcclxuXHRcdHRleHQgQGN1cnJlbnRbMF0sNTAsNTBcclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aD09MlxyXG5cdFx0XHR0ZXh0IEBjdXJyZW50WzFdLDcwLDcwXHJcblxyXG5cdHNjcm9sbCA6IChkZWx0YSkgLT5cclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aD09MVxyXG5cdFx0XHRrZXlzMCA9IF8ua2V5cyBAbWVudVxyXG5cdFx0XHRpbmRleCA9IGtleXMwLmluZGV4T2YgQGN1cnJlbnRbQGN1cnJlbnQubGVuZ3RoLTFdXHJcblx0XHRcdGluZGV4ID0gKGluZGV4K2RlbHRhKSAlJSBrZXlzMC5sZW5ndGhcclxuXHRcdFx0QGN1cnJlbnRbQGN1cnJlbnQubGVuZ3RoLTFdID0ga2V5czBbaW5kZXhdXHJcblx0XHRcdHNheSBrZXlzMFtpbmRleF1cclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aD09MlxyXG5cdFx0XHRrZXlzMCA9IF8ua2V5cyBAbWVudVxyXG5cdFx0XHRhcnIgPSBAbWVudVtAY3VycmVudFswXV0gXHJcblx0XHRcdGluZGV4ID0gYXJyLmluZGV4T2YgQGN1cnJlbnRbMV1cclxuXHRcdFx0aW5kZXggPSAoaW5kZXgrZGVsdGEpICUlIGFyci5sZW5ndGhcclxuXHRcdFx0QGN1cnJlbnRbMV0gPSBhcnJbaW5kZXhdXHJcblx0XHRcdEB2YWx1ZXNbQGN1cnJlbnRbMF1dID0gQGN1cnJlbnRbMV1cclxuXHRcdFx0c2F5IEBjdXJyZW50WzFdXHJcblxyXG5cdHVwIDogLT4gQHNjcm9sbCAxXHJcblx0ZG93biA6IC0+IEBzY3JvbGwgLTFcclxuXHRvayA6IC0+XHJcblx0XHRpZiBAY3VycmVudC5sZW5ndGggPT0gMVxyXG5cdFx0XHRAY3VycmVudC5wdXNoIEB2YWx1ZXNbQGN1cnJlbnRbMF1dXHJcblx0XHRcdHNheSBAY3VycmVudFtAY3VycmVudC5sZW5ndGgtMV1cclxuXHRiYWNrIDogLT5cclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aCA+IDFcclxuXHRcdFx0QGN1cnJlbnQucG9wKClcclxuXHRcdFx0c2F5IEBjdXJyZW50W0BjdXJyZW50Lmxlbmd0aC0xXVxyXG5cclxuYXBwID0gbmV3IEdVSVxyXG5cclxuc2V0dXAgPSAtPmNyZWF0ZUNhbnZhcyAyMDAsMjAwXHJcblxyXG5kcmF3ID0gLT4gYXBwLmRyYXcoKVxyXG5cclxua2V5UHJlc3NlZCA9IC0+XHJcblx0aWYga2V5Q29kZSA9PSAzNyB0aGVuIGFwcC5iYWNrKClcclxuXHRpZiBrZXlDb2RlID09IDM4IHRoZW4gYXBwLnVwKClcclxuXHRpZiBrZXlDb2RlID09IDM5IHRoZW4gYXBwLm9rKClcclxuXHRpZiBrZXlDb2RlID09IDQwIHRoZW4gYXBwLmRvd24oKVxyXG4iXX0=
//# sourceURL=C:\Lab\2019\041-GUI2\coffee\sketch.coffee