// Generated by CoffeeScript 2.3.2
var GUI, app, draw, keyPressed, say, setup,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

say = function(m) {
  var msg, voices;
  speechSynthesis.cancel();
  msg = new SpeechSynthesisUtterance();
  voices = speechSynthesis.getVoices();
  msg.voice = voices[5];
  
  // 5 = british male
  msg.voiceURI = "native";
  msg.volume = 1;
  msg.rate = 1;
  msg.pitch = 0.8;
  msg.text = m;
  msg.lang = 'en-US';
  return speechSynthesis.speak(msg);
};

GUI = class GUI {
  constructor() {
    this.current = ['Fan'];
    this.menu = {
      Fan: range(4),
      Temp: range(6),
      Blink: 'Off Left Right'.split(' '),
      Music: 'Beatles Jazz Rock Stones'.split(' '),
      Radio: 'P1 P2 P3 P4 P5'.split(' '),
      Volume: range(10),
      Wipers: range(4),
      Bearing: ['0 0', '0 1', '0 2', '0 3', '0 4', '0 5', '0 6', '0 7', '0 8', '0 9', '1 0', '1 1', '1 2', '1 3', '1 4', '1 5', '1 6', '1 7', '1 8', '1 9', '2 0', '2 1', '2 2', '2 3', '2 4', '2 5', '2 6', '2 7', '2 8', '2 9', '3 0', '3 1', '3 2', '3 3', '3 4', '3 5'],
      Distance: '10 20 50 100 200 500 1000 2000 5000'.split(' ')
    };
    this.values = {
      Fan: 0,
      Temp: 0,
      Blink: 'Off',
      Music: 'Rock',
      Radio: 'P1',
      Volume: 5,
      Wipers: 0,
      Distance: '500',
      Bearing: '1 8'
    };
  }

  draw() {
    bg(0.5);
    sc();
    textSize(20);
    text(this.current[0], 50, 50);
    if (this.current.length === 2) {
      return text(this.current[1], 70, 70);
    }
  }

  scroll(delta) {
    var arr, index, keys0;
    if (this.current.length === 1) {
      keys0 = _.keys(this.menu);
      index = keys0.indexOf(this.current[this.current.length - 1]);
      index = modulo(index + delta, keys0.length);
      this.current[this.current.length - 1] = keys0[index];
      say(keys0[index]);
    }
    if (this.current.length === 2) {
      keys0 = _.keys(this.menu);
      arr = this.menu[this.current[0]];
      index = arr.indexOf(this.current[1]);
      index = modulo(index + delta, arr.length);
      this.current[1] = arr[index];
      this.values[this.current[0]] = this.current[1];
      return say(this.current[1]);
    }
  }

  up() {
    return this.scroll(1);
  }

  down() {
    return this.scroll(-1);
  }

  ok() {
    if (this.current.length === 1) {
      this.current.push(this.values[this.current[0]]);
      return say(this.current[this.current.length - 1]);
    }
  }

  back() {
    if (this.current.length > 1) {
      this.current.pop();
      return say(this.current[this.current.length - 1]);
    }
  }

};

app = new GUI;

setup = function() {
  return createCanvas(200, 200);
};

draw = function() {
  return app.draw();
};

keyPressed = function() {
  if (keyCode === 37) {
    app.back();
  }
  if (keyCode === 38) {
    app.up();
  }
  if (keyCode === 39) {
    app.ok();
  }
  if (keyCode === 40) {
    return app.down();
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsVUFBQSxFQUFBLEdBQUEsRUFBQSxLQUFBO0VBQUE7O0FBQUEsR0FBQSxHQUFNLFFBQUEsQ0FBQyxDQUFELENBQUE7QUFDTCxNQUFBLEdBQUEsRUFBQTtFQUFBLGVBQWUsQ0FBQyxNQUFoQixDQUFBO0VBQ0EsR0FBQSxHQUFNLElBQUksd0JBQUosQ0FBQTtFQUNOLE1BQUEsR0FBUyxlQUFlLENBQUMsU0FBaEIsQ0FBQTtFQUVULEdBQUcsQ0FBQyxLQUFKLEdBQVksTUFBTyxDQUFBLENBQUEsRUFKbkI7OztFQU9BLEdBQUcsQ0FBQyxRQUFKLEdBQWU7RUFDZixHQUFHLENBQUMsTUFBSixHQUFhO0VBQ2IsR0FBRyxDQUFDLElBQUosR0FBVztFQUNYLEdBQUcsQ0FBQyxLQUFKLEdBQVk7RUFDWixHQUFHLENBQUMsSUFBSixHQUFXO0VBQ1gsR0FBRyxDQUFDLElBQUosR0FBVztTQUNYLGVBQWUsQ0FBQyxLQUFoQixDQUFzQixHQUF0QjtBQWRLOztBQWdCQSxNQUFOLE1BQUEsSUFBQTtFQUNDLFdBQWMsQ0FBQSxDQUFBO0lBRWIsSUFBQyxDQUFBLE9BQUQsR0FBVyxDQUFDLEtBQUQ7SUFFWCxJQUFDLENBQUEsSUFBRCxHQUNDO01BQUEsR0FBQSxFQUFLLEtBQUEsQ0FBTSxDQUFOLENBQUw7TUFDQSxJQUFBLEVBQU0sS0FBQSxDQUFNLENBQU4sQ0FETjtNQUVBLEtBQUEsRUFBTyxnQkFBZ0IsQ0FBQyxLQUFqQixDQUF1QixHQUF2QixDQUZQO01BR0EsS0FBQSxFQUFPLDBCQUEwQixDQUFDLEtBQTNCLENBQWlDLEdBQWpDLENBSFA7TUFJQSxLQUFBLEVBQU8sZ0JBQWdCLENBQUMsS0FBakIsQ0FBdUIsR0FBdkIsQ0FKUDtNQUtBLE1BQUEsRUFB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ZDtJQUFzQixHQUFHLENBQUMsSUFBSixDQUFBLEVBQXRCOztFQUNBLElBQUcsT0FBQSxLQUFXLEVBQWQ7SUFBc0IsR0FBRyxDQUFDLEVBQUosQ0FBQSxFQUF0Qjs7RUFDQSxJQUFHLE9BQUEsS0FBVyxFQUFkO0lBQXNCLEdBQUcsQ0FBQyxFQUFKLENBQUEsRUFBdEI7O0VBQ0EsSUFBRyxPQUFBLEtBQVcsRUFBZDtXQUFzQixHQUFHLENBQUMsSUFBSixDQUFBLEVBQXRCOztBQUpZIiwic291cmNlc0NvbnRlbnQiOlsic2F5ID0gKG0pIC0+XHJcblx0c3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpXHJcblx0bXNnID0gbmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSgpXHJcblx0dm9pY2VzID0gc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpXHJcblx0XHJcblx0bXNnLnZvaWNlID0gdm9pY2VzWzVdIFxyXG5cdCMgNSA9IGJyaXRpc2ggbWFsZVxyXG5cdFxyXG5cdG1zZy52b2ljZVVSSSA9IFwibmF0aXZlXCJcclxuXHRtc2cudm9sdW1lID0gMVxyXG5cdG1zZy5yYXRlID0gMVxyXG5cdG1zZy5waXRjaCA9IDAuOFxyXG5cdG1zZy50ZXh0ID0gbVxyXG5cdG1zZy5sYW5nID0gJ2VuLVVTJ1xyXG5cdHNwZWVjaFN5bnRoZXNpcy5zcGVhayBtc2dcclxuXHJcbmNsYXNzIEdVSVxyXG5cdGNvbnN0cnVjdG9yIDogLT5cclxuXHJcblx0XHRAY3VycmVudCA9IFsnRmFuJ11cclxuXHJcblx0XHRAbWVudSA9XHJcblx0XHRcdEZhbjogcmFuZ2UgNFxyXG5cdFx0XHRUZW1wOiByYW5nZSA2XHJcblx0XHRcdEJsaW5rOiAnT2ZmIExlZnQgUmlnaHQnLnNwbGl0ICcgJ1xyXG5cdFx0XHRNdXNpYzogJ0JlYXRsZXMgSmF6eiBSb2NrIFN0b25lcycuc3BsaXQgJyAnXHJcblx0XHRcdFJhZGlvOiAnUDEgUDIgUDMgUDQgUDUnLnNwbGl0ICcgJ1xyXG5cdFx0XHRWb2x1bWU6IHJhbmdlIDEwXHJcblx0XHRcdFdpcGVyczogcmFuZ2UgNFxyXG5cdFx0XHRCZWFyaW5nOiBbJzAgMCcsJzAgMScsJzAgMicsJzAgMycsJzAgNCcsJzAgNScsJzAgNicsJzAgNycsJzAgOCcsJzAgOScsJzEgMCcsJzEgMScsJzEgMicsJzEgMycsJzEgNCcsJzEgNScsJzEgNicsJzEgNycsJzEgOCcsJzEgOScsJzIgMCcsJzIgMScsJzIgMicsJzIgMycsJzIgNCcsJzIgNScsJzIgNicsJzIgNycsJzIgOCcsJzIgOScsJzMgMCcsJzMgMScsJzMgMicsJzMgMycsJzMgNCcsJzMgNSddXHJcblx0XHRcdERpc3RhbmNlOiAnMTAgMjAgNTAgMTAwIDIwMCA1MDAgMTAwMCAyMDAwIDUwMDAnLnNwbGl0ICcgJ1xyXG5cclxuXHRcdEB2YWx1ZXMgPVxyXG5cdFx0XHRGYW46IDBcclxuXHRcdFx0VGVtcDogMFxyXG5cdFx0XHRCbGluazogJ09mZidcclxuXHRcdFx0TXVzaWM6ICdSb2NrJ1xyXG5cdFx0XHRSYWRpbzogJ1AxJ1xyXG5cdFx0XHRWb2x1bWU6IDVcclxuXHRcdFx0V2lwZXJzOiAwXHJcblx0XHRcdERpc3RhbmNlOiAnNTAwJ1xyXG5cdFx0XHRCZWFyaW5nOiAnMSA4J1xyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdGJnIDAuNVxyXG5cdFx0c2MoKVxyXG5cdFx0dGV4dFNpemUgMjBcclxuXHRcdHRleHQgQGN1cnJlbnRbMF0sNTAsNTBcclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aD09MlxyXG5cdFx0XHR0ZXh0IEBjdXJyZW50WzFdLDcwLDcwXHJcblxyXG5cdHNjcm9sbCA6IChkZWx0YSkgLT5cclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aD09MVxyXG5cdFx0XHRrZXlzMCA9IF8ua2V5cyBAbWVudVxyXG5cdFx0XHRpbmRleCA9IGtleXMwLmluZGV4T2YgQGN1cnJlbnRbQGN1cnJlbnQubGVuZ3RoLTFdXHJcblx0XHRcdGluZGV4ID0gKGluZGV4K2RlbHRhKSAlJSBrZXlzMC5sZW5ndGhcclxuXHRcdFx0QGN1cnJlbnRbQGN1cnJlbnQubGVuZ3RoLTFdID0ga2V5czBbaW5kZXhdXHJcblx0XHRcdHNheSBrZXlzMFtpbmRleF1cclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aD09MlxyXG5cdFx0XHRrZXlzMCA9IF8ua2V5cyBAbWVudVxyXG5cdFx0XHRhcnIgPSBAbWVudVtAY3VycmVudFswXV0gXHJcblx0XHRcdGluZGV4ID0gYXJyLmluZGV4T2YgQGN1cnJlbnRbMV1cclxuXHRcdFx0aW5kZXggPSAoaW5kZXgrZGVsdGEpICUlIGFyci5sZW5ndGhcclxuXHRcdFx0QGN1cnJlbnRbMV0gPSBhcnJbaW5kZXhdXHJcblx0XHRcdEB2YWx1ZXNbQGN1cnJlbnRbMF1dID0gQGN1cnJlbnRbMV1cclxuXHRcdFx0c2F5IEBjdXJyZW50WzFdXHJcblxyXG5cdHVwIDogLT4gQHNjcm9sbCAxXHJcblx0ZG93biA6IC0+IEBzY3JvbGwgLTFcclxuXHRvayA6IC0+XHJcblx0XHRpZiBAY3VycmVudC5sZW5ndGggPT0gMVxyXG5cdFx0XHRAY3VycmVudC5wdXNoIEB2YWx1ZXNbQGN1cnJlbnRbMF1dXHJcblx0XHRcdHNheSBAY3VycmVudFtAY3VycmVudC5sZW5ndGgtMV1cclxuXHRiYWNrIDogLT5cclxuXHRcdGlmIEBjdXJyZW50Lmxlbmd0aCA+IDFcclxuXHRcdFx0QGN1cnJlbnQucG9wKClcclxuXHRcdFx0c2F5IEBjdXJyZW50W0BjdXJyZW50Lmxlbmd0aC0xXVxyXG5cclxuYXBwID0gbmV3IEdVSVxyXG5cclxuc2V0dXAgPSAtPmNyZWF0ZUNhbnZhcyAyMDAsMjAwXHJcblxyXG5kcmF3ID0gLT4gYXBwLmRyYXcoKVxyXG5cclxua2V5UHJlc3NlZCA9IC0+XHJcblx0aWYga2V5Q29kZSA9PSAzNyB0aGVuIGFwcC5iYWNrKClcclxuXHRpZiBrZXlDb2RlID09IDM4IHRoZW4gYXBwLnVwKClcclxuXHRpZiBrZXlDb2RlID09IDM5IHRoZW4gYXBwLm9rKClcclxuXHRpZiBrZXlDb2RlID09IDQwIHRoZW4gYXBwLmRvd24oKVxyXG4iXX0=
//# sourceURL=C:\Lab\2019\041-GUI2\coffee\sketch.coffee